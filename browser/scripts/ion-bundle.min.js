!function(e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ion=e()}(function(){return function n(i,a,s){function o(t,e){if(!a[t]){if(!i[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=a[t]={exports:{}},i[t][0].call(r.exports,function(e){return o(i[t][1][e]||e)},r,r.exports,n,i,a,s)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)o(s[e]);return o}({1:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.AbstractWriter=void 0;var s=e("./IonTypes"),e=function(){function e(){(0,i.default)(this,e),this._annotations=[]}return(0,a.default)(e,[{key:"addAnnotation",value:function(e){if(!this._isString(e))throw new Error("Annotation must be of type string.");this._annotations.push(e)}},{key:"setAnnotations",value:function(e){if(null==e)throw new Error("Annotations were undefined or null.");if(!this._validateAnnotations(e))throw new Error("Annotations must be of type string[].");this._annotations=e}},{key:"writeValues",value:function(e){this._writeValues(e)}},{key:"writeValue",value:function(e){this._writeValue(e)}},{key:"_clearAnnotations",value:function(){this._annotations=[]}},{key:"_writeValues",value:function(e){var t=e.type();for(null===t&&(t=e.next());null!==t;)this._writeValue(e),t=e.next()}},{key:"_writeValue",value:function(e){var t=e.type();if(null!==t){if(this._isInStruct()){var r=e.fieldName();if(null===r)throw new Error("Cannot call writeValue() when the Writer is in a Struct but the Reader is not.");this.writeFieldName(r)}if(this.setAnnotations(e.annotations()),e.isNull())this.writeNull(t);else{switch(t){case s.IonTypes.BOOL:this.writeBoolean(e.booleanValue());break;case s.IonTypes.INT:this.writeInt(e.bigIntValue());break;case s.IonTypes.FLOAT:this.writeFloat64(e.numberValue());break;case s.IonTypes.DECIMAL:this.writeDecimal(e.decimalValue());break;case s.IonTypes.TIMESTAMP:this.writeTimestamp(e.timestampValue());break;case s.IonTypes.SYMBOL:this.writeSymbol(e.stringValue());break;case s.IonTypes.STRING:this.writeString(e.stringValue());break;case s.IonTypes.CLOB:this.writeClob(e.byteValue());break;case s.IonTypes.BLOB:this.writeBlob(e.byteValue());break;case s.IonTypes.LIST:this.stepIn(s.IonTypes.LIST);break;case s.IonTypes.SEXP:this.stepIn(s.IonTypes.SEXP);break;case s.IonTypes.STRUCT:this.stepIn(s.IonTypes.STRUCT);break;default:throw new Error("Unrecognized type "+(null!==t?t.name:t))}t.isContainer&&(e.stepIn(),this._writeValues(e),this.stepOut(),e.stepOut())}}}},{key:"_validateAnnotations",value:function(e){if(!Array.isArray(e))return!1;for(var t=0;t<e.length;t++)if(!this._isString(e[t]))return!1;return!0}},{key:"_isString",value:function(e){return"string"==typeof e}}]),e}();r.AbstractWriter=e},{"./IonTypes":28,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],2:[function(e,t,r){"use strict";var a,s=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/classCallCheck"));Object.defineProperty(r,"__esModule",{value:!0}),r.ComparisonResult=r.ComparisonResultType=void 0,(e=a=r.ComparisonResultType||(r.ComparisonResultType={})).EQUAL="EQUAL",e.NOT_EQUAL="NOT_EQUAL",e.ERROR="ERROR";e=function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:a.EQUAL,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;(0,s.default)(this,e),this.result=t,this.message=r,this.actualIndex=n,this.expectedIndex=i};r.ComparisonResult=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/interopRequireDefault":69}],3:[function(e,t,r){"use strict";var n,i;Object.defineProperty(r,"__esModule",{value:!0}),r.IntSize=void 0,(i=n=r.IntSize||(r.IntSize={}))[i.Number=0]="Number",i[i.BigInt=1]="BigInt",r.default=n},{}],4:[function(e,t,r){"use strict";function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var n=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},a=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},s=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return a(t,e),t},u=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.dom=r.IntSize=r.dumpPrettyText=r.dumpText=r.dumpBinary=r.makeBinaryWriter=r.makePrettyWriter=r.makeTextWriter=r.makeReader=void 0;u=u(e("./IntSize"));r.IntSize=u.default;var l=e("./IonBinaryReader"),c=e("./IonBinaryWriter"),h=e("./IonConstants"),f=e("./IonLocalSymbolTable"),_=e("./IonPrettyTextWriter"),p=e("./IonSpan"),d=e("./IonTextReader"),y=e("./IonTextWriter"),b=e("./IonUnicode"),v=e("./IonWriteable");function m(){return new y.TextWriter(new v.Writeable)}function g(e){return new _.PrettyTextWriter(new v.Writeable,e)}function T(){var e=f.defaultLocalSymbolTable();return new c.BinaryWriter(e,new v.Writeable)}function w(e,t){var r=i(t);try{for(r.s();!(n=r.n()).done;){var n=n.value;L.Value.from(n).writeTo(e)}}catch(e){r.e(e)}finally{r.f()}return e.close(),e.getBytes()}r.makeReader=function(e){return"string"==typeof e?new d.TextReader(new p.StringSpan(e)):function(e){if(!(e.length<4)){for(var t=0;t<4;t++)if(e[t]!==h.IVM.binary[t])return;return 1}}(e=new Uint8Array(e))?new l.BinaryReader(new p.BinarySpan(e)):new d.TextReader(new p.StringSpan(b.decodeUtf8(e)))},r.makeTextWriter=m,r.makePrettyWriter=g,r.makeBinaryWriter=T,r.dumpBinary=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return w(T(),t)},r.dumpText=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.decodeUtf8(w(m(),t))},r.dumpPrettyText=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return b.decodeUtf8(w(g(),t))};var I=e("./IonCatalog");Object.defineProperty(r,"Catalog",{enumerable:!0,get:function(){return I.Catalog}});var S=e("./IonDecimal");Object.defineProperty(r,"Decimal",{enumerable:!0,get:function(){return S.Decimal}});var C=e("./IonLocalSymbolTable");Object.defineProperty(r,"defaultLocalSymbolTable",{enumerable:!0,get:function(){return C.defaultLocalSymbolTable}});var E=e("./IonType");Object.defineProperty(r,"IonType",{enumerable:!0,get:function(){return E.IonType}});var k=e("./IonTypes");Object.defineProperty(r,"IonTypes",{enumerable:!0,get:function(){return k.IonTypes}});var O=e("./IonSharedSymbolTable");Object.defineProperty(r,"SharedSymbolTable",{enumerable:!0,get:function(){return O.SharedSymbolTable}});var A=e("./IonTimestamp");Object.defineProperty(r,"TimestampPrecision",{enumerable:!0,get:function(){return A.TimestampPrecision}}),Object.defineProperty(r,"Timestamp",{enumerable:!0,get:function(){return A.Timestamp}});var N=e("./IonText");Object.defineProperty(r,"toBase64",{enumerable:!0,get:function(){return N.toBase64}});var R=e("./IonUnicode");Object.defineProperty(r,"decodeUtf8",{enumerable:!0,get:function(){return R.decodeUtf8}});var L=s(e("./dom"));r.dom=L;var B=e("./dom");Object.defineProperty(r,"load",{enumerable:!0,get:function(){return B.load}}),Object.defineProperty(r,"loadAll",{enumerable:!0,get:function(){return B.loadAll}});var D=e("./events/IonEvent");Object.defineProperty(r,"IonEventType",{enumerable:!0,get:function(){return D.IonEventType}}),Object.defineProperty(r,"IonEventFactory",{enumerable:!0,get:function(){return D.IonEventFactory}});var U=e("./events/IonEventStream");Object.defineProperty(r,"IonEventStream",{enumerable:!0,get:function(){return U.IonEventStream}});var V=e("./events/EventStreamError");Object.defineProperty(r,"EventStreamError",{enumerable:!0,get:function(){return V.EventStreamError}});var M=e("./ComparisonResult");Object.defineProperty(r,"ComparisonResult",{enumerable:!0,get:function(){return M.ComparisonResult}}),Object.defineProperty(r,"ComparisonResultType",{enumerable:!0,get:function(){return M.ComparisonResultType}})},{"./ComparisonResult":2,"./IntSize":3,"./IonBinaryReader":6,"./IonBinaryWriter":7,"./IonCatalog":8,"./IonConstants":9,"./IonDecimal":10,"./IonLocalSymbolTable":12,"./IonPrettyTextWriter":16,"./IonSharedSymbolTable":17,"./IonSpan":18,"./IonText":23,"./IonTextReader":24,"./IonTextWriter":25,"./IonTimestamp":26,"./IonType":27,"./IonTypes":28,"./IonUnicode":29,"./IonWriteable":30,"./dom":52,"./events/EventStreamError":53,"./events/IonEvent":54,"./events/IonEventStream":55}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.TB_ANNOTATION=r.TB_STRUCT=r.TB_SEXP=r.TB_LIST=r.TB_BLOB=r.TB_CLOB=r.TB_STRING=r.TB_SYMBOL=r.TB_TIMESTAMP=r.TB_DECIMAL=r.TB_FLOAT=r.TB_NEG_INT=r.TB_INT=r.TB_BOOL=r.TB_NULL=r.LEN_NULL=r.LEN_VAR=r.LEN_MASK=r.BYTE_SHIFT=r.TYPE_SHIFT=r.BYTE_MASK=r.NIBBLE_MASK=void 0,r.NIBBLE_MASK=15,r.BYTE_MASK=255,r.TYPE_SHIFT=4,r.BYTE_SHIFT=8,r.LEN_MASK=15,r.LEN_VAR=14,r.LEN_NULL=15,r.TB_NULL=0,r.TB_BOOL=1,r.TB_INT=2,r.TB_NEG_INT=3,r.TB_FLOAT=4,r.TB_DECIMAL=5,r.TB_TIMESTAMP=6,r.TB_SYMBOL=7,r.TB_STRING=8,r.TB_CLOB=9,r.TB_BLOB=10,r.TB_LIST=11,r.TB_SEXP=12,r.TB_STRUCT=13,r.TB_ANNOTATION=14},{}],6:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.BinaryReader=void 0;var s=n(e("./IntSize")),o=e("./IonCatalog"),u=e("./IonConstants"),l=e("./IonLocalSymbolTable"),c=e("./IonParserBinaryRaw"),h=e("./IonSymbols"),f=e("./IonTypes"),_=e("./JsbiSupport"),p=-2;function d(e){switch(e){case 0:return f.IonTypes.NULL;case 1:return f.IonTypes.BOOL;case 2:case 3:return f.IonTypes.INT;case 4:return f.IonTypes.FLOAT;case 5:return f.IonTypes.DECIMAL;case 6:return f.IonTypes.TIMESTAMP;case 7:return f.IonTypes.SYMBOL;case 8:return f.IonTypes.STRING;case 9:return f.IonTypes.CLOB;case 10:return f.IonTypes.BLOB;case 11:return f.IonTypes.LIST;case 12:return f.IonTypes.SEXP;case 13:return f.IonTypes.STRUCT;default:return null}}e=function(){function r(e,t){(0,i.default)(this,r),this._annotations=null,this._parser=new c.ParserBinaryRaw(e),this._cat=t||new o.Catalog,this._symtab=l.defaultLocalSymbolTable(),this._raw_type=p}return(0,a.default)(r,[{key:"next",value:function(){if(this._annotations=null,-1===this._raw_type)return null;for(this._raw_type=this._parser.next();0===this.depth();this._raw_type=this._parser.next())if(7===this._raw_type){if(this._parser._getSid()!==u.IVM.sid)break;this._symtab=l.defaultLocalSymbolTable()}else{if(13!==this._raw_type)break;if(!this._parser.hasAnnotations())break;if(this._parser.getAnnotation(0)!==h.ion_symbol_table_sid)break;this._symtab=h.makeSymbolTable(this._cat,this)}return d(this._raw_type)}},{key:"stepIn",value:function(){if(!d(this._raw_type).isContainer)throw new Error("Can't step in to a scalar value");this._parser.stepIn(),this._raw_type=p}},{key:"stepOut",value:function(){this._parser.stepOut(),this._raw_type=p}},{key:"type",value:function(){return d(this._raw_type)}},{key:"depth",value:function(){return this._parser.depth()}},{key:"fieldName",value:function(){return this.getSymbolString(this._parser.getFieldId())}},{key:"hasAnnotations",value:function(){return this._parser.hasAnnotations()}},{key:"annotations",value:function(){return this._loadAnnotations(),null!==this._annotations?this._annotations:[]}},{key:"getAnnotation",value:function(e){return this._loadAnnotations(),this._annotations[e]}},{key:"isNull",value:function(){return 0===this._raw_type||this._parser.isNull()}},{key:"byteValue",value:function(){return this._parser.byteValue()}},{key:"booleanValue",value:function(){return this._parser.booleanValue()}},{key:"decimalValue",value:function(){return this._parser.decimalValue()}},{key:"bigIntValue",value:function(){return this._parser.bigIntValue()}},{key:"intSize",value:function(){return _.JsbiSupport.isSafeInteger(this.bigIntValue())?s.default.Number:s.default.BigInt}},{key:"numberValue",value:function(){return this._parser.numberValue()}},{key:"stringValue",value:function(){var e=this._parser;switch(d(this._raw_type)){case f.IonTypes.NULL:return null;case f.IonTypes.STRING:return this.isNull()?null:e.stringValue();case f.IonTypes.SYMBOL:if(this.isNull())return null;var t=e._getSid();if(null!==t)return this.getSymbolString(t)}throw new Error("Current value is not a string or symbol.")}},{key:"timestampValue",value:function(){return this._parser.timestampValue()}},{key:"value",value:function(){var e=this.type();if(e&&e.isContainer){if(this.isNull())return null;throw new Error("Unable to provide a value for "+e.name+" containers.")}switch(e){case f.IonTypes.NULL:return null;case f.IonTypes.BLOB:case f.IonTypes.CLOB:return this.byteValue();case f.IonTypes.BOOL:return this.booleanValue();case f.IonTypes.DECIMAL:return this.decimalValue();case f.IonTypes.INT:return this.bigIntValue();case f.IonTypes.FLOAT:return this.numberValue();case f.IonTypes.STRING:case f.IonTypes.SYMBOL:return this.stringValue();case f.IonTypes.TIMESTAMP:return this.timestampValue();default:throw new Error("There is no current value.")}}},{key:"_loadAnnotations",value:function(){var t=this;null===this._annotations&&(this._annotations=[],this._parser.getAnnotations().forEach(function(e){t._annotations.push(t.getSymbolString(e))}))}},{key:"getSymbolString",value:function(e){var t=null;if(null===e)return null;if(0<e){if(void 0===(t=this._symtab.getSymbolText(e)))throw new Error("symbol is unresolvable")}else{if(0===e)throw new Error("Symbol ID zero is unsupported");if(e<0)throw new Error("Negative symbol ID: "+e+" is illegal.")}return t}}]),r}();r.BinaryReader=e},{"./IntSize":3,"./IonCatalog":8,"./IonConstants":9,"./IonLocalSymbolTable":12,"./IonParserBinaryRaw":14,"./IonSymbols":21,"./IonTypes":28,"./JsbiSupport":32,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],7:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),s=n(e("@babel/runtime/helpers/get")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/inherits")),i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),c=n(e("@babel/runtime/helpers/getPrototypeOf"));function h(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,c.default)(r);return t=n?(e=(0,c.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,t)}}n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.NullNode=r.LeafNode=r.AbstractNode=r.BinaryWriter=void 0;var a,p,d=n(e("jsbi")),n=e("./AbstractWriter"),y=e("./IonLowLevelBinaryWriter"),b=e("./IonTimestamp"),v=e("./IonTypes"),m=e("./IonUnicode"),g=e("./IonWriteable"),T=e("./JsbiSerde"),w=e("./JsbiSupport"),I=e("./util"),S=new Uint8Array;(e=a=a||{})[e.VALUE=0]="VALUE",e[e.STRUCT_FIELD=1]="STRUCT_FIELD",e[e.STRUCT_VALUE=2]="STRUCT_VALUE",e[e.CLOSED=3]="CLOSED",(e=p=p||{})[e.NULL=0]="NULL",e[e.BOOL=1]="BOOL",e[e.POSITIVE_INT=2]="POSITIVE_INT",e[e.NEGATIVE_INT=3]="NEGATIVE_INT",e[e.FLOAT=4]="FLOAT",e[e.DECIMAL=5]="DECIMAL",e[e.TIMESTAMP=6]="TIMESTAMP",e[e.SYMBOL=7]="SYMBOL",e[e.STRING=8]="STRING",e[e.CLOB=9]="CLOB",e[e.BLOB=10]="BLOB",e[e.LIST=11]="LIST",e[e.SEXP=12]="SEXP",e[e.STRUCT=13]="STRUCT",e[e.ANNOTATION=14]="ANNOTATION";n=function(e){(0,l.default)(i,e);var n=_(i);function i(e,t){var r;return(0,o.default)(this,i),(r=n.call(this)).datagram=[],r.containers=[],r.state=a.VALUE,r.symbolTable=e,r.writer=new y.LowLevelBinaryWriter(t),r}return(0,u.default)(i,[{key:"getBytes",value:function(){return this.writer.getBytes()}},{key:"writeBlob",value:function(e){I._assertDefined(e),this.checkWriteValue(),null!==e?this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.BLOB,this.encodeAnnotations(this._annotations),e)):this.writeNull(v.IonTypes.BLOB)}},{key:"writeBoolean",value:function(e){I._assertDefined(e),this.checkWriteValue(),null!==e?this.addNode(new N(this.writer,this.getCurrentContainer(),this.encodeAnnotations(this._annotations),e)):this.writeNull(v.IonTypes.BOOL)}},{key:"writeClob",value:function(e){I._assertDefined(e),this.checkWriteValue(),null!==e?this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.CLOB,this.encodeAnnotations(this._annotations),e)):this.writeNull(v.IonTypes.CLOB)}},{key:"writeDecimal",value:function(e){var t,r,n;I._assertDefined(e),this.checkWriteValue(),null!==e?(t=e.getExponent(),r=e.getCoefficient(),d.default.equal(r,w.JsbiSupport.ZERO)&&!e.isNegative()&&0===t&&1===I._sign(t)?this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.DECIMAL,this.encodeAnnotations(this._annotations),new Uint8Array(0))):(r=(e=(n=e.isNegative())||d.default.notEqual(r,w.JsbiSupport.ZERO))?T.JsbiSerde.toSignedIntBytes(r,n):S,n=y.LowLevelBinaryWriter.getVariableLengthSignedIntSize(t)+(e?r.length:0),(n=new y.LowLevelBinaryWriter(new g.Writeable(n))).writeVariableLengthSignedInt(t),e&&n.writeBytes(r),this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.DECIMAL,this.encodeAnnotations(this._annotations),n.getBytes())))):this.writeNull(v.IonTypes.DECIMAL)}},{key:"writeFloat32",value:function(e){var t;I._assertDefined(e),this.checkWriteValue(),null!==e?(t=Object.is(e,0)?new Uint8Array(0):(t=new ArrayBuffer(4),new DataView(t).setFloat32(0,e,!1),new Uint8Array(t)),this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.FLOAT,this.encodeAnnotations(this._annotations),t))):this.writeNull(v.IonTypes.FLOAT)}},{key:"writeFloat64",value:function(e){var t;I._assertDefined(e),this.checkWriteValue(),null!==e?(t=Object.is(e,0)?new Uint8Array(0):(t=new ArrayBuffer(8),new DataView(t).setFloat64(0,e,!1),new Uint8Array(t)),this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.FLOAT,this.encodeAnnotations(this._annotations),t))):this.writeNull(v.IonTypes.FLOAT)}},{key:"writeInt",value:function(e){I._assertDefined(e),this.checkWriteValue(),null!==e?this.addNode(new R(this.writer,this.getCurrentContainer(),this.encodeAnnotations(this._annotations),e)):this.writeNull(v.IonTypes.INT)}},{key:"writeNull",value:function(e){null==e&&(e=v.IonTypes.NULL),this.checkWriteValue(),this.addNode(new B(this.writer,this.getCurrentContainer(),e,this.encodeAnnotations(this._annotations)))}},{key:"writeString",value:function(e){I._assertDefined(e),this.checkWriteValue(),null!==e?this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.STRING,this.encodeAnnotations(this._annotations),m.encodeUtf8(e))):this.writeNull(v.IonTypes.STRING)}},{key:"writeSymbol",value:function(e){var t;I._assertDefined(e),this.checkWriteValue(),null===e?this.writeNull(v.IonTypes.SYMBOL):(t=this.symbolTable.addSymbol(e),(e=new y.LowLevelBinaryWriter(new g.Writeable(y.LowLevelBinaryWriter.getUnsignedIntSize(t)))).writeUnsignedInt(t),this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.SYMBOL,this.encodeAnnotations(this._annotations),e.getBytes())))}},{key:"writeTimestamp",value:function(e){var t,r;I._assertDefined(e),this.checkWriteValue(),null!==e?((t=new y.LowLevelBinaryWriter(new g.Writeable(12))).writeVariableLengthSignedInt(e.getLocalOffset()),r=e.getDate(),t.writeVariableLengthUnsignedInt(r.getUTCFullYear()),e.getPrecision()>=b.TimestampPrecision.MONTH&&t.writeVariableLengthUnsignedInt(r.getUTCMonth()+1),e.getPrecision()>=b.TimestampPrecision.DAY&&t.writeVariableLengthUnsignedInt(r.getUTCDate()),e.getPrecision()>=b.TimestampPrecision.HOUR_AND_MINUTE&&(t.writeVariableLengthUnsignedInt(r.getUTCHours()),t.writeVariableLengthUnsignedInt(r.getUTCMinutes())),e.getPrecision()>=b.TimestampPrecision.SECONDS&&(t.writeVariableLengthUnsignedInt(e.getSecondsInt()),0!==(e=e._getFractionalSeconds()).getExponent()&&(t.writeVariableLengthSignedInt(e.getExponent()),w.JsbiSupport.isZero(e.getCoefficient())||t.writeBytes(T.JsbiSerde.toSignedIntBytes(e.getCoefficient(),e.isNegative())))),this.addNode(new L(this.writer,this.getCurrentContainer(),v.IonTypes.TIMESTAMP,this.encodeAnnotations(this._annotations),t.getBytes()))):this.writeNull(v.IonTypes.TIMESTAMP)}},{key:"stepIn",value:function(e){switch(this.checkWriteValue(),e){case v.IonTypes.LIST:case v.IonTypes.SEXP:this.addNode(new k(this.writer,this.getCurrentContainer(),e,this.encodeAnnotations(this._annotations)));break;case v.IonTypes.STRUCT:this.addNode(new O(this.writer,this.getCurrentContainer(),this.encodeAnnotations(this._annotations))),this.state=a.STRUCT_FIELD;break;default:throw new Error("Unrecognized container type")}}},{key:"stepOut",value:function(){if(0===this.depth())throw new Error("Not currently in a container");if(this.state===a.STRUCT_VALUE)throw new Error("Cannot exit a struct with a partially written field");this.containers.pop(),0<this.depth()?this.state=this.getCurrentContainer()instanceof O?a.STRUCT_FIELD:a.VALUE:this.state=a.VALUE}},{key:"_isInStruct",value:function(){return this.getCurrentContainer()instanceof O}},{key:"writeFieldName",value:function(e){if(I._assertDefined(e),this.state!==a.STRUCT_FIELD)throw new Error("Cannot write a field name outside of a struct");this.fieldName=this.encodeAnnotations([e]),this.state=a.STRUCT_VALUE}},{key:"depth",value:function(){return this.containers.length}},{key:"close",value:function(){if(this.checkClosed(),0<this.depth())throw new Error("Writer has one or more open containers; call stepOut() for each container prior to close()");this.writeIvm();var e=this.datagram;this.datagram=[],this.writeSymbolTable();var t,r=h(e);try{for(r.s();!(t=r.n()).done;)t.value.write()}catch(e){r.e(e)}finally{r.f()}this.state=a.CLOSED}},{key:"writeIvm",value:function(){this.writer.writeByte(224),this.writer.writeByte(1),this.writer.writeByte(0),this.writer.writeByte(234)}},{key:"encodeAnnotations",value:function(e){if(0===e.length)return new Uint8Array(0);var t=new g.Writeable,r=new y.LowLevelBinaryWriter(t),n=h(e);try{for(n.s();!(i=n.n()).done;){var i=i.value,i=this.symbolTable.addSymbol(i);r.writeVariableLengthUnsignedInt(i)}}catch(e){n.e(e)}finally{n.f()}return this._clearAnnotations(),t.getBytes()}},{key:"getCurrentContainer",value:function(){return this.containers[this.containers.length-1]}},{key:"addNode",value:function(e){0===this.depth()?this.datagram.push(e):this.state===a.STRUCT_VALUE?(this.getCurrentContainer().addChild(e,this.fieldName),this.state=a.STRUCT_FIELD):this.getCurrentContainer().addChild(e),e.isContainer()&&(this.containers.push(e),this.state=a.VALUE)}},{key:"checkWriteValue",value:function(){if(this.checkClosed(),this.state===a.STRUCT_FIELD)throw new Error("Expected a struct field name instead of a value, call writeFieldName(string) with the desired name before calling stepIn(IonType) or writeIonType()")}},{key:"checkClosed",value:function(){if(this.state===a.CLOSED)throw new Error("Writer is closed, no further operations are available")}},{key:"writeSymbolTable",value:function(){var e="$ion"!=this.symbolTable.import.symbolTable.name,t=0<this.symbolTable.symbols.length;if(e||t){if(this.setAnnotations(["$ion_symbol_table"]),this.stepIn(v.IonTypes.STRUCT),e&&(this.writeFieldName("imports"),this.stepIn(v.IonTypes.LIST),this.writeImport(this.symbolTable.import),this.stepOut()),t){this.writeFieldName("symbols"),this.stepIn(v.IonTypes.LIST);var r=h(this.symbolTable.symbols);try{for(r.s();!(n=r.n()).done;){var n=n.value;void 0!==n&&this.writeString(n)}}catch(e){r.e(e)}finally{r.f()}this.stepOut()}this.stepOut(),this.datagram[0].write()}}},{key:"writeImport",value:function(e){e&&(this.writeImport(e.parent),this.stepIn(v.IonTypes.STRUCT),this.writeFieldName("name"),this.writeString(e.symbolTable.name),this.writeFieldName("version"),this.writeInt(e.symbolTable.version),this.writeFieldName("max_id"),this.writeInt(e.length),this.stepOut())}}]),i}(n.AbstractWriter);r.BinaryWriter=n;var C=function(){function i(e,t,r,n){(0,o.default)(this,i),this._writer=e,this.parent=t,this._type=r,this.annotations=n}return(0,u.default)(i,[{key:"writeTypeDescriptorAndLength",value:function(e,t,r){e<<=4;t?(e|=15,this.writer.writeByte(e)):r<14?(e|=r,this.writer.writeByte(e)):(e|=14,this.writer.writeByte(e),this.writer.writeVariableLengthUnsignedInt(r))}},{key:"getContainedValueLength",value:function(){var e=this.getValueLength();return 1+i.getLengthLength(e)+e}},{key:"getAnnotatedContainerLength",value:function(){var e=this.annotations.length;return e+y.LowLevelBinaryWriter.getVariableLengthUnsignedIntSize(e)+this.getContainedValueLength()}},{key:"getAnnotationsLength",value:function(){if(this.hasAnnotations()){var e=this.annotations.length,t=y.LowLevelBinaryWriter.getVariableLengthUnsignedIntSize(e),r=this.getContainedValueLength();return 1+i.getLengthLength(r)+t+e}return 0}},{key:"getLength",value:function(){return this.getAnnotationsLength()+this.getContainedValueLength()}},{key:"writeAnnotations",value:function(){var e;this.hasAnnotations()&&(e=this.getAnnotatedContainerLength(),this.writeTypeDescriptorAndLength(p.ANNOTATION,!1,e),this.writer.writeVariableLengthUnsignedInt(this.annotations.length),this.writer.writeBytes(new Uint8Array(this.annotations)))}},{key:"hasAnnotations",value:function(){return 0<this.annotations.length}},{key:"typeCode",get:function(){return this._type.binaryTypeId}},{key:"writer",get:function(){return this._writer}}],[{key:"getLengthLength",value:function(e){return e<14?0:y.LowLevelBinaryWriter.getVariableLengthUnsignedIntSize(e)}}]),i}();r.AbstractNode=C;var E=function(){(0,l.default)(a,C);var i=_(a);function a(e,t,r,n){return(0,o.default)(this,a),i.call(this,e,t,r,n)}return(0,u.default)(a,[{key:"isContainer",value:function(){return!0}}]),a}(),k=function(){(0,l.default)(a,E);var i=_(a);function a(e,t,r,n){return(0,o.default)(this,a),(n=i.call(this,e,t,r,n)).children=[],n}return(0,u.default)(a,[{key:"addChild",value:function(e){this.children.push(e)}},{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.typeCode,!1,this.getValueLength());var e,t=h(this.children);try{for(t.s();!(e=t.n()).done;)e.value.write()}catch(e){t.e(e)}finally{t.f()}}},{key:"getValueLength",value:function(){var e,t=0,r=h(this.children);try{for(r.s();!(e=r.n()).done;)t+=e.value.getLength()}catch(e){r.e(e)}finally{r.f()}return t}},{key:"getLength",value:function(){return void 0===this.length&&(this.length=(0,s.default)((0,c.default)(a.prototype),"getLength",this).call(this)),this.length}}]),a}(),O=function(){(0,l.default)(i,E);var n=_(i);function i(e,t,r){return(0,o.default)(this,i),(r=n.call(this,e,t,v.IonTypes.STRUCT,r)).fields=[],r}return(0,u.default)(i,[{key:"addChild",value:function(e,t){if(null==t)throw new Error("Cannot add a value to a struct without a field name");this.fields.push({name:t,value:e})}},{key:"getValueLength",value:function(){var e=0,t=h(this.fields);try{for(t.s();!(r=t.n()).done;){var r=r.value;e+=r.name.length,e+=r.value.getLength()}}catch(e){t.e(e)}finally{t.f()}return e}},{key:"getLength",value:function(){return void 0===this.length&&(this.length=(0,s.default)((0,c.default)(i.prototype),"getLength",this).call(this)),this.length}},{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.typeCode,!1,this.getValueLength());var t=h(this.fields);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.writer.writeBytes(new Uint8Array(e.name)),e.value.write()}}catch(e){t.e(e)}finally{t.f()}}}]),i}(),A=function(){(0,l.default)(t,C);var e=_(t);function t(){return(0,o.default)(this,t),e.apply(this,arguments)}return(0,u.default)(t,[{key:"addChild",value:function(){throw new Error("Cannot add a child to a leaf node")}},{key:"isContainer",value:function(){return!1}}]),t}();r.LeafNode=A;var N=function(){(0,l.default)(a,A);var i=_(a);function a(e,t,r,n){return(0,o.default)(this,a),(r=i.call(this,e,t,v.IonTypes.BOOL,r)).value=n,r}return(0,u.default)(a,[{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.typeCode,!1,this.value?1:0)}},{key:"getValueLength",value:function(){return 0}}]),a}(),R=function(){(0,l.default)(s,A);var a=_(s);function s(e,t,r,n){var i;if((0,o.default)(this,s),(r=a.call(this,e,t,v.IonTypes.INT,r)).value=n,!("number"==typeof r.value||r.value instanceof d.default))throw new Error("Expected "+r.value+" to be a number or JSBI");return d.default.GT(r.value,0)?(r.intTypeCode=p.POSITIVE_INT,(i=new y.LowLevelBinaryWriter(new g.Writeable(y.LowLevelBinaryWriter.getUnsignedIntSize(r.value)))).writeUnsignedInt(r.value),r.bytes=i.getBytes()):d.default.LT(r.value,0)?(r.intTypeCode=p.NEGATIVE_INT,i=n instanceof d.default?w.JsbiSupport.isNegative(n)?d.default.unaryMinus(n):n:Math.abs(n),(n=new y.LowLevelBinaryWriter(new g.Writeable(y.LowLevelBinaryWriter.getUnsignedIntSize(i)))).writeUnsignedInt(i),r.bytes=n.getBytes()):(r.intTypeCode=p.POSITIVE_INT,r.bytes=new Uint8Array(0)),r}return(0,u.default)(s,[{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.intTypeCode,!1,this.bytes.length),this.writer.writeBytes(this.bytes)}},{key:"getValueLength",value:function(){return this.bytes.length}}]),s}(),L=function(){(0,l.default)(s,A);var a=_(s);function s(e,t,r,n,i){return(0,o.default)(this,s),(n=a.call(this,e,t,r,n)).value=i,n}return(0,u.default)(s,[{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.typeCode,!1,this.value.length),this.writer.writeBytes(this.value)}},{key:"getValueLength",value:function(){return this.value.length}}]),s}(),B=function(){(0,l.default)(a,A);var i=_(a);function a(e,t,r,n){return(0,o.default)(this,a),i.call(this,e,t,r,n)}return(0,u.default)(a,[{key:"write",value:function(){this.writeAnnotations(),this.writeTypeDescriptorAndLength(this.typeCode,!0,0)}},{key:"getValueLength",value:function(){return 0}}]),a}();r.NullNode=B},{"./AbstractWriter":1,"./IonLowLevelBinaryWriter":13,"./IonTimestamp":26,"./IonTypes":28,"./IonUnicode":29,"./IonWriteable":30,"./JsbiSerde":31,"./JsbiSupport":32,"./util":56,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/get":66,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,jsbi:84}],8:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.Catalog=void 0;var s=e("./IonSystemSymbolTable");e=function(){function e(){(0,i.default)(this,e),this.symbolTables={},this.add(s.getSystemSymbolTable())}return(0,a.default)(e,[{key:"add",value:function(e){if(void 0===e.name||null===e.name)throw new Error("SymbolTable name must be defined.");void 0===this.symbolTables[e.name]&&(this.symbolTables[e.name]=[]),this.symbolTables[e.name][e.version]=e}},{key:"getVersion",value:function(e,t){e=this.symbolTables[e];if(!e)return null;t=e[t];return(t=t||e[e.length])||null}},{key:"getTable",value:function(e){e=this.symbolTables[e];return void 0===e?null:e[e.length-1]}}]),e}();r.Catalog=e},{"./IonSystemSymbolTable":22,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IVM=r.EOF=void 0,r.EOF=-1,r.IVM={text:"$ion_1_0",binary:new Uint8Array([224,1,0,234]),sid:2}},{}],10:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Decimal=void 0;var u=n(e("jsbi")),l=e("./JsbiSupport"),c=e("./util"),e=function(){function a(e,t){var r=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if((0,i.default)(this,a),"string"==typeof e)return a.parse(e);if(!c._hasValue(t))throw new Error("Decimal's constructor was called with a numeric coefficient but no exponent.");if("number"==typeof e)return a._fromNumberCoefficient(e,t);if(e instanceof u.default)return c._hasValue(r)?r!=l.JsbiSupport.isNegative(e)&&(e=u.default.unaryMinus(e)):r=l.JsbiSupport.isNegative(e),a._fromBigIntCoefficient(r,e,t);throw new Error("Unsupported parameter set (".concat(e,", ").concat(t,", ").concat(r," passed to Decimal constructor."))}return(0,s.default)(a,[{key:"isNegative",value:function(){return this._isNegative}},{key:"numberValue",value:function(){return this._isNegativeZero()?-0:u.default.toNumber(this._coefficient)*Math.pow(10,this._exponent)}},{key:"intValue",value:function(){return Math.trunc(this.numberValue())}},{key:"toString",value:function(){var e=this._coefficient.toString();"-"===e[0]&&(e=e.substr(1,e.length));var t=e.length,r=this._exponent+(t-1),n="";return this._exponent<=0&&-6<=r?0===this._exponent?n+=e:e.length<=-this._exponent?n+=(e="0".repeat(-this._exponent-e.length+1)+e).substr(0,1)+"."+e.substr(1):n+=e.substr(0,t+this._exponent)+"."+e.substr(t+this._exponent):(n+=e[0],1<e.length&&(n+="."+e.substr(1)),n+="E"+(0<r?"+":"")+r),(this.isNegative()?"-":"")+n}},{key:"toJSON",value:function(){return this.numberValue()}},{key:"getCoefficient",value:function(){return this._coefficient}},{key:"getExponent",value:function(){return this._exponent}},{key:"equals",value:function(e){return this.getExponent()===e.getExponent()&&c._sign(this.getExponent())===c._sign(e.getExponent())&&this.isNegative()===e.isNegative()&&u.default.equal(this.getCoefficient(),e.getCoefficient())}},{key:"compareTo",value:function(e){if(l.JsbiSupport.isZero(this._coefficient)&&l.JsbiSupport.isZero(e._coefficient))return 0;var t=this.isNegative();if(t!==e.isNegative())return t?-1:1;var r=this._compareToParams(),n=(0,o.default)(r,3),i=n[0],a=n[1],s=n[2],r=e._compareToParams(),n=(0,o.default)(r,3),e=n[0],r=n[1],n=n[2];if(n<s)return t?-1:1;if(s<n)return t?1:-1;i.length<e.length?i+="0".repeat(r-a):i.length>e.length&&(e+="0".repeat(a-r));i=u.default.BigInt(i),e=u.default.BigInt(e);return u.default.greaterThan(i,e)?t?-1:1:u.default.lessThan(i,e)?t?1:-1:0}},{key:"_initialize",value:function(e,t,r){this._isNegative=e,this._coefficient=t,Object.is(-0,r)&&(r=0),this._exponent=r}},{key:"_isNegativeZero",value:function(){return this.isNegative()&&l.JsbiSupport.isZero(this._coefficient)}},{key:"_compareToParams",value:function(){var e=this.isNegative()?this._coefficient.toString().substring(1):this._coefficient.toString(),t=e.length,r=t+this._exponent;return r<=0&&--r,l.JsbiSupport.isZero(this._coefficient)&&(r=-1/0),[e,t,r]}}],[{key:"_fromNumberCoefficient",value:function(e,t){if(!Number.isInteger(e))throw new Error("The provided coefficient was not an integer. ("+e+")");var r=e<0||Object.is(e,-0);return this._fromBigIntCoefficient(r,u.default.BigInt(e),t)}},{key:"_fromBigIntCoefficient",value:function(e,t,r){var n=Object.create(this.prototype);return n._initialize(e,t,r),n}},{key:"parse",value:function(e){var t=0;if("null"===e||"null.decimal"===e)return null;var r=e.match("[d|D]"),n=e.length;null!=r&&(t=Number(e.substring(r.index+1,e.length)),n=r.index);var i=e.match("\\."),e=i?(t-=r?r.index-1-i.index:e.length-1-i.index,e.substring(0,i.index)+e.substring(i.index+1,n)):e.substring(0,n),n=u.default.BigInt(e),e=l.JsbiSupport.isNegative(n)||e.startsWith("-0");return a._fromBigIntCoefficient(e,n,t)}}]),a}();(r.Decimal=e).ZERO=new e(0,0),e.ONE=new e(1,0)},{"./JsbiSupport":32,"./util":56,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/slicedToArray":78,jsbi:84}],11:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.Import=void 0;e=function(){function n(e,t,r){(0,i.default)(this,n),this._parent=e,this._symbolTable=t,this._offset=this.parent?this.parent.offset+this.parent.length:1,this._length=r||this.symbolTable.numberOfSymbols}return(0,a.default)(n,[{key:"getSymbolText",value:function(e){if(void 0===this.parent)throw new Error("Illegal parent state.");if(null!==this.parent){var t=this.parent.getSymbolText(e);if(t)return t}e-=this.offset;if(0<=e&&e<this.length)return this.symbolTable.getSymbolText(e)}},{key:"getSymbolId",value:function(e){var t;return null!==this.parent&&(t=this.parent.getSymbolId(e))?t:null!=(t=this.symbolTable.getSymbolId(e))&&t<this.length?t+this.offset:void 0}},{key:"parent",get:function(){return this._parent}},{key:"offset",get:function(){return this._offset}},{key:"length",get:function(){return this._length}},{key:"symbolTable",get:function(){return this._symbolTable}}]),n}();r.Import=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],12:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass"));function o(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}Object.defineProperty(r,"__esModule",{value:!0}),r.defaultLocalSymbolTable=r.LocalSymbolTable=void 0;var l=e("./IonSystemSymbolTable"),i=function(){function i(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,a.default)(this,i),this.index=Object.create(null),this._symbols=[],this._import=null===e?l.getSystemSymbolTableImport():e,this.offset=this._import.offset+this._import.length;var r=o(t);try{for(r.s();!(n=r.n()).done;){var n=n.value;this.assignSymbolId(n)}}catch(e){r.e(e)}finally{r.f()}}return(0,s.default)(i,[{key:"getSymbolId",value:function(e){return this._import.getSymbolId(e)||this.index[e]}},{key:"addSymbol",value:function(e){if(null!==e){var t=this.getSymbolId(e);if(void 0!==t)return t}t=this.offset+this.symbols.length;return this.symbols.push(e),null!==e&&(this.index[e]=t),t}},{key:"assignSymbolId",value:function(e){var t=this.offset+this.symbols.length;return this.symbols.push(e),null!==e&&void 0===this.getSymbolId(e)&&(this.index[e]=t),t}},{key:"getSymbolText",value:function(e){if(e>this.maxId)throw new Error("Symbol $"+e.toString()+" greater than maxID.");var t=this.import.getSymbolText(e);if(void 0!==t)return t;e-=this.offset;return this.symbols[e]}},{key:"numberOfSymbols",value:function(){return this._symbols.length}},{key:"symbols",get:function(){return this._symbols}},{key:"maxId",get:function(){return this.offset+this._symbols.length-1}},{key:"import",get:function(){return this._import}}]),i}();r.LocalSymbolTable=i,r.defaultLocalSymbolTable=function(){return new i(l.getSystemSymbolTableImport())}},{"./IonSystemSymbolTable":22,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],13:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.LowLevelBinaryWriter=void 0;var o=n(e("jsbi")),u=e("./JsbiSerde"),e=function(){function a(e){(0,i.default)(this,a),this.writeable=e}return(0,s.default)(a,[{key:"writeSignedInt",value:function(e){for(var t=a.getSignedIntSize(e),r=Math.abs(e),n=new Uint8Array(t),i=n.length;128<=r;)n[--i]=255&r,r>>>=8;n[--i]=255&r,1/e<0&&(n[0]|=128),this.writeable.writeBytes(n)}},{key:"writeUnsignedInt",value:function(e){if(e instanceof o.default){var t=u.JsbiSerde.toUnsignedIntBytes(e);this.writeable.writeBytes(t)}else{for(var t=a.getUnsignedIntSize(e),r=new Uint8Array(t),n=e,i=r.length;0<n;)r[--i]=n%256,n=Math.trunc(n/256);this.writeable.writeBytes(r)}}},{key:"writeVariableLengthSignedInt",value:function(e){for(var t=new Uint8Array(a.getVariableLengthSignedIntSize(e)),r=Math.abs(e),n=t.length-1;64<=r;)t[n--]=127&r,r>>>=7;t[n]=r,1/e<0&&(t[n]|=64),t[t.length-1]|=128,this.writeable.writeBytes(t)}},{key:"writeVariableLengthUnsignedInt",value:function(e){var t=new Uint8Array(a.getVariableLengthUnsignedIntSize(e)),r=e,n=t.length;for(t[--n]=127&r|128,r>>>=7;0<r;)t[--n]=127&r,r>>>=7;this.writeable.writeBytes(t)}},{key:"writeByte",value:function(e){this.writeable.writeByte(e)}},{key:"writeBytes",value:function(e){this.writeable.writeBytes(e)}},{key:"getBytes",value:function(){return this.writeable.getBytes()}}],[{key:"getSignedIntSize",value:function(e){if(0===e)return 1;e=Math.abs(e),e=Math.ceil(Math.log2(e+1))+1;return Math.ceil(e/8)}},{key:"getUnsignedIntSize",value:function(e){if(e instanceof o.default)return u.JsbiSerde.getUnsignedIntSizeInBytes(e);if(0===e)return 1;e=Math.floor(Math.log2(e))+1;return Math.ceil(e/8)}},{key:"getVariableLengthSignedIntSize",value:function(e){var t=Math.abs(e);if(0===t)return 1;e=Math.floor(Math.log2(t))+1,t=Math.floor(e/7);return Math.ceil((e+t+1+1)/8)}},{key:"getVariableLengthUnsignedIntSize",value:function(e){if(0===e)return 1;var t=Math.floor(Math.log2(e))+1,e=Math.ceil(t/7);return Math.ceil((t+e)/8)}}]),a}();r.LowLevelBinaryWriter=e},{"./JsbiSerde":31,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,jsbi:84}],14:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),p=n(e("@babel/runtime/helpers/slicedToArray")),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParserBinaryRaw=void 0;var l=n(e("jsbi")),c=u(e("./IonBinary")),u=e("./IonConstants"),d=e("./IonDecimal"),y=e("./IonTimestamp"),h=e("./IonTypes"),f=e("./IonUnicode"),b=e("./JsbiSerde"),v=e("./JsbiSupport"),m=n(e("./SignAndMagnitudeInt")),g=-1,T=20;function w(e){return e>>c.TYPE_SHIFT&c.NIBBLE_MASK}var I=[],S=u.IVM.sid,C=(u.IVM.binary[0],u.IVM.binary[1]),E=u.IVM.binary[2],k=u.IVM.binary[3],u=function(){function _(e){(0,i.default)(this,_),this._raw_type=g,this._len=-1,this._curr=void 0,this._null=!1,this._fid=null,this._as=-1,this._ae=-1,this._a=[],this._ts=[T],this._in_struct=!1,this._in=e}return(0,a.default)(_,[{key:"next",value:function(){return void 0===this._curr&&0<this._len&&this._in.skip(this._len),this.clear_value(),this._in_struct&&(this._fid=this.readVarUnsignedInt()),this.load_next()}},{key:"stepIn",value:function(){var e,t,r=this;switch(r._raw_type){case c.TB_STRUCT:case c.TB_LIST:case c.TB_SEXP:break;default:throw new Error("you can only 'stepIn' to a container")}e=r._in.getRemaining()-r._len,t=r._raw_type,t=e<<5|31&t,r._ts.push(t),r._in_struct=r._raw_type===c.TB_STRUCT,r._in.setRemaining(r._len),r.clear_value()}},{key:"stepOut",value:function(){var e,t,r=this;if(r._ts.length<2)throw new Error("Cannot stepOut any further, already at top level");e=r._ts.pop()>>>5,t=31&r._ts[r._ts.length-1],r._in_struct=t===c.TB_STRUCT,r.clear_value(),t=r._in.getRemaining(),r._in.skip(t),r._in.setRemaining(e)}},{key:"isNull",value:function(){return this._null}},{key:"depth",value:function(){return this._ts.length-1}},{key:"getFieldId",value:function(){return this._fid}},{key:"hasAnnotations",value:function(){return 0<=this._as}},{key:"getAnnotations",value:function(){return void 0!==this._a&&0!==this._a.length||this.load_annotation_values(),this._a}},{key:"getAnnotation",value:function(e){return void 0!==this._a&&0!==this._a.length||this.load_annotation_values(),this._a[e]}},{key:"ionType",value:function(){return function(e){switch(e){case c.TB_NULL:return h.IonTypes.NULL;case c.TB_BOOL:return h.IonTypes.BOOL;case c.TB_INT:case c.TB_NEG_INT:return h.IonTypes.INT;case c.TB_FLOAT:return h.IonTypes.FLOAT;case c.TB_DECIMAL:return h.IonTypes.DECIMAL;case c.TB_TIMESTAMP:return h.IonTypes.TIMESTAMP;case c.TB_SYMBOL:return h.IonTypes.SYMBOL;case c.TB_STRING:return h.IonTypes.STRING;case c.TB_CLOB:return h.IonTypes.CLOB;case c.TB_BLOB:return h.IonTypes.BLOB;case c.TB_SEXP:return h.IonTypes.SEXP;case c.TB_LIST:return h.IonTypes.LIST;case c.TB_STRUCT:return h.IonTypes.STRUCT;default:throw new Error("Unrecognized type code "+e)}}(this._raw_type)}},{key:"_getSid",value:function(){return this.load_value(),this._raw_type!=c.TB_SYMBOL||void 0===this._curr||null===this._curr?null:this._curr}},{key:"byteValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_CLOB:case c.TB_BLOB:return this.isNull()?null:(this.load_value(),this._curr);default:throw new Error("Current value is not a blob or clob.")}}},{key:"booleanValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_BOOL:return this.isNull()?null:this._curr}throw new Error("Current value is not a Boolean.")}},{key:"decimalValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_DECIMAL:return this.isNull()?null:(this.load_value(),this._curr)}throw new Error("Current value is not a decimal.")}},{key:"bigIntValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_INT:case c.TB_NEG_INT:return this.isNull()?null:(this.load_value(),this._curr);default:throw new Error("bigIntValue() was called when the current value was not an int.")}}},{key:"numberValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_INT:case c.TB_NEG_INT:if(this.isNull())return null;this.load_value();var e=this._curr;return l.default.toNumber(e);case c.TB_FLOAT:return this.isNull()?null:(this.load_value(),this._curr);default:throw new Error("Current value is not a float or int.")}}},{key:"stringValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_STRING:case c.TB_SYMBOL:return this.isNull()?null:(this.load_value(),this._curr)}throw new Error("Current value is not a string or symbol.")}},{key:"timestampValue",value:function(){switch(this._raw_type){case c.TB_NULL:return null;case c.TB_TIMESTAMP:return this.isNull()?null:(this.load_value(),this._curr)}throw new Error("Current value is not a timestamp.")}},{key:"read_binary_float",value:function(){return _._readFloatFrom(this._in,this._len)}},{key:"readVarUnsignedInt",value:function(){return _._readVarUnsignedIntFrom(this._in)}},{key:"readVarSignedInt",value:function(){return _._readVarSignedIntFrom(this._in)}},{key:"readUnsignedIntAsBigInt",value:function(){return _._readUnsignedIntAsBigIntFrom(this._in,this._len)}},{key:"readUnsignedIntAsNumber",value:function(){return _._readUnsignedIntAsNumberFrom(this._in,this._len)}},{key:"read_decimal_value",value:function(){return _.readDecimalValueFrom(this._in,this._len)}},{key:"read_timestamp_value",value:function(){if(!(0<this._len))return null;var e,t,r,n,i=null,a=null,s=null,o=null,u=null,l=d.Decimal.ZERO,c=y.TimestampPrecision.YEAR,h=this._in.position()+this._len,f=this.readVarSignedInt();if(!(this._in.position()<h))throw new Error("Timestamps must include a year.");if(e=this.readVarUnsignedInt(),this._in.position()<h&&(i=this.readVarUnsignedInt(),c=y.TimestampPrecision.MONTH),this._in.position()<h&&(a=this.readVarUnsignedInt(),c=y.TimestampPrecision.DAY),this._in.position()<h){if(s=this.readVarUnsignedInt(),this._in.position()>=h)throw new Error("Timestamps with an hour must include a minute.");o=this.readVarUnsignedInt(),c=y.TimestampPrecision.HOUR_AND_MINUTE}this._in.position()<h&&(u=this.readVarUnsignedInt(),c=y.TimestampPrecision.SECONDS),this._in.position()<h&&(n=this.readVarSignedInt(),r=v.JsbiSupport.ZERO,t=!1,this._in.position()<h&&(t=(h=_._readSignedIntFrom(this._in,h-this._in.position()))._isNegative,r=h._magnitude),n=d.Decimal._fromBigIntCoefficient(t,r,n),n=y.Timestamp._splitSecondsDecimal(n),(n=(0,p.default)(n,2))[0],n=n[1],l=d.Decimal.parse(u+"."+n));u=Date.UTC(e,i?i-1:0,a||1,s||0,o||0,u||0,0),u=y.Timestamp._adjustMsSinceEpochIfNeeded(e,u),u=new Date(u);return y.Timestamp._valueOf(u,f,l,c)}},{key:"read_string_value",value:function(){return f.decodeUtf8(this._in.chunk(this._len))}},{key:"clear_value",value:function(){this._raw_type=g,this._curr=void 0,this._a=I,this._as=-1,this._null=!1,this._fid=null,this._len=-1}},{key:"load_length",value:function(e){var t=this;switch(t._len=e&c.NIBBLE_MASK,t._len){case 1:w(e)===c.TB_STRUCT&&(t._len=this.readVarUnsignedInt()),t._null=!1;break;case c.LEN_VAR:t._null=!1,t._len=this.readVarUnsignedInt();break;case c.LEN_NULL:t._null=!0,t._len=0;break;default:t._null=!1}}},{key:"load_next",value:function(){var e,t,r=this;if(r._as=-1,!r._in.is_empty()){switch(e=w(t=r._in.next()),r.load_length(t),e===c.TB_ANNOTATION&&(e=r._len<1&&0===r.depth()?r.load_ivm():r.load_annotations()),e){case c.TB_NULL:r._null=!0;break;case c.TB_BOOL:0!==r._len&&1!==r._len||(r._curr=1===r._len,r._len=0)}return r._raw_type=e}r.clear_value()}},{key:"load_annotations",value:function(){var e=this,t=e._len<1&&0===e.depth()?e.load_ivm():(t=this.readVarUnsignedInt(),e._as=e._in.position(),e._in.skip(t),e._ae=e._in.position(),t=e._in.next(),e.load_length(t),w(t));return t}},{key:"load_ivm",value:function(){var e=this._in;if(e.next()!==C)throw new Error("invalid binary Ion at "+e.position());if(e.next()!==E)throw new Error("invalid binary Ion at "+e.position());if(e.next()!==k)throw new Error("invalid binary Ion at "+e.position());return this._curr=S,this._len=0,c.TB_SYMBOL}},{key:"load_annotation_values",value:function(){var e,t,r,n,i;if(!((r=this._as)<0)){for(i=[],n=this._ae,e=0;r<n;)if(t=this._in.valueAt(r),r++,e=e<<7|127&t,0!=(128&t)){if(0===e)throw new Error("Symbol ID zero is unsupported.");i.push(e),e=0}this._a=i}}},{key:"_readIntegerMagnitude",value:function(){return 0===this._len?v.JsbiSupport.ZERO:this.readUnsignedIntAsBigInt()}},{key:"load_value",value:function(){if(null==this._curr&&!this.isNull())switch(this._raw_type){case c.TB_BOOL:break;case c.TB_INT:this._curr=this._readIntegerMagnitude();break;case c.TB_NEG_INT:this._curr=l.default.unaryMinus(this._readIntegerMagnitude());break;case c.TB_FLOAT:this._curr=this.read_binary_float();break;case c.TB_DECIMAL:0===this._len?this._curr=d.Decimal.ZERO:this._curr=this.read_decimal_value();break;case c.TB_TIMESTAMP:this._curr=this.read_timestamp_value();break;case c.TB_SYMBOL:this._curr=this.readUnsignedIntAsNumber();break;case c.TB_STRING:this._curr=this.read_string_value();break;case c.TB_CLOB:case c.TB_BLOB:if(this.isNull())break;this._curr=this._in.chunk(this._len);break;default:throw new Error("Unexpected type: "+this._raw_type)}}}],[{key:"_readFloatFrom",value:function(e,t){switch(t){case 0:return 0;case 4:return new DataView(e.chunk(4).buffer).getFloat32(0,!1);case 8:return new DataView(e.chunk(8).buffer).getFloat64(0,!1);case 15:return null;default:throw new Error("Illegal float length: "+t)}}},{key:"_readVarUnsignedIntFrom",value:function(e){for(var t,r=0,n=0;n=n<<7|127&(t=e.next()),r+=7,!(128&t););if(31<r)throw new Error("VarUInt values larger than 31 bits must be read using SignAndMagnitudeInt.");return n}},{key:"_readVarSignedIntFrom",value:function(e){var t,r=e.next(),n=64&r,i=128&r;r&=63;for(var a=6;!i;)i=128&(t=e.next()),r<<=7,r|=t&=127,a+=7;if(32<a)throw new Error("VarInt values larger than 32 bits must be read using SignAndMagnitudeInt");return n?-r:r}},{key:"_readSignedIntFrom",value:function(e,t){if(0==t)return new m.default(v.JsbiSupport.ZERO);var r=e.view(t),e=128==(128&r[0]),t=Array.prototype.slice.call(r);t[0]=127&r[0];t=b.JsbiSerde.fromUnsignedBytes(t);return new m.default(t,e)}},{key:"_readUnsignedIntAsBigIntFrom",value:function(e,t){return b.JsbiSerde.fromUnsignedBytes(Array.prototype.slice.call(e.view(t)))}},{key:"_readUnsignedIntAsNumberFrom",value:function(e,t){var r=0,n=0,i=e.getRemaining();if(t<1)return 0;if(6<t)throw new Error("Attempted to read a ".concat(t,"-byte unsigned integer,")+" which is too large for a to be stored in a number without losing precision.");if(i<t)throw new Error("Attempted to read a ".concat(t,"-byte unsigned integer,")+" but only ".concat(i," bytes were available."));for(;n<t;)n++,t<4?r<<=8:r*=256,r+=e.next();return r}},{key:"readDecimalValueFrom",value:function(e,t){var r=e.position(),n=_._readVarSignedIntFrom(e),r=e.position()-r,t=_._readSignedIntFrom(e,t-r),r=t.isNegative,t=r?l.default.unaryMinus(t.magnitude):t.magnitude;return d.Decimal._fromBigIntCoefficient(r,t,n)}}]),_}();r.ParserBinaryRaw=u},{"./IonBinary":5,"./IonConstants":9,"./IonDecimal":10,"./IonTimestamp":26,"./IonTypes":28,"./IonUnicode":29,"./JsbiSerde":31,"./JsbiSupport":32,"./SignAndMagnitudeInt":33,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/slicedToArray":78,jsbi:84}],15:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),s=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},o=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return o(t,e),t},n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.ParserTextRaw=r.get_ion_type=void 0;var l=u(e("./IonText")),c=e("./IonText"),h=n(e("jsbi")),f=e("./IonSymbolToken"),_=e("./IonTypes"),p=e("./JsbiSupport"),d=-1,y=-2,b=13,v=10,m=92,g="/".charCodeAt(0),T='"'.charCodeAt(0),w="{".charCodeAt(0),I=43,S=45,C=105,E=T,k=[C,110,102];function O(e,t){return e==b||e==v?t:l.is_whitespace(e)||!(e<32)}r.get_ion_type=function(e){switch(e){case d:case y:return null;case 1:return _.IonTypes.NULL;case 2:return _.IonTypes.BOOL;case 3:case 4:return _.IonTypes.INT;case 5:case 6:return _.IonTypes.FLOAT;case 7:return _.IonTypes.DECIMAL;case 8:return _.IonTypes.TIMESTAMP;case 9:case 10:case 11:return _.IonTypes.SYMBOL;case 12:case 13:return _.IonTypes.STRING;case 14:case 15:return _.IonTypes.CLOB;case 16:return _.IonTypes.BLOB;case 17:return _.IonTypes.SEXP;case 18:return _.IonTypes.LIST;case 19:return _.IonTypes.STRUCT;default:throw new Error("Unknown type: "+String(e)+".")}};e=function(){function t(e){(0,a.default)(this,t),this._value_null=!1,this._curr_null=!1,this._read_value_helper_minus=function(e,t,r){var n,i=this._peek();i==C?(i=this._peek("inf"),l.isNumericTerminator(i)?n=this._read_minus_inf:t&&(n=this._read_operator_symbol)):l.is_digit(i)?n=this._read_number:t&&(n=this._read_operator_symbol),null!=n?(this._ops.unshift(n),this._unread(e)):this._error("operator symbols are not valid outside of sexps")},this._read_string_helper=function(e,t){var r;for(this._start=this._in.position();;)if((r=this._read())==m)this._read_string_escape_sequence();else{if(r==e)break;if(!O(r,t))throw new Error("invalid character "+r+" in string")}},this._in=e,this._ops=[this._read_datagram_values],this._value_type=y,this._value=[],this._start=-1,this._end=-1,this._esc_len=-1,this._curr=d,this._ann=[],this._msg="",this._fieldname=null,this._fieldnameType=null;var i={40:this._read_value_helper_paren,91:this._read_value_helper_square,123:this._read_value_helper_curly,43:this._read_value_helper_plus,45:this._read_value_helper_minus,39:this._read_value_helper_single,34:this._read_value_helper_double},e=function(e,t){for(var r,n=e.length;0<n;)n--,r=e.charCodeAt(n),i[r]=t};e("0123456789",this._read_value_helper_digit),e("_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",this._read_value_helper_letter),e("!#%&*+-./;<=>?@^`|~",this._read_value_helper_operator),i[I]=this._read_value_helper_plus,i[S]=this._read_value_helper_minus,this._read_value_helper_helpers=i}return(0,i.default)(t,[{key:"fieldName",value:function(){return this._fieldname}},{key:"fieldNameType",value:function(){return this._fieldnameType}},{key:"annotations",value:function(){return this._ann}},{key:"clearFieldName",value:function(){this._fieldname=null,this._fieldnameType=null}},{key:"isNull",value:function(){return this._curr_null}},{key:"bigIntValue",value:function(){if(this.isNull())return null;var e=this.get_value_as_string(this._curr);switch(this._curr){case 3:case 4:return p.JsbiSupport.bigIntFromString(e);default:throw new Error("intValue() was called when the current value was not an integer.")}}},{key:"numberValue",value:function(){if(this.isNull())return null;var e=this.get_value_as_string(this._curr);switch(this._curr){case 3:case 4:return h.default.toNumber(p.JsbiSupport.bigIntFromString(e));case 5:return Number(e);case 6:if("+inf"==e)return Number.POSITIVE_INFINITY;if("-inf"==e)return Number.NEGATIVE_INFINITY;if("nan"==e)return Number.NaN;default:throw new Error("can't convert to number")}}},{key:"booleanValue",value:function(){if(this.isNull())return null;var e=this.get_value_as_string(2);if("true"===e)return!0;if("false"===e)return!1;throw new Error("Unrecognized Boolean value '"+e+"'")}},{key:"get_value_as_string",value:function(e){var t,r="";switch(e){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:for(t=this._start;t<this._end;t++)r+=String.fromCharCode(this._in.valueAt(t));break;case 16:for(t=this._start;t<this._end;t++)n=this._in.valueAt(t),l.is_base64_char(n)&&(r+=String.fromCharCode(n));break;case 11:case 12:case 13:for(t=this._start;t<this._end;t++){var n,i=!1;if((n=this._in.valueAt(t))==m&&(n=this._read_escape_sequence(t,this._end),t+=this._esc_len,i=!0),this.isHighSurrogate(n)){t++;var a=this._in.valueAt(t);if(a==m&&(a=this._read_escape_sequence(t,this._end),t+=this._esc_len),!this.isLowSurrogate(a))throw new Error("expected a low surrogate, but found: "+n);a=65536+((1023&n)<<10)+(1023&a);r+=String.fromCodePoint(a)}else{if(this.isLowSurrogate(n))throw new Error("unexpected low surrogate: "+n);13===e&&39===n&&!i&&this.verifyTriple(t)?t=this._skip_triple_quote_gap(t,this._end,!0):0<=n&&(i?r+=String.fromCodePoint(n):(13===e&&13===n&&10===this._in.valueAt(t+1)&&(n=10,t++),r+=String.fromCharCode(n)))}}break;default:throw new Error("can't get this value as a string")}return r}},{key:"get_value_as_uint8array",value:function(e){var t=[];switch(e){case 14:for(var r=this._start;r<this._end;r++){var n=this._in.valueAt(r);if(n===m)t.push(this.readClobEscapes(r,this._end)),r+=this._esc_len;else{if(!(n<128))throw new Error("Non-Ascii values illegal within clob.");t.push(n)}}break;case 15:for(var i=this._start;i<this._end;i++){var a=this._in.valueAt(i);if(a===m){var s=this.readClobEscapes(i,this._end);0<=s&&t.push(s),i+=this._esc_len}else if(39===a)this.verifyTriple(i)?i=this._skip_triple_quote_gap(i,this._end,!1):t.push(a);else{if(!(a<128))throw new Error("Non-Ascii values illegal within clob.");t.push(a)}}break;default:throw new Error("can't get this value as a Uint8Array")}return Uint8Array.from(t)}},{key:"next",value:function(){var e;if(this.clearFieldName(),this._ann=[],this._value_type===y&&this._run(),this._curr=this._value_pop(),this._curr!==y)return e=this._curr,this._curr_null=this._value_null,this._value_null=!1,e;this._value.push(y)}},{key:"_read_datagram_values",value:function(){this._peek()==d?this._value_push(d):(this._ops.unshift(this._read_datagram_values),this._ops.unshift(this._read_value))}},{key:"_read_sexp_values",value:function(){var e=this._read_after_whitespace(!0);if(41==e)this._value_push(d);else{if(e===d)throw new Error("Expected closing ).");this._unread(e),this._ops.unshift(this._read_sexp_values),this._ops.unshift(this._read_sexp_value)}}},{key:"_read_list_values",value:function(){var e=this._read_after_whitespace(!0);93==e?this._value_push(d):(this._unread(e),this._ops.unshift(this._read_list_comma),this._ops.unshift(this._read_value))}},{key:"_read_struct_values",value:function(){var e=this._done_with_error,t=this._read_after_whitespace(!0);switch(t){case 39:e=this._read_string1,this._peek("''")!=y&&(e=this._read_string3);break;case T:e=this._read_string2;break;case 125:return void this._value_push(d);default:l.is_letter(t)&&(e=this._read_symbol)}e===this._done_with_error?this._error("expected field name (or close struct '}') not found"):(e.call(this),this._load_field_name(),58!=(t=this._read_after_whitespace(!0))&&this._error("expected ':'"),this._ops.unshift(this._read_struct_comma),this._ops.unshift(this._read_value))}},{key:"_read_list_comma",value:function(){var e=this._read_after_whitespace(!0);44==e?93==(e=this._read_after_whitespace(!0))?this._value_push(d):(this._unread(e),this._ops.unshift(this._read_list_comma),this._ops.unshift(this._read_value)):93==e?this._value_push(d):this._error("expected ',' or ']'")}},{key:"_read_struct_comma",value:function(){var e=this._read_after_whitespace(!0);44==e?125==(e=this._read_after_whitespace(!0))?this._value_push(d):(this._unread(e),this._ops.unshift(this._read_struct_values)):125==e?this._value_push(d):this._error("expected ',' or '}'")}},{key:"_load_field_name",value:function(){this._fieldnameType=this._value_pop();var e=this.get_value_as_string(this._fieldnameType);switch(this._fieldnameType){case 9:if(c.is_keyword(e))throw new Error("can't use '"+e+"' as a fieldname without quotes");case 11:case 12:case 13:this._fieldname=e;break;default:throw new Error("invalid fieldname"+e)}}},{key:"_read_value",value:function(){this._read_value_helper(!1,this._read_value)}},{key:"_read_sexp_value",value:function(){this._read_value_helper(!0,this._read_sexp_value)}},{key:"_read_value_helper",value:function(e,t){var r,n=this._read_after_whitespace(!0);n==d?this._read_value_helper_EOF(n,e,t):null!=(r=this._read_value_helper_helpers[n])?r.call(this,n,e,t):this._error("unexpected character '"+l.asAscii(n)+"'")}},{key:"_read_value_helper_EOF",value:function(){this._ops.unshift(this._done)}},{key:"_read_value_helper_paren",value:function(){this._value_push(17),this._ops.unshift(this._read_sexp_values)}},{key:"_read_value_helper_square",value:function(){this._value_push(18),this._ops.unshift(this._read_list_values)}},{key:"_read_value_helper_curly",value:function(){var e,t=this._read();t==w?39==(e=this._read_after_whitespace(!1))?this._ops.unshift(this._read_clob_string3):e==T?this._ops.unshift(this._read_clob_string2):(this._unread(e),this._ops.unshift(this._read_blob)):(this._unread(t),this._value_push(19),this._ops.unshift(this._read_struct_values))}},{key:"_read_value_helper_plus",value:function(e,t){var r=this._peek("inf");this._unread(e),l.isNumericTerminator(r)?this._ops.unshift(this._read_plus_inf):t?this._ops.unshift(this._read_operator_symbol):this._error("unexpected '+'")}},{key:"_read_value_helper_digit",value:function(e){var t=this._peek_4_digits(e);this._unread(e),84==t||t==S?this._ops.unshift(this._readTimestamp):this._ops.unshift(this._read_number)}},{key:"_read_value_helper_single",value:function(e,t,r){var n;this._peek("''")!=y?(n=this._read_string3).call(this):((n=this._read_string1).call(this),this._test_string_as_annotation(n)&&this._ops.unshift(r))}},{key:"_read_value_helper_double",value:function(){this._ops.unshift(this._read_string2)}},{key:"_read_value_helper_letter",value:function(e,t,r){this._read_symbol();var n=this._value_pop();if(9!=n)throw new Error("Expecting symbol here.");n=this.get_value_as_string(n);if(c.is_keyword(n)){var i=function(e){if("null"===e)return 1;if("true"===e)return 2;if("false"===e)return 2;if("nan"===e)return 6;if("+inf"===e)return 6;if("-inf"===e)return 6;throw new Error("Unknown keyword: "+e+".")}(n);if(1===i){if(this._value_null=!0,46===this._peek()){this._read();var a=this._read();if(!0!==l.is_letter(a))throw new Error("Expected type name after 'null.'");if(this._read_symbol(),9!==this._value_pop())throw new Error("Expected type name after 'null.'");i=function(e){if("null"===e)return 1;if("bool"===e)return 2;if("int"===e)return 3;if("float"===e)return 5;if("decimal"===e)return 7;if("timestamp"===e)return 8;if("symbol"===e)return 9;if("string"===e)return 12;if("clob"===e)return 14;if("blob"===e)return 16;if("sexp"===e)return 17;if("list"===e)return 18;if("struct"===e)return 19;throw new Error("Unknown type: "+e+".")}(n=this.get_value_as_string(9))}this._start=-1,this._end=-1}this._value_push(i)}else{a=this._read_after_whitespace(!0);if(58==a&&58==this._peek()){this._read();i=this._parseSymbolId(n);if(0===i)throw new Error("Symbol ID zero is not supported.");isNaN(i)?this._ann.push(new f.SymbolToken(n)):this._ann.push(new f.SymbolToken(null,i)),this._ops.unshift(r)}else this._unread(a),this._value_push(9)}}},{key:"_read_value_helper_operator",value:function(e,t){t?(this._unread(e),this._ops.unshift(this._read_operator_symbol)):this._error("unexpected operator character")}},{key:"_done",value:function(){this._value_push(d)}},{key:"_done_with_error",value:function(){throw this._value_push(y),new Error(this._error_msg)}},{key:"_read_number",value:function(){var e,t;if(this._start=this._in.position(),(e=this._read())==S&&(e=this._read()),48==e){if(120==(e=this._peek())||88==e)return void this._read_hex_int();l.is_digit(e)&&this._error("leading zeros are not allowed"),e=48}t=3,46==(e=this._read_required_digits(e))&&(t=7,e=this._read_optional_digits(this._read())),l.isNumericTerminator(e)||(100==e||68==e?(t=7,e=this._read_exponent()):101!=e&&69!=e&&102!=e&&70!=e||(t=5,e=this._read_exponent())),l.isNumericTerminator(e)?(this._unread(e),this._end=this._in.position(),this._value_push(t)):this._error("invalid character after number")}},{key:"_read_hex_int",value:function(){var e=this._read();120!=e&&88!=e||(e=this._read(),e=this._read_required_hex_digits(e)),l.isNumericTerminator(e)?(this._unread(e),this._end=this._in.position(),this._value_push(4)):this._error("invalid character after number")}},{key:"_read_exponent",value:function(){var e=this._read();return e!=S&&e!=I||(e=this._read()),e=this._read_required_digits(e)}},{key:"_read_plus_inf",value:function(){this._start=this._in.position(),this._read()==I?this._read_inf_helper():this._error("expected +inf")}},{key:"_read_minus_inf",value:function(){this._start=this._in.position(),this._read()==S?this._read_inf_helper():this._error("expected -inf")}},{key:"_read_inf_helper",value:function(){for(var e=0;e<3;e++)if(this._read()!=k[e])return void this._error("expected 'inf'");l.isNumericTerminator(this._peek())?(this._end=this._in.position(),this._value_push(6)):this._error("invalid numeric terminator after 'inf'")}},{key:"_readTimestamp",value:function(){this._start=this._in.position();var e=this._readPastNDigits(4);if(84===e)return this._end=this._in.position(),void this._value_push(8);if(e!==S)throw new Error("Timestamp year must be followed by '-' or 'T'.");if(84===(e=this._readPastNDigits(2)))return this._end=this._in.position(),void this._value_push(8);if(e!==S)throw new Error("Timestamp month must be followed by '-' or 'T'.");if(e=this._readPastNDigits(2),l.isNumericTerminator(e))return this._unread(e),this._end=this._in.position(),void this._value_push(8);if(84!==e)throw new Error("Timestamp day must be followed by a numeric stop character .");var t=this._in.peek();if(l.isNumericTerminator(t))return this._end=this._in.position(),void this._value_push(8);if(!l.is_digit(t))throw new Error("Timestamp DATE must be followed by numeric terminator or additional TIME digits.");if(58!==(e=this._readPastNDigits(2)))throw new Error("Timestamp time(hr:min) requires format of 00:00");if(e=this._readPastNDigits(2),58===e&&46===(e=this._readPastNDigits(2))){if(!l.is_digit(this._read()))throw new Error("W3C timestamp spec requires atleast one digit after decimal point.");for(;l.is_digit(e=this._read()););}if(90===e){if(!l.isNumericTerminator(this._peek()))throw new Error("Illegal terminator after Zulu offset.");return this._end=this._in.position(),void this._value_push(8)}if(e!==I&&e!==S)throw new Error("Timestamps require an offset.");if(58!==(e=this._readPastNDigits(2)))throw new Error("Timestamp offset(hr:min) requires format of +/-00:00.");if(this._readNDigits(2),e=this._peek(),!l.isNumericTerminator(e))throw new Error("Improperly formatted timestamp.");this._end=this._in.position(),this._value_push(8)}},{key:"_read_symbol",value:function(){var e;for(this._start=this._in.position()-1;e=this._read(),l.is_letter_or_digit(e););this._unread(e),this._end=this._in.position(),this._value_push(9)}},{key:"_read_operator_symbol",value:function(){var e;for(this._start=this._in.position();e=this._read(),l.is_operator_char(e););this._end=this._in.position()-1,this._unread(e),this._value_push(10)}},{key:"_read_string1",value:function(){this._read_string_helper(39,!1),this._end=this._in.position()-1,this._value_push(11)}},{key:"_read_string2",value:function(){this._read_string_helper(T,!1),this._end=this._in.position()-1,this._value_push(12)}},{key:"_read_string3",value:function(e){var t;for(void 0===e&&(e=!0),this._unread(this._peek("")),this._start=this._in.position()+3;this._peek("'''")!==y;this._in.unread(this._read_after_whitespace(e))){for(var r=0;r<3;r++)this._read();for(;this._peek("'''")===y;){if((t=this._read())==m&&this._read_string_escape_sequence(),t===d)throw new Error("Closing triple quotes not found.");if(!O(t,!0))throw new Error("invalid character "+t+" in string")}this._end=this._in.position();for(var n=0;n<3;n++)this._read()}this._value_push(13)}},{key:"verifyTriple",value:function(e){return 39===this._in.valueAt(e)&&39===this._in.valueAt(e+1)&&39===this._in.valueAt(e+2)}},{key:"_read_string_escape_sequence",value:function(){var e=this._read();switch(e){case 48:case 97:case 98:case 116:case 110:case 102:case 114:case 118:case E:case 39:case 63:case 92:case 47:case 10:break;case 13:10!=(e=this._read())&&this._unread(e);break;case 120:e=this._read_N_hexdigits(2),this._unread(e);break;case 117:e=this._read_N_hexdigits(4),this._unread(e);break;case 85:e=this._read_N_hexdigits(8),this._unread(e);break;default:this._error("unexpected character: "+e+" after escape slash")}}},{key:"_test_string_as_annotation",value:function(){var e,t,r=this._value_pop();return 11!=r&&13!=r&&this._error("expecting quoted symbol here"),e=this.get_value_as_string(r),58==(t=this._read_after_whitespace(!0))&&58==this._peek()?(this._read(),this._ann.push(new f.SymbolToken(e)),!0):(this._unread(t),this._value_push(r),!1)}},{key:"_read_clob_string2",value:function(){this._read_string2(),12!=this._value_pop()&&this._error("string expected"),this._value_push(14),this._ops.unshift(this._read_close_double_brace)}},{key:"_read_clob_string3",value:function(){this._read_string3(!1),13!=this._value_pop()&&this._error("string expected"),this._value_push(15),this._ops.unshift(this._read_close_double_brace)}},{key:"_read_blob",value:function(){var e,t,r,n=0,i=0;for(this._start=this._in.position();;)if(e=this._read(),l.is_base64_char(e))n++,this._end=this._in.position();else if(!l.is_whitespace(e))break;for(;61==e;)i++,e=this._read_after_whitespace(!1);if(125!=e||125!=this._read())throw new Error("Invalid blob");if(t=n,2<(r=i)||0!=(t+r&3))throw new Error("Invalid base64 value");this._value_push(16)}},{key:"_read_close_double_brace",value:function(){125==this._read_after_whitespace(!1)&&125==this._read()||this._error("expected '}}'")}},{key:"isHighSurrogate",value:function(e){return 55296<=e&&e<=56319}},{key:"isLowSurrogate",value:function(e){return 56320<=e&&e<=57343}},{key:"indexWhiteSpace",value:function(e,t){var r=this._in.valueAt(e);if(t){for(;c.is_whitespace(r)||r===g;r=this._in.valueAt(e++))if(r===g)switch(r=this._in.valueAt(e++)){case g:e=this.indexToNewLine(e);break;case 42:e=this.indexToCloseComment(e);break;default:e--}}else for(;c.is_whitespace(r);r=this._in.valueAt(e++));return e}},{key:"indexToNewLine",value:function(e){for(var t=this._in.valueAt(e);t!==d&&t!==v;){if(t===b&&this._in.valueAt(e+1)!==v)return e;t=this._in.valueAt(e++)}return e}},{key:"indexToCloseComment",value:function(e){for(;42!==this._in.valueAt(e)&&this._in.valueAt(e+1)!==g;)e++;return e}},{key:"_skip_triple_quote_gap",value:function(e,t,r){e+=3;return(e=this.indexWhiteSpace(e,r))+2<=t&&this.verifyTriple(e)?e+4:e+1}},{key:"readClobEscapes",value:function(e,t){var r;if(t<=e+1)throw new Error("invalid escape sequence");switch(r=this._in.valueAt(e+1),this._esc_len=1,r){case 48:return 0;case 97:return 7;case 98:return 8;case 116:return 9;case 110:return 10;case 102:return 12;case 114:return 13;case 118:return 11;case E:return 34;case 39:return 39;case 63:return 63;case 92:return 92;case 47:return 47;case 10:return-1;case 13:return e+2<t&&this._in.valueAt(e+2)==v&&(this._esc_len=2),l.ESCAPED_NEWLINE;case 120:if(t<=e+3)throw new Error("invalid escape sequence");r=this._get_N_hexdigits(e+2,e+4),this._esc_len=3;break;default:throw new Error("Invalid escape: /"+r)}return r}},{key:"_read_escape_sequence",value:function(e,t){var r;if(t<=e+1)throw new Error("Invalid escape sequence.");switch(r=this._in.valueAt(e+1),this._esc_len=1,r){case 48:return 0;case 97:return 7;case 98:return 8;case 116:return 9;case 110:return 10;case 102:return 12;case 114:return 13;case 118:return 11;case E:return 34;case 39:return 39;case 63:return 63;case 92:return 92;case 47:return 47;case 10:return-1;case 13:return e+2<t&&this._in.valueAt(e+2)==v&&(this._esc_len=2),l.ESCAPED_NEWLINE;case 120:if(t<=e+3)throw new Error("invalid escape sequence");r=this._get_N_hexdigits(e+2,e+4),this._esc_len=3;break;case 117:if(t<=e+5)throw new Error("invalid escape sequence");r=this._get_N_hexdigits(e+2,e+6),this._esc_len=5;break;case 85:if(t<=e+9)throw new Error("invalid escape sequence");r=this._get_N_hexdigits(e+2,e+10),this._esc_len=9;break;default:throw new Error("unexpected character after escape slash")}return r}},{key:"_get_N_hexdigits",value:function(e,t){for(var r=0;e<t;)r=16*r+function(e){switch(e){case 48:return 0;case 49:return 1;case 50:return 2;case 51:return 3;case 52:return 4;case 53:return 5;case 54:return 6;case 55:return 7;case 56:return 8;case 57:return 9;case 97:return 10;case 98:return 11;case 99:return 12;case 100:return 13;case 101:return 14;case 102:return 15;case 65:return 10;case 66:return 11;case 67:return 12;case 68:return 13;case 69:return 14;case 70:return 15}throw new Error("Unexpected bad hex digit in checked data.")}(this._in.valueAt(e)),e++;return r}},{key:"_value_push",value:function(e){this._value_type!==y&&this._error("unexpected double push of value type!"),this._value_type=e}},{key:"_value_pop",value:function(){var e=this._value_type;return this._value_type=y,e}},{key:"_run",value:function(){for(;0<this._ops.length&&this._value_type===y;)this._ops.shift().call(this)}},{key:"_read",value:function(){return this._in.next()}},{key:"_read_skipping_comments",value:function(){var e=this._read();return e==g&&(e=(e=this._read())==g?(this._read_to_newline(),l.WHITESPACE_COMMENT1):42==e?(this._read_to_close_comment(),l.WHITESPACE_COMMENT2):(this._unread(e),g)),e}},{key:"_read_to_newline",value:function(){for(var e;(e=this._read())!=d&&e!=v;)if(e==b){(e=this._read())!=v&&this._unread(e);break}}},{key:"_read_to_close_comment",value:function(){for(var e;(e=this._read())!=d&&(42!=e||this._read()!=g););}},{key:"_unread",value:function(e){this._in.unread(e)}},{key:"_read_after_whitespace",value:function(e){var t;if(e)for(t=this._read_skipping_comments();l.is_whitespace(t);)t=this._read_skipping_comments();else for(t=this._read();l.is_whitespace(t);)t=this._read();return t}},{key:"_peek",value:function(e){var t,r=0;if(void 0===e||e.length<1)return this._in.valueAt(this._in.position());for(;r<e.length&&(t=this._read())==e.charCodeAt(r);)r++;for(t=r===e.length?this._peek():(this._unread(t),y);0<r;)r--,this._unread(e.charCodeAt(r));return t}},{key:"_peek_4_digits",value:function(e){var t,r,n=!0,i=[];if(!l.is_digit(e))return y;for(t=0;t<3;t++)if(r=this._read(),i.push(r),!l.is_digit(r)){n=!1;break}for(r=n&&3==t?this._peek():y;0<i.length;)this._unread(i.pop());return r}},{key:"_read_required_digits",value:function(e){if(!l.is_digit(e))return y;for(;e=this._read(),l.is_digit(e););return e}},{key:"_read_optional_digits",value:function(e){for(;l.is_digit(e);)e=this._read();return e}},{key:"_readNDigits",value:function(e){var t;if(e<=0)throw new Error("Cannot read a lack of or negative number of digits.");for(;e--;)if(!l.is_digit(t=this._read()))throw new Error("Expected digit, got: "+String.fromCharCode(t));return t}},{key:"_readPastNDigits",value:function(e){return this._readNDigits(e),this._read()}},{key:"_read_required_hex_digits",value:function(e){if(!l.is_hex_digit(e))return y;for(;e=this._read(),l.is_hex_digit(e););return e}},{key:"_read_N_hexdigits",value:function(e){for(var t,r=0;r<e;){if(t=this._read(),!l.is_hex_digit(t))return this._error(e+" digits required "+r+" found"),y;r++}return t}},{key:"_parseSymbolId",value:function(e){if("$"!==e[0])return NaN;for(var t=1;t<e.length;t++)if(e[t]<"0"||"9"<e[t])return NaN;return parseInt(e.substr(1,e.length))}},{key:"_error",value:function(e){this._ops.unshift(this._done_with_error),this._error_msg=e}}]),t}();r.ParserTextRaw=e},{"./IonSymbolToken":20,"./IonText":23,"./IonTypes":28,"./JsbiSupport":32,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,jsbi:84}],16:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.PrettyTextWriter=void 0;var c=e("./IonText"),h=e("./IonTextWriter"),f=e("./IonTypes"),e=function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:2;return(0,i.default)(this,n),(e=r.call(this,e)).indentSize=t,e.indentCount=0,e}return(0,a.default)(n,[{key:"writeFieldName",value:function(e){if(this.currentContainer.containerType!==f.IonTypes.STRUCT)throw new Error("Cannot write field name outside of a struct");if(this.currentContainer.state!==h.State.STRUCT_FIELD)throw new Error("Expecting a struct value");this.currentContainer.clean||(this.writeable.writeByte(c.CharCodes.COMMA),this.writePrettyNewLine(0)),this.writePrettyIndent(0),this.writeSymbolToken(e),this.writeable.writeByte(c.CharCodes.COLON),this.writeable.writeByte(c.CharCodes.SPACE),this.currentContainer.state=h.State.VALUE}},{key:"writeNull",value:function(e){null==e&&(e=f.IonTypes.NULL),this.handleSeparator(),this.writePrettyValue(),this.writeAnnotations(),this._writeNull(e),this.currentContainer.containerType===f.IonTypes.STRUCT&&(this.currentContainer.state=h.State.STRUCT_FIELD)}},{key:"stepOut",value:function(){var e=this.containerContext.pop();if(!e||!e.containerType)throw new Error("Can't step out when not in a container");if(e.containerType===f.IonTypes.STRUCT&&e.state===h.State.VALUE)throw new Error("Expecting a struct value");switch(e.clean||this.writePrettyNewLine(0),this.writePrettyIndent(-1),e.containerType){case f.IonTypes.LIST:this.writeable.writeByte(c.CharCodes.RIGHT_BRACKET);break;case f.IonTypes.SEXP:this.writeable.writeByte(c.CharCodes.RIGHT_PARENTHESIS);break;case f.IonTypes.STRUCT:this.writeable.writeByte(c.CharCodes.RIGHT_BRACE);break;default:throw new Error("Unexpected container type")}}},{key:"_serializeValue",value:function(e,t,r){if(this.currentContainer.state===h.State.STRUCT_FIELD)throw new Error("Expecting a struct field");null!==t?(this.handleSeparator(),this.writePrettyValue(),this.writeAnnotations(),r(t),this.currentContainer.containerType===f.IonTypes.STRUCT&&(this.currentContainer.state=h.State.STRUCT_FIELD)):this.writeNull(e)}},{key:"writeContainer",value:function(e,t){this.currentContainer.containerType===f.IonTypes.STRUCT&&this.currentContainer.state===h.State.VALUE&&(this.currentContainer.state=h.State.STRUCT_FIELD),this.handleSeparator(),this.writePrettyValue(),this.writeAnnotations(),this.writeable.writeByte(t),this.writePrettyNewLine(1),this._stepIn(e)}},{key:"handleSeparator",value:function(){if(0===this.depth())this.currentContainer.clean?this.currentContainer.clean=!1:this.writeable.writeByte(c.CharCodes.LINE_FEED);else if(this.currentContainer.clean)this.currentContainer.clean=!1;else switch(this.currentContainer.containerType){case f.IonTypes.LIST:this.writeable.writeByte(c.CharCodes.COMMA),this.writePrettyNewLine(0);break;case f.IonTypes.SEXP:this.writeable.writeByte(c.CharCodes.SPACE),this.writePrettyNewLine(0)}}},{key:"writePrettyValue",value:function(){0<this.depth()&&this.currentContainer.containerType&&this.currentContainer.containerType!==f.IonTypes.STRUCT&&this.writePrettyIndent(0)}},{key:"writePrettyNewLine",value:function(e){this.indentCount=this.indentCount+e,this.indentSize&&0<this.indentSize&&this.writeable.writeByte(c.CharCodes.LINE_FEED)}},{key:"writePrettyIndent",value:function(e){if(this.indentCount=this.indentCount+e,this.indentSize&&0<this.indentSize)for(var t=0;t<this.indentCount*this.indentSize;t++)this.writeable.writeByte(c.CharCodes.SPACE)}}]),n}(h.TextWriter);r.PrettyTextWriter=e},{"./IonText":23,"./IonTextWriter":25,"./IonTypes":28,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],17:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.SharedSymbolTable=void 0;e=function(){function i(e,t,r){(0,a.default)(this,i),this._name=e,this._version=t,this._symbols=r,this._idsByText=new Map,this._numberOfSymbols=this._symbols.length;for(var n=r.length-1;0<=n;n--)this._idsByText.set(r[n],n)}return(0,s.default)(i,[{key:"getSymbolText",value:function(e){if(e<0)throw new Error("Index ".concat(e," is out of bounds for the SharedSymbolTable name=").concat(this.name,", version=").concat(this.version));if(!(e>=this.numberOfSymbols))return this._symbols[e]}},{key:"getSymbolId",value:function(e){return this._idsByText.get(e)}},{key:"numberOfSymbols",get:function(){return this._numberOfSymbols}},{key:"name",get:function(){return this._name}},{key:"version",get:function(){return this._version}}]),i}();r.SharedSymbolTable=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],18:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(r);return t=n?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.BinarySpan=r.StringSpan=r.Span=void 0;var c=e("./IonConstants"),h=0,f=1,_=function(){function t(e){(0,o.default)(this,t),this._type=e}return(0,u.default)(t,[{key:"write",value:function(){throw new Error("not implemented")}}],[{key:"error",value:function(){throw new Error("span error")}}]),t}();r.Span=_;e=function(){(0,i.default)(n,_);var r=l(n);function n(e){var t;return(0,o.default)(this,n),(t=r.call(this,h))._line=1,t._src=e,t._limit=e.length,t._start=0,t._pos=0,t._line_start=0,t._old_line_start=0,t}return(0,u.default)(n,[{key:"viewSource",value:function(){return this._src}},{key:"position",value:function(){return this._pos-this._start}},{key:"getRemaining",value:function(){return this._limit-this._pos}},{key:"setRemaining",value:function(e){this._limit=e+this._pos}},{key:"is_empty",value:function(){return this._pos>=this._limit}},{key:"next",value:function(){var e;if(this.is_empty()){if(1073741824<this._pos)throw new Error("span position is out of bounds");return this._pos++,c.EOF}return 13===(e=this._src.charCodeAt(this._pos))?10!=this.peek()&&this._inc_line():10==e&&this._inc_line(),this._pos++,e}},{key:"_inc_line",value:function(){this._old_line_start=this._line_start,this._line++,this._line_start=this._pos}},{key:"unread",value:function(e){this._pos<=this._start&&_.error(),this._pos--,e<0?1!=this.is_empty()&&_.error():(this._pos==this._line_start&&(this._line_start=this._old_line_start,this._line--),e!=this.peek()&&_.error())}},{key:"peek",value:function(){return this.valueAt(this._pos)}},{key:"skip",value:function(e){this._pos+=e,this._pos>this._limit&&(this._pos=this._limit)}},{key:"valueAt",value:function(e){return e<this._start||e>=this._limit?c.EOF:this._src.charCodeAt(e)}},{key:"chunk",value:function(e){var t=this._src.substr(this._pos,e);return this._pos+=e,t}},{key:"getCodePoint",value:function(e){return this._src.codePointAt(e)}},{key:"line_number",value:function(){return this._line}},{key:"offset",value:function(){return this._pos-this._line_start}},{key:"clone",value:function(){return new n(this._src.substr(this._pos))}}]),n}();r.StringSpan=e;e=function(){(0,i.default)(n,_);var r=l(n);function n(e){var t;return(0,o.default)(this,n),(t=r.call(this,f))._src=e,t._limit=e.length,t._start=0,t._pos=0,t}return(0,u.default)(n,[{key:"position",value:function(){return this._pos-this._start}},{key:"getRemaining",value:function(){return this._limit-this._pos}},{key:"setRemaining",value:function(e){this._limit=e+this._pos}},{key:"is_empty",value:function(){return this._pos>=this._limit}},{key:"next",value:function(){return this.is_empty()?c.EOF:this._src[this._pos++]}},{key:"view",value:function(e){if(this._pos+e>this._limit)throw new Error("Unable to read "+e+" bytes (position: "+this.position()+", limit: "+this._limit+")");return this._src.subarray(this._pos,this._pos+=e)}},{key:"chunk",value:function(e){return new Uint8Array(this.view(e))}},{key:"unread",value:function(e){this._pos<=this._start&&_.error(),this._pos--,e==c.EOF&&0==this.is_empty()&&_.error(),e!=this.peek()&&_.error()}},{key:"peek",value:function(){return this.is_empty()?c.EOF:this._src[this._pos]}},{key:"skip",value:function(e){if(this._pos+=e,this._pos>this._limit)throw new Error("Skipped over end of source.")}},{key:"valueAt",value:function(e){return e<this._start||e>=this._limit?c.EOF:this._src[e]}},{key:"clone",value:function(){return new n(this._src.subarray(this._pos))}}]),n}();r.BinarySpan=e},{"./IonConstants":9,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],19:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.SubstituteSymbolTable=void 0;e=function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t;if((0,i.default)(this,n),e<0)throw new Error("Cannot instantiate a SubstituteSymbolTable with a negative length. ("+e+")");return(t=r.call(this,"_substitute",-1,[]))._numberOfSymbols=e,t}return(0,a.default)(n,[{key:"getSymbolText",value:function(e){if(e<0)throw new Error("Index ".concat(e," is out of bounds for the SharedSymbolTable name=").concat(this.name,", version=").concat(this.version))}},{key:"getSymbolId",value:function(){}}]),n}(e("./IonSharedSymbolTable").SharedSymbolTable);r.SubstituteSymbolTable=e},{"./IonSharedSymbolTable":17,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],20:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.SymbolToken=void 0;e=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:r._UNKNOWN_SYMBOL_ID;(0,i.default)(this,r),this.text=e,this.sid=t}return(0,a.default)(r,[{key:"getText",value:function(){return this.text}},{key:"getSid",value:function(){return this.sid}}]),r}();(r.SymbolToken=e)._UNKNOWN_SYMBOL_ID=-1},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],21:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.makeSymbolTable=r.ion_symbol_table_sid=r.ion_symbol_table=void 0;var o=e("./IonImport"),s=e("./IonLocalSymbolTable"),u=e("./IonSubstituteSymbolTable"),l=e("./IonSystemSymbolTable");r.ion_symbol_table="$ion_symbol_table",r.ion_symbol_table_sid=3;r.makeSymbolTable=function(e,t){var r=null,n=[],i=!1,a=!1;for(t.stepIn();t.next();)switch(t.fieldName()){case"imports":if(a)throw new Error("Multiple import fields found.");r=function(e,t){var r=l.getSystemSymbolTableImport();for(e.stepIn();e.next();){e.stepIn();for(var n=null,i=1,a=null;e.next();)switch(e.fieldName()){case"name":n=e.stringValue();break;case"version":i=e.numberValue();break;case"max_id":a=e.numberValue()}if((null===i||i<1)&&(i=1),n&&"$ion"!==n){var s=t.getVersion(n,i);if(!s){if(void 0===a)throw new Error("No exact match found when trying to import symbol table ".concat(n," version ").concat(i));s=t.getTable(n)}s=s||new u.SubstituteSymbolTable(a),r=new o.Import(r,s,a)}e.stepOut()}return e.stepOut(),r}(t,e),a=!0;break;case"symbols":if(i)throw new Error("Multiple symbol fields found.");n=function(e){var t=[];for(e.stepIn();e.next();)t.push(e.stringValue());return e.stepOut(),t}(t),i=!0}return t.stepOut(),new s.LocalSymbolTable(r,n)}},{"./IonImport":11,"./IonLocalSymbolTable":12,"./IonSubstituteSymbolTable":19,"./IonSystemSymbolTable":22}],22:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.getSystemSymbolTableImport=r.getSystemSymbolTable=void 0;var n=e("./IonImport"),i=new(e("./IonSharedSymbolTable").SharedSymbolTable)("$ion",1,["$ion","$ion_1_0","$ion_symbol_table","name","version","imports","symbols","max_id","$ion_shared_symbol_table"]);function a(){return i}r.getSystemSymbolTable=a,r.getSystemSymbolTableImport=function(){return new n.Import(null,i)}},{"./IonImport":11,"./IonSharedSymbolTable":17}],23:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/extends"));Object.defineProperty(r,"__esModule",{value:!0}),r.escape=r.isDigit=r.isOperator=r.isIdentifier=r.SymbolEscapes=r.StringEscapes=r.ClobEscapes=r.CharCodes=r.toBase64=r.fromBase64=r.is_hex_digit=r.is_base64_char=r.is_whitespace=r.is_operator_char=r.is_letter_or_digit=r.isNumericTerminator=r.is_letter=r.toHex=r.escapeSequence=r.escapeString=r.needsEscape=r.nextEscape=r.asAscii=r.is_keyword=r.is_digit=r.ESCAPED_NEWLINE=r.WHITESPACE_COMMENT2=r.WHITESPACE_COMMENT1=void 0,r.WHITESPACE_COMMENT1=-2,r.WHITESPACE_COMMENT2=-3,r.ESCAPED_NEWLINE=-4;var i=34,a=39,s=92,o={0:"\\0",8:"\\b",9:"\\t",10:"\\n",13:"\\r",DOUBLE_QUOTE:'\\"',SINGLE_QUOTE:"\\'",SLASH:"\\\\"};function u(e){var t=e.length,r=[];for(r[128]=!1;0<t;)--t,r[e.charCodeAt(t)]=!0;return r}var l=u("+/0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),c=u("0123456789abcdefABCDEF"),h=u("_$abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),f=u("_$0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"),_=u("{}[](),\"' \t\n\r\v\f"),p=u("!#%&*+-./;<=>?@^`|~"),d=u(" \t\r\n\v\f"),y=u("_$0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ");function b(e){return!(e<48||57<e)}function v(e,t){for(;0<t--&&!m(e.charCodeAt(t)););return t}function m(e){return e<32||(126<e||(e===i||e===a||e===s))}function g(e,t){for(var r,n,i=[];0<=t&&m(r=e.charCodeAt(t));)i.push([t,r]),t=v(e,t);if(0<i.length){for(s="",n=i.length,t=e.length;n--;){var a=i[n],s=0<t-a[0]-1?T(a[1])+e.substring(a[0]+1,t)+s:e.substring(a[0]+1,t)+s;t=a[0]-1}0<=t&&(s=e.substring(0,t)+s),e=s}return e}function T(e){var t=o[e];return void 0===t&&(t=e<256?"\\x"+w(e,2):e<=65535?"\\u"+w(e,4):"\\U"+w(e,8)),t}function w(e,t){for(var r="";0<e;)r+="0123456789ABCDEF".charAt(e&&15),e/=16;return r.length<t&&(r=(r="000000000"+r).substring(r.length-t,r.length)),r}r.is_digit=b,r.is_keyword=function(e){return"null"===e||"true"===e||"false"===e||"nan"===e||"+inf"===e||"-inf"===e},r.asAscii=function(e){var t;return void 0===e?e="undefined::null":"number"==typeof e?e=""+e:"string"==typeof e||0<=(t=v(e,e.length))&&(e=g(e,t)),e},r.nextEscape=v,r.needsEscape=m,r.escapeString=g,r.escapeSequence=T,r.toHex=w,r.is_letter=function(e){return h[e]},r.isNumericTerminator=function(e){return-1==e||_[e]},r.is_letter_or_digit=function(e){return f[e]},r.is_operator_char=function(e){return p[e]},r.is_whitespace=function(e){return!(32<e)&&(e==this.WHITESPACE_COMMENT1||(e==this.WHITESPACE_COMMENT2||(e==this.ESCAPED_NEWLINE||d[e])))},r.is_base64_char=function(e){return l[e]},r.is_hex_digit=function(e){return c[e]};var I,S=["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","0","1","2","3","4","5","6","7","8","9","+","/"],C={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,a:26,b:27,c:28,d:29,e:30,f:31,g:32,h:33,i:34,j:35,k:36,l:37,m:38,n:39,o:40,p:41,q:42,r:43,s:44,t:45,u:46,v:47,w:48,x:49,y:50,z:51,0:52,1:53,2:54,3:55,4:56,5:57,6:58,7:59,8:60,9:61,"+":62,"/":63};function E(e){return[I.BACKSLASH,e.charCodeAt(0)]}r.fromBase64=function(e){for(var t=0,r=e.length-1;"="==e.charAt(r);r--)t++;for(var n=new Uint8Array(3*e.length/4-t),i=0;i<e.length-t;i+=4){var a=C[e.charAt(i)],s=C[e.charAt(i+1)],o=C[e.charAt(i+2)],u=C[e.charAt(i+3)];n[3*i/4]=a<<2&255|s>>>4,i+2<e.length-t&&(n[3*i/4+1]=s<<4&255|o>>>2,i+3<e.length-t&&(n[3*i/4+2]=o<<6&255|u))}return n},r.toBase64=function(e){for(var t=new Array(Math.ceil(4*e.length/3)),r=0;r<e.length;r+=3){var n=e[r],i=e[r+1],a=e[r+2];e[r+3];if(t[4*r/3]=S[n>>>2],t[4*r/3+1]=S[n<<4&63|(i||0)>>>4],!(r+1<e.length))return t.join("")+"==";if(t[4*r/3+2]=S[i<<2&63|(a||0)>>>6],!(r+2<e.length))return t.join("")+"=";t[4*r/3+3]=S[63&a]}return t.join("")},(e=I=r.CharCodes||(r.CharCodes={}))[e.NULL=0]="NULL",e[e.BELL=7]="BELL",e[e.BACKSPACE=8]="BACKSPACE",e[e.HORIZONTAL_TAB=9]="HORIZONTAL_TAB",e[e.LINE_FEED=10]="LINE_FEED",e[e.VERTICAL_TAB=11]="VERTICAL_TAB",e[e.FORM_FEED=12]="FORM_FEED",e[e.CARRIAGE_RETURN=13]="CARRIAGE_RETURN",e[e.DOUBLE_QUOTE=34]="DOUBLE_QUOTE",e[e.SINGLE_QUOTE=39]="SINGLE_QUOTE",e[e.FORWARD_SLASH=47]="FORWARD_SLASH",e[e.QUESTION_MARK=63]="QUESTION_MARK",e[e.BACKSLASH=92]="BACKSLASH",e[e.LEFT_PARENTHESIS=40]="LEFT_PARENTHESIS",e[e.RIGHT_PARENTHESIS=41]="RIGHT_PARENTHESIS",e[e.LEFT_BRACE=123]="LEFT_BRACE",e[e.RIGHT_BRACE=125]="RIGHT_BRACE",e[e.LEFT_BRACKET=91]="LEFT_BRACKET",e[e.RIGHT_BRACKET=93]="RIGHT_BRACKET",e[e.COMMA=44]="COMMA",e[e.SPACE=32]="SPACE",e[e.LOWERCASE_X=120]="LOWERCASE_X",e[e.COLON=58]="COLON";var k=[I.BACKSLASH,I.LOWERCASE_X];function O(e){for(var t=e.toString(16);t.length<2;)t="0"+t;return k.concat(function(e){for(var t=new Array(e.length),r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(t))}function A(e,t,r){if(void 0===r)e[t]=O(t);else for(var n=t;n<r;n++)e[n]=O(n)}e={};e[I.NULL]=E("0"),A(e,1,7),e[I.BELL]=E("a"),e[I.BACKSPACE]=E("b"),e[I.HORIZONTAL_TAB]=E("t"),e[I.LINE_FEED]=E("n"),e[I.VERTICAL_TAB]=E("v"),e[I.FORM_FEED]=E("f"),e[I.CARRIAGE_RETURN]=E("r"),A(e,14,32),e[I.BACKSLASH]=E("\\"),A(e,127,160),r.ClobEscapes=(0,n.default)({},e),r.ClobEscapes[I.DOUBLE_QUOTE]=E('"'),r.ClobEscapes[I.SINGLE_QUOTE]=E("'"),r.ClobEscapes[I.FORWARD_SLASH]=E("/"),r.ClobEscapes[I.QUESTION_MARK]=E("?"),r.StringEscapes=(0,n.default)({},e),r.StringEscapes[I.DOUBLE_QUOTE]=E('"'),r.SymbolEscapes=(0,n.default)({},e),r.SymbolEscapes[I.SINGLE_QUOTE]=E("'"),r.isIdentifier=function(e){if(b(e.charCodeAt(0)))return!1;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!y[r])return!1}return!0},r.isOperator=function(e){for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);if(!p[r])return!1}return!0},r.isDigit=function(e){return e<58&&47<e},r.escape=function(e,t){for(var r,n="",i="",a=0,s=0;s<e.length;s++)if(void 0!==(r=t[e.charCodeAt(s)])){for(var o=0;o<r.length;o++)i+=String.fromCharCode(r[o]);n+=e.slice(a,s)+i,a=s+1,i=""}return n+e.slice(a,e.length)}},{"@babel/runtime/helpers/extends":65,"@babel/runtime/helpers/interopRequireDefault":69}],24:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TextReader=void 0;var s=n(e("./IntSize")),o=e("./IonCatalog"),u=e("./IonDecimal"),l=e("./IonLocalSymbolTable"),c=e("./IonParserTextRaw"),h=e("./IonSymbols"),f=e("./IonText"),_=e("./IonTimestamp"),p=e("./IonTypes"),d=e("./JsbiSupport"),e=function(){function r(e,t){if((0,i.default)(this,r),!e)throw new Error("a source Span is required to make a reader");this._parser=new c.ParserTextRaw(e),this._depth=0,this._cat=t||new o.Catalog,this._symtab=l.defaultLocalSymbolTable(),this._type=null,this._raw_type=void 0,this._raw=void 0}return(0,a.default)(r,[{key:"load_raw",value:function(){var e=this;void 0===e._raw&&(14===e._raw_type||15===e._raw_type?e._raw=e._parser.get_value_as_uint8array(e._raw_type):e._raw=e._parser.get_value_as_string(e._raw_type))}},{key:"skip_past_container",value:function(){var e,t=this.depth();for(this.stepIn();this.depth()>t;)null===(e=this.next())?this.stepOut():e.isContainer&&!this.isNull()&&this.stepIn()}},{key:"isIVM",value:function(e,t,r){if(0<t)return!1;t="$ion_1_0";if(e.length<t.length||0<r.length)return!1;for(var n=0;n<"$ion_".length;){if("$ion_".charAt(n)!==e.charAt(n))return!1;n++}for(;n<e.length&&"_"!=e.charAt(n);){var i=e.charAt(n);if(i<"0"||"9"<i)return!1;n++}for(n++;n<e.length;){var a=e.charAt(n);if(a<"0"||"9"<a)return!1;n++}if(e!==t)throw new Error("Only Ion version 1.0 is supported.");return!0}},{key:"isLikeIVM",value:function(){return!1}},{key:"next",value:function(){if(this._raw=void 0,-1===this._raw_type)return null;-2!==this._raw_type&&!this.isNull()&&this._type&&this._type.isContainer&&this.skip_past_container();for(var e=this._parser;;)if(this._raw_type=e.next(),9===this._raw_type){if(0<this._depth)break;if(this.load_raw(),!this.isIVM(this._raw,this.depth(),this.annotations()))break;this._symtab=l.defaultLocalSymbolTable(),this._raw=void 0,this._raw_type=void 0}else if(11===this._raw_type){if(0<this._depth)break;if(this.load_raw(),"$ion_1_0"!==this._raw)break;this._raw=void 0,this._raw_type=void 0}else{if(19!==this._raw_type)break;if(1!==e.annotations().length)break;if(e.annotations()[0].getText()!=h.ion_symbol_table)break;this._type=c.get_ion_type(this._raw_type),this._symtab=h.makeSymbolTable(this._cat,this),this._raw=void 0,this._raw_type=void 0}return this._type=c.get_ion_type(this._raw_type),this._type}},{key:"stepIn",value:function(){if(!this._type.isContainer)throw new Error("can't step in to a scalar value");if(this.isNull())throw new Error("Can't step into a null container");this._parser.clearFieldName(),this._type=null,this._raw_type=-2,this._depth++}},{key:"stepOut",value:function(){for(this._parser.clearFieldName();-1!=this._raw_type;)this.next();if(this._raw_type=void 0,this._depth<=0)throw new Error("Cannot stepOut any further, already at top level");this._depth--}},{key:"type",value:function(){return this._type}},{key:"depth",value:function(){return this._depth}},{key:"fieldName",value:function(){var e=this._parser.fieldName();if(null!==e&&(9===this._parser.fieldNameType()&&1<e.length&&"$"===e[0])){var t=e.substr(1,e.length);if(+t==+t){t=this._symtab.getSymbolText(Number(t));if(void 0===t)throw new Error("Unresolvable symbol ID, symboltokens unsupported.");return t}}return e}},{key:"annotations",value:function(){var r=this;return this._parser.annotations().map(function(e){var t=e.getText();if(null!==t)return t;e=r._symtab.getSymbolText(e.getSid());if(null==e)throw new Error("Unresolvable symbol ID, symboltokens unsupported.");return e})}},{key:"isNull",value:function(){return this._type===p.IonTypes.NULL||this._parser.isNull()}},{key:"_stringRepresentation",value:function(){return this.load_raw(),this.isNull()?this._type===p.IonTypes.NULL?"null":"null."+this._type.name:this._raw}},{key:"booleanValue",value:function(){switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.BOOL:return this._parser.booleanValue()}throw new Error("Current value is not a Boolean.")}},{key:"byteValue",value:function(){switch(this.load_raw(),this._type){case p.IonTypes.NULL:return null;case p.IonTypes.BLOB:return this.isNull()?null:f.fromBase64(this._raw);case p.IonTypes.CLOB:return this.isNull()?null:this._raw}throw new Error("Current value is not a blob or clob.")}},{key:"decimalValue",value:function(){switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.DECIMAL:return u.Decimal.parse(this._stringRepresentation())}throw new Error("Current value is not a decimal.")}},{key:"bigIntValue",value:function(){switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.INT:return this._parser.bigIntValue()}throw new Error("bigIntValue() was called when the current value was a(n) "+this._type.name)}},{key:"intSize",value:function(){return d.JsbiSupport.isSafeInteger(this.bigIntValue())?s.default.Number:s.default.BigInt}},{key:"numberValue",value:function(){switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.FLOAT:case p.IonTypes.INT:return this._parser.numberValue()}throw new Error("Current value is not a float or int.")}},{key:"stringValue",value:function(){switch(this.load_raw(),this._type){case p.IonTypes.NULL:return null;case p.IonTypes.STRING:return this._parser.isNull()?null:this._raw;case p.IonTypes.SYMBOL:if(this._parser.isNull())return null;if(9===this._raw_type&&1<this._raw.length&&this._raw.charAt(0)==="$".charAt(0)){var e=this._raw.substr(1,this._raw.length);if(+e==+e){e=Number(e),e=this._symtab.getSymbolText(e);if(void 0===e)throw new Error("Unresolvable symbol ID, symboltokens unsupported.");return e}}return this._raw}throw new Error("Current value is not a string or symbol.")}},{key:"timestampValue",value:function(){switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.TIMESTAMP:return _.Timestamp.parse(this._stringRepresentation())}throw new Error("Current value is not a timestamp.")}},{key:"value",value:function(){if(this._type&&this._type.isContainer){if(this.isNull())return null;throw new Error("Unable to provide a value for "+this._type.name+" containers.")}switch(this._type){case p.IonTypes.NULL:return null;case p.IonTypes.BLOB:case p.IonTypes.CLOB:return this.byteValue();case p.IonTypes.BOOL:return this.booleanValue();case p.IonTypes.DECIMAL:return this.decimalValue();case p.IonTypes.INT:return this.bigIntValue();case p.IonTypes.FLOAT:return this.numberValue();case p.IonTypes.STRING:case p.IonTypes.SYMBOL:return this.stringValue();case p.IonTypes.TIMESTAMP:return this.timestampValue();default:throw new Error("There is no current value.")}}}]),r}();r.TextReader=e},{"./IntSize":3,"./IonCatalog":8,"./IonDecimal":10,"./IonLocalSymbolTable":12,"./IonParserTextRaw":15,"./IonSymbols":21,"./IonText":23,"./IonTimestamp":26,"./IonTypes":28,"./JsbiSupport":32,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],25:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/createClass")),a=n(e("@babel/runtime/helpers/assertThisInitialized")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/classCallCheck"));function c(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return h(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function f(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.TextWriter=r.Context=r.State=void 0;var _,p=n(e("jsbi")),n=e("./AbstractWriter"),d=e("./IonText"),y=e("./IonTypes"),b=e("./IonUnicode"),v=e("./JsbiSupport"),m=e("./util");(e=_=r.State||(r.State={}))[e.VALUE=0]="VALUE",e[e.STRUCT_FIELD=1]="STRUCT_FIELD";var g=function e(t){(0,l.default)(this,e),this.state=t===y.IonTypes.STRUCT?_.STRUCT_FIELD:_.VALUE,this.clean=!0,this.containerType=t};r.Context=g;n=function(e){(0,s.default)(n,e);var r=f(n);function n(e){var t;return(0,l.default)(this,n),(t=r.call(this)).writeable=e,t._floatSerializer=function(e){n._serializeFloat((0,a.default)(t),e)},t.containerContext=[new g(null)],t}return(0,i.default)(n,[{key:"getBytes",value:function(){return this.writeable.getBytes()}},{key:"writeBlob",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.BLOB,e,function(e){t.writeable.writeBytes(b.encodeUtf8("{{"+d.toBase64(e)+"}}"))})}},{key:"writeBoolean",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.BOOL,e,function(e){t.writeUtf8(e?"true":"false")})}},{key:"writeClob",value:function(e){var o=this;m._assertDefined(e),this._serializeValue(y.IonTypes.CLOB,e,function(e){var t;o.writeUtf8('{{"');for(var r=0;r<e.length;r++){var n=e[r];if(127<n&&n<256){t="\\x"+n.toString(16);for(var i=0;i<t.length;i++)o.writeable.writeByte(t.charCodeAt(i))}else{var a=d.ClobEscapes[n];if(void 0===a)if(n<32){t="\\x"+n.toString(16);for(var s=0;s<t.length;s++)o.writeable.writeByte(t.charCodeAt(s))}else o.writeable.writeByte(n);else o.writeable.writeBytes(new Uint8Array(a))}}o.writeUtf8('"}}')})}},{key:"writeDecimal",value:function(e){var o=this;m._assertDefined(e),this._serializeValue(y.IonTypes.DECIMAL,e,function(e){var t="",r=e.getCoefficient();p.default.lessThan(r,v.JsbiSupport.ZERO)&&(r=p.default.unaryMinus(r)),e.isNegative()&&(t+="-");var n,i,a=e.getExponent(),s=-a;0==a?t+=r+".":a<0?0<=(i=(n=r.toString().length)-1-s)?(e=n-s,t+=r.toString().substring(0,e),t+=".",t+=r.toString().substring(e,n)):-6<=i?(t+="0.",t+="00000".substring(0,s-n),t+=r):(t+=r,t+="d-",t+=s.toString()):t+=r+"d"+a,o.writeUtf8(t)})}},{key:"_isInStruct",value:function(){return this.currentContainer.containerType===y.IonTypes.STRUCT}},{key:"writeFieldName",value:function(e){if(m._assertDefined(e),this.currentContainer.containerType!==y.IonTypes.STRUCT)throw new Error("Cannot write field name outside of a struct");if(this.currentContainer.state!==_.STRUCT_FIELD)throw new Error("Expecting a struct value");this.currentContainer.clean||this.writeable.writeByte(d.CharCodes.COMMA),this.writeSymbolToken(e),this.writeable.writeByte(d.CharCodes.COLON),this.currentContainer.state=_.VALUE}},{key:"writeFloat32",value:function(e){m._assertDefined(e),this._writeFloat(e)}},{key:"writeFloat64",value:function(e){m._assertDefined(e),this._writeFloat(e)}},{key:"writeInt",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.INT,e,function(e){t.writeUtf8(e.toString(10))})}},{key:"_writeNull",value:function(e){e===y.IonTypes.NULL?this.writeUtf8("null"):this.writeUtf8("null."+e.name)}},{key:"writeNull",value:function(e){null==e&&(e=y.IonTypes.NULL),this.handleSeparator(),this.writeAnnotations(),this._writeNull(e),this.currentContainer.containerType===y.IonTypes.STRUCT&&(this.currentContainer.state=_.STRUCT_FIELD)}},{key:"writeString",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.STRING,e,function(e){t.writeable.writeBytes(b.encodeUtf8('"'+d.escape(e,d.StringEscapes)+'"'))})}},{key:"writeSymbol",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.SYMBOL,e,function(e){t.writeSymbolToken(e)})}},{key:"writeTimestamp",value:function(e){var t=this;m._assertDefined(e),this._serializeValue(y.IonTypes.TIMESTAMP,e,function(e){t.writeUtf8(e.toString())})}},{key:"stepIn",value:function(e){if(this.currentContainer.state===_.STRUCT_FIELD)throw new Error("Started writing a ".concat(this.currentContainer.containerType.name,' inside a struct"\n                + " without writing the field name first. Call writeFieldName(string) with the desired name"\n                + " before calling stepIn(').concat(this.currentContainer.containerType.name,")."));switch(e){case y.IonTypes.LIST:this.writeContainer(e,d.CharCodes.LEFT_BRACKET);break;case y.IonTypes.SEXP:this.writeContainer(e,d.CharCodes.LEFT_PARENTHESIS);break;case y.IonTypes.STRUCT:if(void 0!==this._annotations&&"$ion_symbol_table"===this._annotations[0]&&0===this.depth())throw new Error("Unable to alter symbol table context, it allows invalid ion to be written.");this.writeContainer(e,d.CharCodes.LEFT_BRACE);break;default:throw new Error("Unrecognized container type")}}},{key:"stepOut",value:function(){var e=this.containerContext.pop();if(!e||!e.containerType)throw new Error("Can't step out when not in a container");if(e.containerType===y.IonTypes.STRUCT&&e.state===_.VALUE)throw new Error("Expecting a struct value");switch(e.containerType){case y.IonTypes.LIST:this.writeable.writeByte(d.CharCodes.RIGHT_BRACKET);break;case y.IonTypes.SEXP:this.writeable.writeByte(d.CharCodes.RIGHT_PARENTHESIS);break;case y.IonTypes.STRUCT:this.writeable.writeByte(d.CharCodes.RIGHT_BRACE);break;default:throw new Error("Unexpected container TypeCode")}}},{key:"close",value:function(){if(0<this.depth())throw new Error("Writer has one or more open containers; call stepOut() for each container prior to close()")}},{key:"depth",value:function(){return this.containerContext.length-1}},{key:"_serializeValue",value:function(e,t,r){if(this.currentContainer.state===_.STRUCT_FIELD)throw new Error("Expecting a struct field");null!==t?(this.handleSeparator(),this.writeAnnotations(),r(t),this.currentContainer.containerType===y.IonTypes.STRUCT&&(this.currentContainer.state=_.STRUCT_FIELD)):this.writeNull(e)}},{key:"writeContainer",value:function(e,t){this.currentContainer.containerType===y.IonTypes.STRUCT&&this.currentContainer.state===_.VALUE&&(this.currentContainer.state=_.STRUCT_FIELD),this.handleSeparator(),this.writeAnnotations(),this.writeable.writeByte(t),this._stepIn(e)}},{key:"handleSeparator",value:function(){if(0===this.depth())this.currentContainer.clean?this.currentContainer.clean=!1:this.writeable.writeByte(d.CharCodes.LINE_FEED);else if(this.currentContainer.clean)this.currentContainer.clean=!1;else switch(this.currentContainer.containerType){case y.IonTypes.LIST:this.writeable.writeByte(d.CharCodes.COMMA);break;case y.IonTypes.SEXP:this.writeable.writeByte(d.CharCodes.SPACE)}}},{key:"writeUtf8",value:function(e){this.writeable.writeBytes(b.encodeUtf8(e))}},{key:"writeAnnotations",value:function(){var t=c(this._annotations);try{for(t.s();!(e=t.n()).done;){var e=e.value;this.writeSymbolToken(e),this.writeUtf8("::")}}catch(e){t.e(e)}finally{t.f()}this._clearAnnotations()}},{key:"_stepIn",value:function(e){this.containerContext.push(new g(e))}},{key:"writeSymbolToken",value:function(e){0===e.length||d.is_keyword(e)||this.isSid(e)||!d.isIdentifier(e)&&!d.isOperator(e)||d.isOperator(e)&&this.currentContainer.containerType!=y.IonTypes.SEXP?this.writeable.writeBytes(b.encodeUtf8("'"+d.escape(e,d.SymbolEscapes)+"'")):this.writeUtf8(e)}},{key:"_writeFloat",value:function(e){this._serializeValue(y.IonTypes.FLOAT,e,this._floatSerializer)}},{key:"isSid",value:function(e){if(1<e.length&&e.charAt(0)==="$".charAt(0)){e=e.substr(1,e.length);return+e==+e}return!1}},{key:"isTopLevel",get:function(){return 0===this.depth()}},{key:"currentContainer",get:function(){return this.containerContext[this.depth()]}}],[{key:"_serializeFloat",value:function(e,t){var r;t===Number.POSITIVE_INFINITY?r="+inf":t===Number.NEGATIVE_INFINITY?r="-inf":Object.is(t,Number.NaN)?r="nan":Object.is(t,-0)?r="-0e0":-1<(t=(r=t.toExponential()).lastIndexOf("+"))&&(r=r.slice(0,t)+r.slice(t+1)),e.writeUtf8(r)}}]),n}(n.AbstractWriter);r.TextWriter=n},{"./AbstractWriter":1,"./IonText":23,"./IonTypes":28,"./IonUnicode":29,"./JsbiSupport":32,"./util":56,"@babel/runtime/helpers/assertThisInitialized":60,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,jsbi:84}],26:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/defineProperty")),s=n(e("@babel/runtime/helpers/slicedToArray")),l=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.Timestamp=r.TimestampPrecision=void 0;var c,b=e("./IonDecimal"),o=e("./IonText"),h=e("./util");(e=c=r.TimestampPrecision||(r.TimestampPrecision={}))[e.YEAR=1]="YEAR",e[e.MONTH=2]="MONTH",e[e.DAY=3]="DAY",e[e.HOUR_AND_MINUTE=4]="HOUR_AND_MINUTE",e[e.SECONDS=5]="SECONDS";var v,m=function(){function u(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null,i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:null,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:null,s=6<arguments.length&&void 0!==arguments[6]?arguments[6]:null;if((0,l.default)(this,u),this._localOffset=e,this._year=t,this._precision=c.YEAR,this._checkRequiredField("Offset",this._localOffset,u._MIN_OFFSET,u._MAX_OFFSET),this._checkRequiredField("Year",this._year,u._MIN_YEAR,u._MAX_YEAR),this._month=this._checkOptionalField("Month",r,u._MIN_MONTH,u._MAX_MONTH,1,c.MONTH),this._day=this._checkOptionalField("Day",n,u._MIN_DAY,u._MAX_DAY,1,c.DAY),this._hour=this._checkOptionalField("Hour",i,u._MIN_HOUR,u._MAX_HOUR,0,c.HOUR_AND_MINUTE),this._minutes=this._checkOptionalField("Minutes",a,u._MIN_MINUTE,u._MAX_MINUTE,0,c.HOUR_AND_MINUTE),"number"==typeof s){if(!Number.isInteger(s))throw new Error("The provided seconds number was not an integer ("+s+")");this._secondsDecimal=new b.Decimal(s,0)}else null!==s&&(this._secondsDecimal=s);if(null===this._secondsDecimal||void 0===this._secondsDecimal?this._secondsDecimal=b.Decimal.ZERO:(this._checkFieldRange("Seconds",this._secondsDecimal,u._MIN_SECONDS,u._MAX_SECONDS),this._precision=c.SECONDS),this._precision<=c.DAY&&(this._localOffset=-0),this._precision>c.MONTH){var o=new Date(this._year,this._month,0);if(o.setUTCFullYear(this._year),this._day>o.getDate())throw new Error("Month ".concat(this._month," has less than ").concat(this._day," days"));if(2===this._month&&29===this._day&&!this._isLeapYear(this._year))throw new Error("Given February 29th but year ".concat(this._year," is not a leap year"))}o=this.getDate().getUTCFullYear();this._checkFieldRange("Year",o,u._MIN_YEAR,u._MAX_YEAR)}return(0,a.default)(u,[{key:"getLocalOffset",value:function(){return this._localOffset}},{key:"getPrecision",value:function(){return this._precision}},{key:"getDate",value:function(){var e=0;this._precision===c.SECONDS&&(e=Math.round(1e3*(this._secondsDecimal.numberValue()-this.getSecondsInt())));var t=Date.UTC(this._year,this._precision===c.YEAR?0:this._month-1,this._day,this._hour,this._minutes,this.getSecondsInt(),e),t=u._adjustMsSinceEpochIfNeeded(this._year,t),e=60*this._localOffset*1e3;return new Date(t-e)}},{key:"getSecondsInt",value:function(){return this._secondsDecimal.intValue()}},{key:"getSecondsDecimal",value:function(){return this._secondsDecimal}},{key:"_getFractionalSeconds",value:function(){var e=u._splitSecondsDecimal(this._secondsDecimal),e=(0,s.default)(e,2),e=(e[0],e[1]);return""===e?b.Decimal.ZERO:b.Decimal.parse(e+"d-"+e.length)}},{key:"equals",value:function(e){return this.getPrecision()===e.getPrecision()&&this.getLocalOffset()===e.getLocalOffset()&&h._sign(this.getLocalOffset())===h._sign(e.getLocalOffset())&&0===this.compareTo(e)&&this._secondsDecimal.equals(e._secondsDecimal)}},{key:"compareTo",value:function(e){var t=this.getDate().getTime(),r=e.getDate().getTime();return t===r?this.getSecondsDecimal().compareTo(e.getSecondsDecimal()):t<r?-1:1}},{key:"toString",value:function(){var e="";switch(this._precision){default:throw new Error("unrecognized timestamp precision "+this._precision);case c.SECONDS:var t=u._splitSecondsDecimal(this._secondsDecimal),r=(0,s.default)(t,2),t=r[0],r=r[1],e=this._lpadZeros(t,2);0<r.length&&(e+="."+r);case c.HOUR_AND_MINUTE:e=this._lpadZeros(this._minutes,2)+(e?":"+e:""),e=this._lpadZeros(this._hour,2)+(e?":"+e:"");case c.DAY:e=this._lpadZeros(this._day,2)+(e?"T"+e:"T");case c.MONTH:e=this._lpadZeros(this._month,2)+(e?"-"+e:"");case c.YEAR:e=this._precision===c.YEAR?this._lpadZeros(this._year,4)+"T":this._precision===c.MONTH?this._lpadZeros(this._year,4)+"-"+e+"T":this._lpadZeros(this._year,4)+"-"+e}var n=this._localOffset;return this._precision>c.DAY&&(0===n&&1===h._sign(n)?e+="Z":e+=(-1===h._sign(n)?"-":"+")+this._lpadZeros(Math.floor(Math.abs(n)/60),2)+":"+this._lpadZeros(Math.abs(n)%60,2)),e}},{key:"toJSON",value:function(){return this.getDate().toISOString()}},{key:"_checkRequiredField",value:function(e,t,r,n){if(!h._hasValue(t))throw new Error("".concat(e," cannot be ").concat(t));this._checkFieldRange(e,t,r,n)}},{key:"_checkOptionalField",value:function(e,t,r,n,i,a){return h._hasValue(t)?(this._checkFieldRange(e,t,r,n),this._precision=a,t):i}},{key:"_checkFieldRange",value:function(e,t,r,n){if(t instanceof b.Decimal){if(h._hasValue(t)&&(t.compareTo(r)<0||0<=t.compareTo(n)))throw new Error("".concat(e," ").concat(t," must be between ").concat(r," inclusive, and ").concat(n," exclusive"))}else{if(!Number.isInteger(t))throw new Error("".concat(e," ").concat(t," must be an integer"));if(t<r||n<t)throw new Error("".concat(e," ").concat(t," must be between ").concat(r," and ").concat(n," inclusive"))}}},{key:"_isLeapYear",value:function(e){return e%4==0&&(e%400==0||(e%100!=0||e<1600))}},{key:"_lpadZeros",value:function(e,t){e=e.toString();if(e.length<=t)return"0".repeat(t-e.length)+e;throw new Error("Unable to fit '"+e+"' into "+t+" characters")}}],[{key:"parse",value:function(e){return f._parse(e)}},{key:"_adjustMsSinceEpochIfNeeded",value:function(e,t){if(100<=e)return t;t=new Date(t);return t.setUTCFullYear(e),t.getTime()}},{key:"_splitSecondsDecimal",value:function(e){var t,r=e.getCoefficient().toString(),n=e.getExponent(),i="",a="";return n<0?(t=Math.max(r.length+n,0),i=r.substr(0,t),a=r.substr(t),0<-e.getExponent()-r.length&&(a="0".repeat(-n-r.length)+a)):i=0<n?r+"0".repeat(n):r,[i,a]}},{key:"_valueOf",value:function(e,t,r,n){var i,a=e.getTime()+60*t*1e3;switch(e=new Date(a),i=null!=r?(r=u._splitSecondsDecimal(r),(r=(0,s.default)(r,2))[0],r=r[1],b.Decimal.parse(e.getUTCSeconds()+"."+r)):b.Decimal.parse(e.getUTCSeconds()+"."+e.getUTCMilliseconds()),n){case c.YEAR:return new u(t,e.getUTCFullYear());case c.MONTH:return new u(t,e.getUTCFullYear(),e.getUTCMonth()+1);case c.DAY:return new u(t,e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate());case c.HOUR_AND_MINUTE:return new u(t,e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes());case c.SECONDS:default:return new u(t,e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),i)}}}]),u}();(r.Timestamp=m)._MIN_SECONDS=b.Decimal.ZERO,m._MAX_SECONDS=b.Decimal.parse("60"),m._MIN_MINUTE=0,m._MAX_MINUTE=59,m._MIN_HOUR=0,m._MAX_HOUR=23,m._MIN_DAY=1,m._MAX_DAY=31,m._MIN_MONTH=1,m._MAX_MONTH=12,m._MIN_YEAR=1,m._MAX_YEAR=9999,m._MIN_OFFSET=-1439,m._MAX_OFFSET=1439,(e=v=v||{})[e.YEAR=0]="YEAR",e[e.MONTH=1]="MONTH",e[e.DAY=2]="DAY",e[e.HOUR=3]="HOUR",e[e.MINUTE=4]="MINUTE",e[e.SECONDS=5]="SECONDS",e[e.FRACTIONAL_SECONDS=6]="FRACTIONAL_SECONDS",e[e.OFFSET_POSITIVE=7]="OFFSET_POSITIVE",e[e.OFFSET_NEGATIVE=8]="OFFSET_NEGATIVE",e[e.OFFSET_MINUTES=9]="OFFSET_MINUTES",e[e.OFFSET_ZULU=10]="OFFSET_ZULU",e[e.OFFSET_UNKNOWN=11]="OFFSET_UNKNOWN";var r=function e(t,r){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;(0,l.default)(this,e),this.f=t,this.len=r,this.t=n},f=function(){function y(){(0,l.default)(this,y)}return(0,a.default)(y,null,[{key:"_parse",value:function(e){if(e.length<1)return null;if(110===e.charCodeAt(0)){if("null"===e||"null.timestamp"===e)return null;throw new Error("Illegal timestamp: "+e)}for(var t,r,n,i=null,a=0,s=null,o=null,u=null,l=null,c=null,h="",f=0,_=y._timeParserStates[v.YEAR],p=e.length;f<p;){if(null===_.len){var d=y._readUnknownDigits(e,f);if(0===d.length)throw new Error("No digits found at pos: "+f);r=parseInt(d,10),f+=d.length}else if(0<_.len){if((r=y._readDigits(e,f,_.len))<0)throw new Error("Non-digit value found at pos "+f);f+=_.len}switch(_.f){case v.YEAR:a=r;break;case v.MONTH:s=r;break;case v.DAY:o=r;break;case v.HOUR:u=r;break;case v.MINUTE:l=r;break;case v.SECONDS:c=r;break;case v.FRACTIONAL_SECONDS:h=e.substring(20,f);break;case v.OFFSET_POSITIVE:t=1,i=60*r;break;case v.OFFSET_NEGATIVE:t=-1,i=60*r;break;case v.OFFSET_MINUTES:if(i+=r,60<=r)throw new Error("Minute offset "+String(r)+" above maximum or equal to : 60");break;case v.OFFSET_ZULU:t=1,i=0;break;case v.OFFSET_UNKNOWN:i=-0;break;default:throw new Error("invalid internal state")}if(p<=f)break;if(null!==_.t){d=String.fromCharCode(e.charCodeAt(f));if(void 0===(_=y._timeParserStates[_.t[d]]))throw new Error("State was not set pos:"+f);_.f===v.OFFSET_ZULU&&(t=1,i=0)}f++}if(null===i){if(null!==l)throw new Error('invalid timestamp, missing local offset: "'+e+'"');i=-0}else i*=t;return null==c&&!h||(n=b.Decimal.parse(c+"."+(h||""))),new m(i,a,s,o,u,l,n)}},{key:"_readUnknownDigits",value:function(e,t){for(var r=t;r<e.length&&o.isDigit(e.charCodeAt(r));r++);return e.substring(t,r)}},{key:"_readDigits",value:function(e,t,r){for(var n=0,i=t;i<t+r;i++){var a=e.charCodeAt(i)-48;if(a<0&&9<a)return-1;n=10*n+a}return n}}]),y}();f._timeParserStates=(e={},(0,i.default)(e,v.YEAR,new r(v.YEAR,4,{T:v.OFFSET_UNKNOWN,"-":v.MONTH})),(0,i.default)(e,v.MONTH,new r(v.MONTH,2,{T:v.OFFSET_UNKNOWN,"-":v.DAY})),(0,i.default)(e,v.DAY,new r(v.DAY,2,{T:v.HOUR})),(0,i.default)(e,v.HOUR,new r(v.HOUR,2,{":":v.MINUTE})),(0,i.default)(e,v.MINUTE,new r(v.MINUTE,2,{":":v.SECONDS,"+":v.OFFSET_POSITIVE,"-":v.OFFSET_NEGATIVE,Z:v.OFFSET_ZULU})),(0,i.default)(e,v.SECONDS,new r(v.SECONDS,2,{".":v.FRACTIONAL_SECONDS,"+":v.OFFSET_POSITIVE,"-":v.OFFSET_NEGATIVE,Z:v.OFFSET_ZULU})),(0,i.default)(e,v.FRACTIONAL_SECONDS,new r(v.FRACTIONAL_SECONDS,null,{"+":v.OFFSET_POSITIVE,"-":v.OFFSET_NEGATIVE,Z:v.OFFSET_ZULU})),(0,i.default)(e,v.OFFSET_POSITIVE,new r(v.OFFSET_POSITIVE,2,{":":v.OFFSET_MINUTES})),(0,i.default)(e,v.OFFSET_NEGATIVE,new r(v.OFFSET_NEGATIVE,2,{":":v.OFFSET_MINUTES})),(0,i.default)(e,v.OFFSET_MINUTES,new r(v.OFFSET_MINUTES,2)),(0,i.default)(e,v.OFFSET_ZULU,new r(v.OFFSET_ZULU,0)),(0,i.default)(e,v.OFFSET_UNKNOWN,new r(v.OFFSET_UNKNOWN,0)),e)},{"./IonDecimal":10,"./IonText":23,"./util":56,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/defineProperty":64,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/slicedToArray":78}],27:[function(e,t,r){"use strict";var o=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/classCallCheck"));Object.defineProperty(r,"__esModule",{value:!0}),r.IonType=void 0;e=function e(t,r,n,i,a,s){(0,o.default)(this,e),this.binaryTypeId=t,this.name=r,this.isScalar=n,this.isLob=i,this.isNumeric=a,this.isContainer=s};r.IonType=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/interopRequireDefault":69}],28:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.IonTypes=void 0;e=e("./IonType");r.IonTypes={NULL:new e.IonType(0,"null",!0,!1,!1,!1),BOOL:new e.IonType(1,"bool",!0,!1,!1,!1),INT:new e.IonType(2,"int",!0,!1,!0,!1),FLOAT:new e.IonType(4,"float",!0,!1,!0,!1),DECIMAL:new e.IonType(5,"decimal",!0,!1,!1,!1),TIMESTAMP:new e.IonType(6,"timestamp",!0,!1,!1,!1),SYMBOL:new e.IonType(7,"symbol",!0,!1,!1,!1),STRING:new e.IonType(8,"string",!0,!1,!1,!1),CLOB:new e.IonType(9,"clob",!0,!0,!1,!1),BLOB:new e.IonType(10,"blob",!0,!0,!1,!1),LIST:new e.IonType(11,"list",!1,!1,!1,!0),SEXP:new e.IonType(12,"sexp",!1,!1,!1,!0),STRUCT:new e.IonType(13,"struct",!1,!1,!1,!0)}},{"./IonType":27}],29:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.decodeUtf8=r.encodeUtf8=void 0,r.encodeUtf8=function(e){for(var t,r=0,n=new Uint8Array(4*e.length),i=0;i<e.length;i++)if((t=e.charCodeAt(i))<128)n[r++]=t;else{if(t<2048)n[r++]=t>>6|192;else{if(55295<t&&t<56320){if(++i>=e.length)throw new Error("UTF-8 encode: incomplete surrogate pair");var a=e.charCodeAt(i);if(a<56320||57343<a)throw new Error("UTF-8 encode: second surrogate character 0x"+a.toString(16)+" at index "+i+" out of range");t=65536+((1023&t)<<10)+(1023&a),n[r++]=t>>18|240,n[r++]=t>>12&63|128}else n[r++]=t>>12|224;n[r++]=t>>6&63|128}n[r++]=63&t|128}return n.subarray(0,r)},r.decodeUtf8=function(e){for(var t,r=0,n="";r<e.length;){if(127<(t=e[r++]))if(191<t&&t<224){if(r>=e.length)throw new Error("UTF-8 decode: incomplete 2-byte sequence");t=(31&t)<<6|63&e[r++]}else if(223<t&&t<240){if(r+1>=e.length)throw new Error("UTF-8 decode: incomplete 3-byte sequence");t=(15&t)<<12|(63&e[r++])<<6|63&e[r++]}else{if(!(239<t&&t<248))throw new Error("UTF-8 decode: unknown multibyte start 0x"+t.toString(16)+" at index "+(r-1));if(r+2>=e.length)throw new Error("UTF-8 decode: incomplete 4-byte sequence");t=(7&t)<<18|(63&e[r++])<<12|(63&e[r++])<<6|63&e[r++]}if(t<=65535)n+=String.fromCharCode(t);else{if(!(t<=1114111))throw new Error("UTF-8 decode: code point 0x"+t.toString(16)+" exceeds UTF-16 reach");t-=65536,n+=String.fromCharCode(t>>10|55296),n+=String.fromCharCode(1023&t|56320)}}return n}},{}],30:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.Writeable=void 0;e=function(){function t(e){(0,i.default)(this,t),this.bufferSize=e||4096,this.buffers=[new Uint8Array(this.bufferSize)],this.index=0,this.clean=!1}return(0,a.default)(t,[{key:"writeByte",value:function(e){this.clean=!1,this.currentBuffer[this.index]=e,this.index++,this.index===this.bufferSize&&(this.buffers.push(new Uint8Array(this.bufferSize)),this.index=0)}},{key:"writeBytes",value:function(e,t,r){void 0===t&&(t=0);var n=void 0!==r?Math.min(e.length-t,r):e.length-t;n<this.currentBuffer.length-this.index-1?(this.currentBuffer.set(e.subarray(t,t+n),this.index),this.index+=n):(this.buffers[this.buffers.length-1]=this.currentBuffer.slice(0,this.index),this.buffers.push(e.subarray(t,r)),this.buffers.push(new Uint8Array(this.bufferSize)),this.clean=!1,this.index=0)}},{key:"getBytes",value:function(){if(this.clean)return this.buffers[0];for(var e=new Uint8Array(this.totalSize),t=0,r=0;r<this.buffers.length-1;r++)e.set(this.buffers[r],t),t+=this.buffers[r].length;return e.set(this.currentBuffer.subarray(0,this.index),t),this.buffers=[e,new Uint8Array(this.bufferSize)],this.index=0,this.clean=!0,e}},{key:"currentBuffer",get:function(){return this.buffers[this.buffers.length-1]}},{key:"totalSize",get:function(){for(var e=0,t=0;t<this.buffers.length-1;t++)e+=this.buffers[t].length;return e+this.index}}]),t}();r.Writeable=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],31:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsbiSerde=void 0;var s=n(e("jsbi")),o=e("./JsbiSupport"),e=function(){function e(){(0,i.default)(this,e)}return(0,a.default)(e,null,[{key:"toSignedIntBytes",value:function(e,t){var r=this.toUnsignedIntBytes(e);return 128<=r[0]&&((e=new Uint8Array(r.length+1)).set(r,1),r=e),t&&(r[0]+=128),r}},{key:"fromUnsignedBytes",value:function(e){for(var t=o.JsbiSupport.ZERO,r=0;r<e.length;r++){var n=s.default.BigInt(e[r]),t=s.default.leftShift(t,this.BITS_PER_BYTE);t=s.default.bitwiseOr(t,n)}return t}},{key:"toUnsignedIntBytes",value:function(e){o.JsbiSupport.isNegative(e)&&(e=s.default.unaryMinus(e));for(var t=this.getUnsignedIntSizeInBytes(e),r=new Uint8Array(t),n=t-1;0<=n;n--){var i=s.default.toNumber(s.default.bitwiseAnd(e,this.BYTE_MAX_VALUE));e=s.default.signedRightShift(e,this.BITS_PER_BYTE),r[n]=i}return r}},{key:"getUnsignedIntSizeInBytes",value:function(e){for(var t=0;t<this.SIZE_THRESHOLDS.length;t++){var r=this.SIZE_THRESHOLDS[t];if(s.default.lessThanOrEqual(e,r))return t+1}for(var n=this.SIZE_THRESHOLDS.length,i=this.calculateSizeThreshold(n);s.default.greaterThan(e,i);)n++,i=this.calculateSizeThreshold(n);return n}},{key:"calculateSizeThresholds",value:function(){for(var e=[],t=1;t<=this.SERIALIZED_JSBI_SIZES_TO_PRECOMPUTE;t++)e.push(this.calculateSizeThreshold(t));return e}},{key:"calculateSizeThreshold",value:function(e){e=s.default.multiply(s.default.BigInt(e),this.BITS_PER_BYTE),e=s.default.exponentiate(o.JsbiSupport.TWO,e);return s.default.subtract(e,o.JsbiSupport.ONE)}}]),e}();(r.JsbiSerde=e).SERIALIZED_JSBI_SIZES_TO_PRECOMPUTE=64,e.BITS_PER_BYTE=s.default.BigInt(8),e.BYTE_MAX_VALUE=s.default.BigInt(255),e.SIZE_THRESHOLDS=e.calculateSizeThresholds()},{"./JsbiSupport":32,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,jsbi:84}],32:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.JsbiSupport=void 0;var s=n(e("jsbi")),e=function(){function t(){(0,i.default)(this,t)}return(0,a.default)(t,null,[{key:"isZero",value:function(e){return s.default.equal(e,t.ZERO)}},{key:"isNegative",value:function(e){return s.default.lessThan(e,t.ZERO)}},{key:"bigIntFromString",value:function(e){var t=!1,r=e.trimLeft();e.startsWith("-")&&(t=!0,r=e.substring(1));r=s.default.BigInt(r);return t&&(r=s.default.unaryMinus(r)),r}},{key:"clampToSafeIntegerRange",value:function(e){return s.default.greaterThan(e,this.NUMBER_MAX_SAFE_INTEGER)?Number.MAX_SAFE_INTEGER:s.default.lessThan(e,this.NUMBER_MIN_SAFE_INTEGER)?Number.MIN_SAFE_INTEGER:s.default.toNumber(e)}},{key:"isSafeInteger",value:function(e){return s.default.greaterThanOrEqual(e,this.NUMBER_MIN_SAFE_INTEGER)&&s.default.lessThanOrEqual(e,this.NUMBER_MAX_SAFE_INTEGER)}}]),t}();(r.JsbiSupport=e).ZERO=s.default.BigInt(0),e.ONE=s.default.BigInt(1),e.TWO=s.default.BigInt(2),e.NUMBER_MAX_SAFE_INTEGER=s.default.BigInt(Number.MAX_SAFE_INTEGER),e.NUMBER_MIN_SAFE_INTEGER=s.default.BigInt(Number.MIN_SAFE_INTEGER)},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,jsbi:84}],33:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0});var s=n(e("jsbi")),o=e("./JsbiSupport"),e=function(){function r(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:o.JsbiSupport.isNegative(e);(0,i.default)(this,r),this._magnitude=e,this._isNegative=t}return(0,a.default)(r,[{key:"equals",value:function(e){return s.default.equal(this._magnitude,e._magnitude)&&this._isNegative===e._isNegative}},{key:"magnitude",get:function(){return this._magnitude}},{key:"isNegative",get:function(){return this._isNegative}}],[{key:"fromNumber",value:function(e){var t=e<0||Object.is(e,-0),e=Math.abs(e);return new r(s.default.BigInt(e),t)}}]),r}();r.default=e},{"./JsbiSupport":32,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,jsbi:84}],34:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Blob=void 0;var c=e("../Ion"),e=function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),r.call(this,e,t)}return(0,a.default)(n,[{key:"toJSON",value:function(){return c.toBase64(this)}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeBlob(this)}}]),n}(e("./Lob").Lob(c.IonTypes.BLOB));r.Blob=e},{"../Ion":4,"./Lob":43,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],35:[function(c,e,h){(function(l){(function(){"use strict";var e=c("@babel/runtime/helpers/interopRequireDefault"),i=e(c("@babel/runtime/helpers/classCallCheck")),t=e(c("@babel/runtime/helpers/createClass")),a=e(c("@babel/runtime/helpers/inherits")),s=e(c("@babel/runtime/helpers/possibleConstructorReturn")),o=e(c("@babel/runtime/helpers/getPrototypeOf"));function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(r);return t=n?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}Object.defineProperty(h,"__esModule",{value:!0}),h.Boolean=void 0;var r=c("../Ion"),n=c("./FromJsConstructor"),e=c("./Value"),n=(new n.FromJsConstructorBuilder).withPrimitives(n.Primitives.Boolean).withClassesToUnbox(l.Boolean).build(),n=function(e){(0,a.default)(n,e);var r=u(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),(e=r.call(this,e))._setAnnotations(t),e}return(0,t.default)(n,[{key:"booleanValue",value:function(){return this.valueOf()}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeBoolean(this.booleanValue())}}]),n}(e.Value(l.Boolean,r.IonTypes.BOOL,n));h.Boolean=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],36:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return c(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Clob=void 0;n=e("../Ion"),n=function(e){(0,s.default)(n,e);var r=h(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),r.call(this,e,t)}return(0,a.default)(n,[{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeClob(this)}},{key:"toJSON",value:function(){var e="",t=l(this);try{for(t.s();!(r=t.n()).done;){var r=r.value;32<=r&&r<=126?e+=String.fromCharCode(r):1==(r=r.toString(16)).length?e+="\\u000"+r:e+="\\u00"+r}}catch(e){t.e(e)}finally{t.f()}return e}}]),n}(e("./Lob").Lob(n.IonTypes.CLOB));r.Clob=n},{"../Ion":4,"./Lob":43,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],37:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,t)}}var c=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},h=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},f=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&c(t,e,r);return h(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Decimal=void 0;var _=f(e("../Ion")),n=e("../Ion"),f=e("./FromJsConstructor"),e=e("./Value"),_=(new f.FromJsConstructorBuilder).withClasses(_.Decimal).build(),_=function(e){(0,o.default)(i,e);var n=l(i);function i(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,a.default)(this,i),(t=n.call.apply(n,[this].concat([e.getCoefficient(),e.getExponent(),e.isNegative()])))._decimalValue=e,t._numberValue=e.numberValue(),t._setAnnotations(r),t}return(0,s.default)(i,[{key:"numberValue",value:function(){return this._numberValue}},{key:"decimalValue",value:function(){return this._decimalValue}},{key:"toString",value:function(){return this._decimalValue.toString()}},{key:"valueOf",value:function(){return this._numberValue}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeDecimal(this.decimalValue())}}]),i}(e.Value(Number,n.IonTypes.DECIMAL,_));r.Decimal=_},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],38:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Float=void 0;var c=e("../Ion"),n=e("./FromJsConstructor"),e=e("./Value"),n=(new n.FromJsConstructorBuilder).withPrimitives(n.Primitives.Number).withClassesToUnbox(Number).build(),n=function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),(e=r.call(this,e))._setAnnotations(t),e}return(0,a.default)(n,[{key:"numberValue",value:function(){return+this.valueOf()}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeFloat64(this.numberValue())}}]),n}(e.Value(Number,c.IonTypes.FLOAT,n));r.Float=n},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],39:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/typeof")),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.Primitives=r.FromJsConstructor=r.FromJsConstructorBuilder=void 0;var o=e("../Ion"),u=e("../util");function l(e){return u._hasValue(e)?new Set(e):new Set}e=function(){function e(){(0,a.default)(this,e),this._primitives=l(),this._classesToUnbox=l(),this._classes=l()}return(0,s.default)(e,[{key:"withPrimitives",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._primitives=l(t),this}},{key:"withClasses",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._classes=l(t),this}},{key:"withClassesToUnbox",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this._classesToUnbox=l(t),this}},{key:"build",value:function(){return new c(this._primitives,this._classesToUnbox,this._classes)}}]),e}();r.FromJsConstructorBuilder=e;var c=function(){function n(e,t,r){(0,a.default)(this,n),this._primitives=e,this._classesToUnbox=t,this._classes=r}return(0,s.default)(n,[{key:"construct",value:function(e,t,r){var n=2<arguments.length&&void 0!==r?r:[];if(null===t)return new o.dom.Null(o.IonTypes.NULL,n);r=(0,i.default)(t);if("object"===r){if(this._classesToUnbox.has(t.constructor))return new e(t.valueOf(),n);if(this._classes.has(t.constructor))return new e(t,n);throw new Error("Unable to construct a(n) ".concat(e.name," from a ").concat(t.constructor.name,"."))}if(this._primitives.has(r))return new e(t,n);throw new Error("Unable to construct a(n) ".concat(e.name," from a ").concat(r,"."))}}]),n}();r.FromJsConstructor=c,(c=r.FromJsConstructor||(r.FromJsConstructor={})).NONE=(new e).build(),r.Primitives={Boolean:"boolean",Number:"number",String:"string"}},{"../Ion":4,"../util":56,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/typeof":81}],40:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),s=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/inherits")),l=n(e("@babel/runtime/helpers/possibleConstructorReturn")),i=n(e("@babel/runtime/helpers/getPrototypeOf"));function c(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,i.default)(r);return t=n?(e=(0,i.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,l.default)(this,t)}}var a=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.Integer=void 0;var h=a(e("jsbi")),f=e("../Ion"),n=e("./FromJsConstructor"),a=e("./Value"),e=h.default,e=(new n.FromJsConstructorBuilder).withPrimitives(n.Primitives.Number).withClassesToUnbox(Number).withClasses(e).build(),e=function(e){(0,u.default)(a,e);var i=c(a);function a(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,s.default)(this,a),"number"==typeof e?((r=i.call(this,e))._numberValue=e,r._bigIntValue=null):(t=h.default.toNumber(e),(r=i.call(this,t))._bigIntValue=e,r._numberValue=t),r._setAnnotations(n),(0,l.default)(r)}return(0,o.default)(a,[{key:"bigIntValue",value:function(){return null===this._bigIntValue&&(this._bigIntValue=h.default.BigInt(this.numberValue())),this._bigIntValue}},{key:"numberValue",value:function(){return this._numberValue}},{key:"toString",value:function(){return(null===this._bigIntValue?this._numberValue:this._bigIntValue).toString()}},{key:"valueOf",value:function(){return this.numberValue()}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),null===this._bigIntValue?e.writeInt(this.numberValue()):e.writeInt(this._bigIntValue)}}]),a}(a.Value(Number,f.IonTypes.INT,e));r.Integer=e},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,jsbi:84}],41:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault")(e("@babel/runtime/helpers/typeof")),i=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r._ionValueFromJsValue=r._domConstructorFor=void 0;var a=i(e("jsbi")),s=e("../Ion"),o=e("../IonTypes"),u=e("../util"),l=null;function c(e){var t=(null===l&&(l=new Map([[o.IonTypes.NULL,s.dom.Null],[o.IonTypes.BOOL,s.dom.Boolean],[o.IonTypes.INT,s.dom.Integer],[o.IonTypes.FLOAT,s.dom.Float],[o.IonTypes.DECIMAL,s.dom.Decimal],[o.IonTypes.TIMESTAMP,s.dom.Timestamp],[o.IonTypes.STRING,s.dom.String],[o.IonTypes.BLOB,s.dom.Blob],[o.IonTypes.LIST,s.dom.List],[o.IonTypes.STRUCT,s.dom.Struct]])),l.get(e));if(!u._hasValue(t))throw new Error("No dom type constructor was found for Ion type ".concat(e.name));return t}r._domConstructorFor=c,r._ionValueFromJsValue=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return c(function(e){if(void 0===e)throw new Error("Cannot create an Ion value from `undefined`.");if(null===e)return o.IonTypes.NULL;var t=(0,n.default)(e);switch(t){case"string":return o.IonTypes.STRING;case"number":return Number.isInteger(e)?o.IonTypes.INT:o.IonTypes.FLOAT;case"boolean":return o.IonTypes.BOOL;case"object":case"bigint":break;default:throw new Error("Value.from() does not support the JS primitive type ".concat(t,"."))}if(e instanceof a.default)return o.IonTypes.INT;if("bigint"==typeof e)throw new Error("bigints are not supported without using Babel for JSBI compilation.");return e instanceof Number?Number.isInteger(e.valueOf())?o.IonTypes.INT:o.IonTypes.FLOAT:e instanceof Boolean?o.IonTypes.BOOL:e instanceof String?o.IonTypes.STRING:e instanceof s.Decimal?o.IonTypes.DECIMAL:e instanceof Date||e instanceof s.Timestamp?o.IonTypes.TIMESTAMP:e instanceof Uint8Array?o.IonTypes.BLOB:e instanceof Array?o.IonTypes.LIST:o.IonTypes.STRUCT}(e))._fromJsValue(e,t)}},{"../Ion":4,"../IonTypes":28,"../util":56,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/typeof":81,jsbi:84}],42:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/inherits")),s=n(e("@babel/runtime/helpers/possibleConstructorReturn")),o=n(e("@babel/runtime/helpers/getPrototypeOf"));function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(r);return t=n?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.List=void 0;n=e("../Ion"),n=function(e){(0,a.default)(n,e);var r=u(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),r.call(this,e,t)}return n}(e("./Sequence").Sequence(n.IonTypes.LIST));r.List=n},{"../Ion":4,"./Sequence":46,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],43:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Lob=void 0;var n=e("./FromJsConstructor"),c=e("./Value"),h=(new n.FromJsConstructorBuilder).withClasses(Uint8Array).build();r.Lob=function(e){return function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),(e=r.call(this,e))._setAnnotations(t),e}return(0,a.default)(n,[{key:"uInt8ArrayValue",value:function(){return this}}]),n}(c.Value(Uint8Array,e,h))}},{"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],44:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/classCallCheck")),s=n(e("@babel/runtime/helpers/createClass")),o=n(e("@babel/runtime/helpers/inherits")),i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Null=void 0;var c=e("../Ion"),n=e("./FromJsConstructor"),n=function(e){(0,o.default)(i,e);var n=l(i);function i(){var e,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:c.IonTypes.NULL,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,a.default)(this,i),(e=n.call(this))._ionType=t,e._setAnnotations(r),e}return(0,s.default)(i,[{key:"isNull",value:function(){return!0}},{key:"_convertToJsNull",value:function(e){if(i._operationIsSupported(this.getType(),e))return null;throw new Error("".concat(e,"() is not supported by Ion type ").concat(this.getType().name))}},{key:"_unsupportedOperationOrNullDereference",value:function(e){if(i._operationIsSupported(this.getType(),e))throw new Error("".concat(e,"() called on a null ").concat(this.getType().name,"."));throw new Error("".concat(e,"() is not supported by Ion type ").concat(this.getType().name))}},{key:"booleanValue",value:function(){return this._convertToJsNull("booleanValue")}},{key:"numberValue",value:function(){return this._convertToJsNull("numberValue")}},{key:"bigIntValue",value:function(){return this._convertToJsNull("bigIntValue")}},{key:"decimalValue",value:function(){return this._convertToJsNull("decimalValue")}},{key:"stringValue",value:function(){return this._convertToJsNull("stringValue")}},{key:"dateValue",value:function(){return this._convertToJsNull("dateValue")}},{key:"uInt8ArrayValue",value:function(){return this._convertToJsNull("uInt8ArrayValue")}},{key:"fieldNames",value:function(){this._unsupportedOperationOrNullDereference("fieldNames")}},{key:"fields",value:function(){this._unsupportedOperationOrNullDereference("fields")}},{key:"elements",value:function(){this._unsupportedOperationOrNullDereference("elements")}},{key:"get",value:function(){return null}},{key:"toString",value:function(){return this.getType()==c.IonTypes.NULL?"null":"null."+this._ionType.name}},{key:"toJSON",value:function(){return null}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeNull(this.getType())}}],[{key:"_operationIsSupported",value:function(e,t){return i._supportedIonTypesByOperation.get(t).has(e)}}]),i}(e("./Value").Value(Object,c.IonTypes.NULL,n.FromJsConstructor.NONE));(r.Null=n)._supportedIonTypesByOperation=new Map([["booleanValue",new Set([c.IonTypes.BOOL])],["numberValue",new Set([c.IonTypes.INT,c.IonTypes.FLOAT,c.IonTypes.DECIMAL])],["bigIntValue",new Set([c.IonTypes.INT])],["decimalValue",new Set([c.IonTypes.DECIMAL])],["stringValue",new Set([c.IonTypes.STRING,c.IonTypes.SYMBOL])],["dateValue",new Set([c.IonTypes.TIMESTAMP])],["timestampValue",new Set([c.IonTypes.TIMESTAMP])],["uInt8ArrayValue",new Set([c.IonTypes.BLOB,c.IonTypes.CLOB])],["fields",new Set([c.IonTypes.STRUCT])],["fieldNames",new Set([c.IonTypes.STRUCT])],["elements",new Set([c.IonTypes.LIST,c.IonTypes.SEXP,c.IonTypes.STRUCT])]])},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],45:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass")),s=n(e("@babel/runtime/helpers/inherits")),o=n(e("@babel/runtime/helpers/possibleConstructorReturn")),u=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,u.default)(r);return t=n?(e=(0,u.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,o.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.SExpression=void 0;n=e("../Ion"),n=function(e){(0,s.default)(n,e);var r=l(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),r.call(this,e,t)}return(0,a.default)(n,[{key:"toString",value:function(){return"("+this.join(" ")+")"}}]),n}(e("./Sequence").Sequence(n.IonTypes.SEXP));r.SExpression=n},{"../Ion":4,"./Sequence":46,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],46:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("@babel/runtime/helpers/toConsumableArray")),u=n(e("@babel/runtime/helpers/typeof")),l=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),c=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf"));function h(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(r);return t=n?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Sequence=void 0;var p=e("./FromJsConstructor"),d=e("./Value");r.Sequence=function(n){return function(e){(0,c.default)(s,e);var a=_(s);function s(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,l.default)(this,s),t=a.call(this);var n=h(e);try{for(n.s();!(i=n.n()).done;){var i=i.value;t.push(i)}}catch(e){n.e(e)}finally{n.f()}return t._setAnnotations(r),t}return(0,i.default)(s,[{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("Value#get requires at least one parameter.");var n=t[0],i=t.slice(1);if("number"!=typeof n)throw new Error("Cannot index into a ".concat(this.getType().name," with a ").concat((0,u.default)(n),"."));n=this[n],n=void 0===n?null:n;return 0===i.length||null===n?n:n.get.apply(n,(0,o.default)(i))}},{key:"elements",value:function(){return Object.values(this)}},{key:"toString",value:function(){return"["+this.join(", ")+"]"}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.stepIn(n);var t,r=h(this);try{for(r.s();!(t=r.n()).done;)t.value.writeTo(e)}catch(e){r.e(e)}finally{r.f()}e.stepOut()}}],[{key:"_fromJsValue",value:function(e,t){if(!(e instanceof Array))throw new Error("Cannot create a ".concat(this.name," from: ").concat(e.toString()));return new this(e.map(function(e){return d.Value.from(e)}),t)}}]),s}(d.Value(Array,n,p.FromJsConstructor.NONE))}},{"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,"@babel/runtime/helpers/toConsumableArray":80,"@babel/runtime/helpers/typeof":81}],47:[function(c,e,h){(function(l){(function(){"use strict";var e=c("@babel/runtime/helpers/interopRequireDefault"),i=e(c("@babel/runtime/helpers/classCallCheck")),t=e(c("@babel/runtime/helpers/createClass")),a=e(c("@babel/runtime/helpers/inherits")),s=e(c("@babel/runtime/helpers/possibleConstructorReturn")),o=e(c("@babel/runtime/helpers/getPrototypeOf"));function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(r);return t=n?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}Object.defineProperty(h,"__esModule",{value:!0}),h.String=void 0;var r=c("../Ion"),n=c("./FromJsConstructor"),e=c("./Value"),n=(new n.FromJsConstructorBuilder).withPrimitives(n.Primitives.String).withClassesToUnbox(l.String).build(),n=function(e){(0,a.default)(n,e);var r=u(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),(e=r.call(this,e))._setAnnotations(t),e}return(0,t.default)(n,[{key:"stringValue",value:function(){return this.toString()}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeString(this.stringValue())}}]),n}(e.Value(l.String,r.IonTypes.STRING,n));h.String=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],48:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),a=n(e("@babel/runtime/helpers/toConsumableArray")),u=n(e("@babel/runtime/helpers/typeof")),l=n(e("@babel/runtime/helpers/slicedToArray")),c=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/createClass")),h=n(e("@babel/runtime/helpers/assertThisInitialized")),f=n(e("@babel/runtime/helpers/inherits")),_=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf"));function p(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,t=function(){};return{s:t,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:t}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,s=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return a=e.done,e},e:function(e){s=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function d(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(r);return t=n?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,_.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0}),r.Struct=void 0;var y=e("../Ion"),n=e("./FromJsConstructor"),b=e("./Value"),n=function(e){(0,f.default)(o,e);var s=d(o);function o(e){var t,r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];(0,c.default)(this,o),(t=s.call(this))._fields=Object.create(null);var n=p(e);try{for(n.s();!(a=n.n()).done;){var i=(0,l.default)(a.value,2),a=i[0],i=i[1];t._fields[a]=i}}catch(e){n.e(e)}finally{n.f()}return t._setAnnotations(r),(0,_.default)(t,new Proxy((0,h.default)(t),{set:function(e,t,r){return e._fields[t]=r,!0},get:function(e,t){return(t in e?e:e._fields)[t]},deleteProperty:function(e,t){return t in e._fields&&delete e._fields[t],!0}}))}return(0,i.default)(o,[{key:"get",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];if(0===t.length)throw new Error("Value#get requires at least one parameter.");var n=t[0],i=t.slice(1);if("string"!=typeof n)throw new Error("Cannot index into a struct with a ".concat((0,u.default)(n),"."));n=this._fields[n];return void 0===n?null:0===i.length?n:n.get.apply(n,(0,a.default)(i))}},{key:"fieldNames",value:function(){return Object.keys(this._fields)}},{key:"fields",value:function(){return Object.entries(this._fields)}},{key:"elements",value:function(){return Object.values(this._fields)}},{key:Symbol.iterator,value:function(){return this.fields()[Symbol.iterator]()}},{key:"toString",value:function(){return"{"+(0,a.default)(this.fields()).map(function(e){e=(0,l.default)(e,2);return e[0]+": "+e[1]}).join(", ")+"}"}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.stepIn(y.IonTypes.STRUCT);var t=p(this);try{for(t.s();!(n=t.n()).done;){var r=(0,l.default)(n.value,2),n=r[0],r=r[1];e.writeFieldName(n),r.writeTo(e)}}catch(e){t.e(e)}finally{t.f()}e.stepOut()}},{key:"deleteField",value:function(e){return e in this._fields&&(delete this._fields[e],!0)}},{key:"toJSON",value:function(){return this._fields}}],[{key:"_fromJsValue",value:function(e,t){if(!(e instanceof Object))throw new Error("Cannot create a dom.Struct from: ".concat(e.toString()));return new this(Object.entries(e).map(function(e){var t=(0,l.default)(e,2),e=t[0],t=t[1];return[e,b.Value.from(t)]}),t)}}]),o}(b.Value(Object,y.IonTypes.STRUCT,n.FromJsConstructor.NONE));r.Struct=n},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/assertThisInitialized":60,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,"@babel/runtime/helpers/slicedToArray":78,"@babel/runtime/helpers/toConsumableArray":80,"@babel/runtime/helpers/typeof":81}],49:[function(c,e,h){(function(l){(function(){"use strict";var e=c("@babel/runtime/helpers/interopRequireDefault"),i=e(c("@babel/runtime/helpers/classCallCheck")),t=e(c("@babel/runtime/helpers/createClass")),a=e(c("@babel/runtime/helpers/inherits")),s=e(c("@babel/runtime/helpers/possibleConstructorReturn")),o=e(c("@babel/runtime/helpers/getPrototypeOf"));function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,o.default)(r);return t=n?(e=(0,o.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,s.default)(this,t)}}Object.defineProperty(h,"__esModule",{value:!0}),h.Symbol=void 0;var r=c("../Ion"),n=c("./FromJsConstructor"),e=c("./Value"),n=(new n.FromJsConstructorBuilder).withPrimitives(n.Primitives.String).withClassesToUnbox(l.String).build(),n=function(e){(0,a.default)(n,e);var r=u(n);function n(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,i.default)(this,n),(e=r.call(this,e))._setAnnotations(t),e}return(0,t.default)(n,[{key:"stringValue",value:function(){return this.toString()}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeSymbol(this.stringValue())}}]),n}(e.Value(String,r.IonTypes.SYMBOL,n));h.Symbol=n}).call(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],50:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),s=n(e("@babel/runtime/helpers/classCallCheck")),o=n(e("@babel/runtime/helpers/createClass")),u=n(e("@babel/runtime/helpers/inherits")),i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf"));function l(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(r);return t=n?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,t)}}var c=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},h=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&c(t,e,r);return h(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Timestamp=void 0;var f=n(e("../Ion")),_=e("../Ion"),n=e("./FromJsConstructor"),e=e("./Value"),n=(new n.FromJsConstructorBuilder).withClasses(Date,f.Timestamp).build(),n=function(e){(0,u.default)(a,e);var i=l(a);function a(e){var t,r,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return(0,s.default)(this,a),e instanceof Date?(t=e,r=a._timestampFromDate(t)):t=(r=e).getDate(),(e=i.call(this,t))._date=t,e._timestamp=r,e._setAnnotations(n),e}return(0,o.default)(a,[{key:"timestampValue",value:function(){return this._timestamp}},{key:"dateValue",value:function(){return this._date}},{key:"writeTo",value:function(e){e.setAnnotations(this.getAnnotations()),e.writeTimestamp(this.timestampValue())}}],[{key:"_timestampFromDate",value:function(e){var t=1e3*e.getUTCSeconds()+e.getUTCMilliseconds(),t=new _.Decimal(t,-3);return new f.Timestamp(0,e.getUTCFullYear(),e.getUTCMonth()+1,e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),t)}}]),a}(e.Value(Date,_.IonTypes.TIMESTAMP,n));r.Timestamp=n},{"../Ion":4,"./FromJsConstructor":39,"./Value":51,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],51:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("@babel/runtime/helpers/classCallCheck")),u=n(e("@babel/runtime/helpers/createClass")),l=n(e("@babel/runtime/helpers/assertThisInitialized")),c=n(e("@babel/runtime/helpers/inherits")),i=n(e("@babel/runtime/helpers/possibleConstructorReturn")),a=n(e("@babel/runtime/helpers/getPrototypeOf"));function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,a.default)(r);return t=n?(e=(0,a.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,i.default)(this,t)}}var s=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},f=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},n=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&s(t,e,r);return f(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.Value=void 0;var _,p=e("../util"),d=n(e("./JsValueConversion")),y=Symbol("ion.dom.Value");function b(e,s,r){var t=function(){(0,c.default)(a,e);var i=h(a);function a(){var e;(0,o.default)(this,a);for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return(e=i.call.apply(i,[this].concat(r)))._ionType=s,e._ionAnnotations=[],Object.defineProperty((0,l.default)(e),"_ionType",{enumerable:!1}),Object.defineProperty((0,l.default)(e),"_ionAnnotations",{enumerable:!1}),e}return(0,u.default)(a,[{key:"_unsupportedOperation",value:function(e){throw new Error("Value#".concat(e,"() is not supported by Ion type ").concat(this.getType().name))}},{key:"getType",value:function(){return this._ionType}},{key:"_setAnnotations",value:function(e){this._ionAnnotations=e}},{key:"getAnnotations",value:function(){return null===this._ionAnnotations?[]:this._ionAnnotations}},{key:"isNull",value:function(){return!1}},{key:"booleanValue",value:function(){this._unsupportedOperation("booleanValue")}},{key:"numberValue",value:function(){this._unsupportedOperation("numberValue")}},{key:"bigIntValue",value:function(){this._unsupportedOperation("bigIntValue")}},{key:"decimalValue",value:function(){this._unsupportedOperation("decimalValue")}},{key:"stringValue",value:function(){this._unsupportedOperation("stringValue")}},{key:"dateValue",value:function(){this._unsupportedOperation("dateValue")}},{key:"timestampValue",value:function(){this._unsupportedOperation("timestampValue")}},{key:"uInt8ArrayValue",value:function(){this._unsupportedOperation("uInt8ArrayValue")}},{key:"fieldNames",value:function(){this._unsupportedOperation("fieldNames")}},{key:"fields",value:function(){this._unsupportedOperation("fields")}},{key:"elements",value:function(){this._unsupportedOperation("elements")}},{key:"get",value:function(){this._unsupportedOperation("get")}},{key:"as",value:function(e){if(this instanceof e)return this;throw new Error("".concat(this.constructor.name," is not an instance of ").concat(e.name))}},{key:"writeTo",value:function(){this._unsupportedOperation("writeTo")}},{key:"deleteField",value:function(){this._unsupportedOperation("deleteField")}}],[{key:"_getIonType",value:function(){return s}},{key:"_fromJsValue",value:function(e,t){return r.construct(this,e,t)}}]),a}();return Object.defineProperty(t,y,{writable:!1,enumerable:!1,value:y}),t}r.Value=b,(_=b=r.Value||(r.Value={})).from=function(e,t){if(e instanceof _){if(p._hasValue(t))throw new Error("Value.from() does not support overriding the annotations on a dom.Value passed as an argument.");return e}return d._ionValueFromJsValue(e,t)},Object.defineProperty(b,Symbol.hasInstance,{get:function(){return function(e){return p._hasValue(e)&&p._hasValue(e.constructor)&&y in e.constructor&&e.constructor[y]===y}}})},{"../util":56,"./JsValueConversion":41,"@babel/runtime/helpers/assertThisInitialized":60,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76}],52:[function(e,t,r){"use strict";var n=Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]},i=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(r,"__esModule",{value:!0}),r.load=r.loadAll=void 0;var s=a(e("../Ion")),o=e("../Ion"),u=e("../IonBinaryReader"),l=e("../IonTextReader"),c=e("./Blob"),h=e("./Clob"),f=e("./Decimal"),_=e("./Float"),p=e("./Integer"),d=e("./List"),y=e("./Null"),b=e("./SExpression"),v=e("./Struct"),m=e("./Symbol"),g=e("./Timestamp");function T(e){return e instanceof l.TextReader||e instanceof u.BinaryReader?e:o.makeReader(e)}function w(e){var t=e.type();if(null===t)throw new Error("loadValue() called when no further values were available to read.");var r,n,i=e.annotations();if(e.isNull())return new y.Null(e.type(),i);switch(t){case o.IonTypes.NULL:return new y.Null(o.IonTypes.NULL,i);case o.IonTypes.BOOL:return new s.dom.Boolean(e.booleanValue(),i);case o.IonTypes.INT:return e.intSize()==o.IntSize.Number?new p.Integer(e.numberValue(),i):new p.Integer(e.bigIntValue(),i);case o.IonTypes.FLOAT:return new _.Float(e.numberValue(),i);case o.IonTypes.DECIMAL:return new f.Decimal(e.decimalValue(),i);case o.IonTypes.TIMESTAMP:return new g.Timestamp(e.timestampValue(),i);case o.IonTypes.SYMBOL:return new m.Symbol(e.stringValue(),i);case o.IonTypes.STRING:return new s.dom.String(e.stringValue(),i);case o.IonTypes.CLOB:return new h.Clob(e.byteValue(),i);case o.IonTypes.BLOB:return new c.Blob(e.byteValue(),i);case o.IonTypes.LIST:return n=(r=e).annotations(),new d.List(I(r),n);case o.IonTypes.SEXP:return n=(r=e).annotations(),new b.SExpression(I(r),n);case o.IonTypes.STRUCT:return function(e){var t=new Map,r=e.annotations();e.stepIn();for(;e.next();)t.set(e.fieldName(),w(e));return e.stepOut(),new v.Struct(t.entries(),r)}(e);default:throw new Error("Unrecognized IonType '".concat(t,"' found."))}}function I(e){var t=[];for(e.stepIn();e.next();)t.push(w(e));return e.stepOut(),t}r.loadAll=function(e){for(var t=T(e),r=[];t.next();)r.push(w(t));return r},r.load=function(e){return null===(e=T(e)).type()&&e.next(),null===e.type()?null:w(e)};var S=e("./Value");Object.defineProperty(r,"Value",{enumerable:!0,get:function(){return S.Value}});var C=e("./Null");Object.defineProperty(r,"Null",{enumerable:!0,get:function(){return C.Null}});var E=e("./Boolean");Object.defineProperty(r,"Boolean",{enumerable:!0,get:function(){return E.Boolean}});var k=e("./Integer");Object.defineProperty(r,"Integer",{enumerable:!0,get:function(){return k.Integer}});var O=e("./Float");Object.defineProperty(r,"Float",{enumerable:!0,get:function(){return O.Float}});var A=e("./Decimal");Object.defineProperty(r,"Decimal",{enumerable:!0,get:function(){return A.Decimal}});var N=e("./Timestamp");Object.defineProperty(r,"Timestamp",{enumerable:!0,get:function(){return N.Timestamp}});var R=e("./String");Object.defineProperty(r,"String",{enumerable:!0,get:function(){return R.String}});var L=e("./Symbol");Object.defineProperty(r,"Symbol",{enumerable:!0,get:function(){return L.Symbol}});var B=e("./Blob");Object.defineProperty(r,"Blob",{enumerable:!0,get:function(){return B.Blob}});var D=e("./Clob");Object.defineProperty(r,"Clob",{enumerable:!0,get:function(){return D.Clob}});var U=e("./Struct");Object.defineProperty(r,"Struct",{enumerable:!0,get:function(){return U.Struct}});var V=e("./List");Object.defineProperty(r,"List",{enumerable:!0,get:function(){return V.List}});var M=e("./SExpression");Object.defineProperty(r,"SExpression",{enumerable:!0,get:function(){return M.SExpression}})},{"../Ion":4,"../IonBinaryReader":6,"../IonTextReader":24,"./Blob":34,"./Boolean":35,"./Clob":36,"./Decimal":37,"./Float":38,"./Integer":40,"./List":42,"./Null":44,"./SExpression":45,"./String":47,"./Struct":48,"./Symbol":49,"./Timestamp":50,"./Value":51}],53:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("@babel/runtime/helpers/classCallCheck")),i=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),s=n(e("@babel/runtime/helpers/getPrototypeOf")),e=n(e("@babel/runtime/helpers/wrapNativeSuper"));function u(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,s.default)(r);return t=n?(e=(0,s.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,t)}}Object.defineProperty(r,"__esModule",{value:!0});e=function(e){(0,i.default)(s,e);var a=u(s);function s(e,t,r,n){var i;return(0,o.default)(this,s),(i=a.call(this)).type=e,i.index=r,i.message=t,i.eventstream=n,i}return s}((r.EventStreamError=void 0,e.default)(Error));r.EventStreamError=e},{"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,"@babel/runtime/helpers/wrapNativeSuper":83}],54:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),u=n(e("@babel/runtime/helpers/inherits")),a=n(e("@babel/runtime/helpers/possibleConstructorReturn")),i=n(e("@babel/runtime/helpers/getPrototypeOf")),l=n(e("@babel/runtime/helpers/classCallCheck")),c=n(e("@babel/runtime/helpers/createClass"));function h(r){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var e,t=(0,i.default)(r);return t=n?(e=(0,i.default)(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),(0,a.default)(this,t)}}n=function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(r,"__esModule",{value:!0}),r.IonEventFactory=r.IonEventType=void 0;var f,_=n(e("jsbi")),p=e("../ComparisonResult"),d=e("../ComparisonResult"),o=e("../IonBinaryWriter"),y=e("../IonLocalSymbolTable"),b=e("../IonTextWriter"),v=e("../IonTypes"),m=e("../IonUnicode"),g=e("../IonWriteable");(e=f=r.IonEventType||(r.IonEventType={}))[e.SCALAR=0]="SCALAR",e[e.CONTAINER_START=1]="CONTAINER_START",e[e.CONTAINER_END=2]="CONTAINER_END",e[e.SYMBOL_TABLE=3]="SYMBOL_TABLE",e[e.STREAM_END=4]="STREAM_END";var T=function(){function s(e,t,r,n,i,a){(0,l.default)(this,s),this.eventType=e,this.ionType=t,this.fieldName=r,this.annotations=n,this.depth=i,this.ionValue=a}return(0,c.default)(s,[{key:"write",value:function(e){e.stepIn(v.IonTypes.STRUCT),e.writeFieldName("event_type"),e.writeSymbol(f[this.eventType]),null!==this.ionType&&(e.writeFieldName("ion_type"),e.writeSymbol(this.ionType.name.toUpperCase())),null!==this.fieldName&&void 0!==this.fieldName&&(e.writeFieldName("field_name"),e.stepIn(v.IonTypes.STRUCT),e.writeFieldName("text"),e.writeString(this.fieldName),e.stepOut()),null!==this.annotations&&(e.writeFieldName("annotations"),this.writeAnnotations(e)),this.eventType===f.SCALAR&&this.writeValues(e),e.writeFieldName("depth"),e.writeInt(this.depth),e.stepOut()}},{key:"writeAnnotations",value:function(e){if(void 0!==this.annotations){e.stepIn(v.IonTypes.LIST);for(var t=0;t<this.annotations.length;t++)e.stepIn(v.IonTypes.STRUCT),e.writeFieldName("text"),e.writeString(this.annotations[t]),e.stepOut();e.stepOut()}else e.writeNull(v.IonTypes.LIST)}},{key:"writeSymbolToken",value:function(e,t){e.writeSymbol(t)}},{key:"writeImportDescriptor",value:function(e){e.writeNull(v.IonTypes.STRUCT)}},{key:"writeValues",value:function(e){this.eventType===f.SCALAR&&(e.writeFieldName("value_text"),this.writeTextValue(e),e.writeFieldName("value_binary"),this.writeBinaryValue(e))}},{key:"writeTextValue",value:function(e){var t=new b.TextWriter(new g.Writeable);this.writeIonValue(t),t.close(),e.writeString(m.decodeUtf8(t.getBytes()))}},{key:"writeBinaryValue",value:function(e){var t=new o.BinaryWriter(y.defaultLocalSymbolTable(),new g.Writeable);this.writeIonValue(t),t.close();var r=t.getBytes();e.stepIn(v.IonTypes.LIST);for(var n=0;n<r.length;n++)e.writeInt(r[n]);e.stepOut()}},{key:"equals",value:function(e){return this.compare(e).result==d.ComparisonResultType.EQUAL}},{key:"compare",value:function(e){if(this.eventType!==e.eventType)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Event types don't match");if(this.ionType!==e.ionType)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Ion types don't match "+(null===(t=this.ionType)||void 0===t?void 0:t.name)+" vs. "+(null===(t=e.ionType)||void 0===t?void 0:t.name));if(this.fieldName!==e.fieldName)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Field names don't match "+this.fieldName+" vs. "+e.fieldName);if(this.depth!==e.depth)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Event depths don't match "+this.depth+" vs. "+e.depth);var t=this.annotationCompare(e.annotations);if(t.result===d.ComparisonResultType.NOT_EQUAL)return t;e=this.valueCompare(e);return e.result===d.ComparisonResultType.NOT_EQUAL?e:new p.ComparisonResult(d.ComparisonResultType.EQUAL)}},{key:"annotationCompare",value:function(e){if(this.annotations===e)return new p.ComparisonResult(d.ComparisonResultType.EQUAL);if(this.annotations.length!==e.length)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"annotations length don't match"+this.annotations.length+" vs. "+e.length);for(var t=0;t<this.annotations.length;t++)if(this.annotations[t]!==e[t])return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"annotation value doesn't match"+this.annotations[t]+" vs. "+e[t]);return new p.ComparisonResult(d.ComparisonResultType.EQUAL)}}]),s}(),e=function(){function e(){(0,l.default)(this,e)}return(0,c.default)(e,[{key:"makeEvent",value:function(e,t,r,n,i,a,s){if(a)return new w(e,t,r,i,n);switch(e){case f.SCALAR:case f.CONTAINER_START:switch(t){case v.IonTypes.BOOL:return new S(e,t,r,i,n,s);case v.IonTypes.INT:return new I(e,t,r,i,n,s);case v.IonTypes.FLOAT:return new C(e,t,r,i,n,s);case v.IonTypes.DECIMAL:return new E(e,t,r,i,n,s);case v.IonTypes.SYMBOL:return new k(e,t,r,i,n,s);case v.IonTypes.STRING:return new O(e,t,r,i,n,s);case v.IonTypes.TIMESTAMP:return new A(e,t,r,i,n,s);case v.IonTypes.BLOB:return new N(e,t,r,i,n,s);case v.IonTypes.CLOB:return new R(e,t,r,i,n,s);case v.IonTypes.LIST:return new D(e,t,r,i,n);case v.IonTypes.SEXP:return new U(e,t,r,i,n);case v.IonTypes.STRUCT:return new B(e,t,r,i,n);default:throw new Error("IonType "+t.name+" unexpected.")}case f.SYMBOL_TABLE:throw new Error("symbol tables unsupported.");case f.CONTAINER_END:case f.STREAM_END:return new V(e,n,t)}}}]),e}();r.IonEventFactory=e;var w=function(){(0,u.default)(s,T);var a=h(s);function s(e,t,r,n,i){return(0,l.default)(this,s),a.call(this,e,t,r,n,i,null)}return(0,c.default)(s,[{key:"valueCompare",value:function(e){return e instanceof s&&this.ionValue===e.ionValue?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeNull(null!==this.ionType?this.ionType:v.IonTypes.NULL)}}]),s}(),I=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&_.default.equal(this.ionValue,e.ionValue)?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeInt(this.ionValue)}}]),o}(),S=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&this.ionValue===e.ionValue?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeBoolean(this.ionValue)}}]),o}(),C=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&Object.is(this.ionValue,e.ionValue)?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeFloat64(this.ionValue)}}]),o}(),E=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&this.ionValue.equals(e.ionValue)?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeDecimal(this.ionValue)}}]),o}(),k=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&this.ionValue===e.ionValue?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeSymbol(this.ionValue)}}]),o}(),O=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&this.ionValue===e.ionValue?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeString(this.ionValue)}}]),o}(),A=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){return e instanceof o&&this.ionValue.equals(e.ionValue)?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(e){e.writeTimestamp(this.ionValue)}}]),o}(),N=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){if(!(e instanceof o))return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL);if(this.ionValue.length!==e.ionValue.length)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Blob length don't match");for(var t=0;t<this.ionValue.length;t++)if(this.ionValue[t]!==e.ionValue[t])return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue[t]+" vs. "+e.ionValue[t]);return new p.ComparisonResult(d.ComparisonResultType.EQUAL)}},{key:"writeIonValue",value:function(e){e.writeBlob(this.ionValue)}}]),o}(),R=function(){(0,u.default)(o,T);var s=h(o);function o(e,t,r,n,i,a){return(0,l.default)(this,o),s.call(this,e,t,r,n,i,a)}return(0,c.default)(o,[{key:"valueCompare",value:function(e){if(!(e instanceof o))return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL);if(this.ionValue.length!==e.ionValue.length)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue);for(var t=0;t<this.ionValue.length;t++)if(this.ionValue[t]!==e.ionValue[t])return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue[t]+" vs. "+e.ionValue[t]);return new p.ComparisonResult(d.ComparisonResultType.EQUAL)}},{key:"writeIonValue",value:function(e){e.writeClob(this.ionValue)}}]),o}(),L=function(){(0,u.default)(s,T);var a=h(s);function s(e,t,r,n,i){return(0,l.default)(this,s),a.call(this,e,t,r,n,i,null)}return(0,c.default)(s,[{key:"writeIonValue",value:function(){}}]),s}(),B=function(){(0,u.default)(s,L);var a=h(s);function s(e,t,r,n,i){return(0,l.default)(this,s),a.call(this,e,t,r,n,i)}return(0,c.default)(s,[{key:"valueCompare",value:function(e){if(!(e instanceof s))return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Event types don't match");var t=null==this.ionValue?[]:this.ionValue,e=null==e.ionValue?[]:e.ionValue;return t.length!==e.length?new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Struct length don't match"):this.structsCompare(t,e)}},{key:"structsCompare",value:function(e,t){for(var r=new p.ComparisonResult(d.ComparisonResultType.EQUAL),n=new Array(t.length),i=0;r&&i<e.length;i++){r.result=d.ComparisonResultType.NOT_EQUAL;for(var a=0;r.result==d.ComparisonResultType.NOT_EQUAL&&a<t.length;a++)if(!n[a]){var s=e[i],o=t[a];if((r=s.compare(o)).result==d.ComparisonResultType.EQUAL&&(n[a]=!0),r.result==d.ComparisonResultType.EQUAL&&s.eventType===f.CONTAINER_START){for(var u=0;u<o.ionValue.length;u++)n[u+a+1]=!0;i+=s.ionValue.length}}}for(var l=0;l<n.length;l++)if(!n[l]){r=new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Didn't find matching field for "+t[l].fieldName);break}return r}}]),s}(),D=function(){(0,u.default)(s,L);var a=h(s);function s(e,t,r,n,i){return(0,l.default)(this,s),a.call(this,e,t,r,n,i)}return(0,c.default)(s,[{key:"valueCompare",value:function(e){if(!(e instanceof s))return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Event types don't match");var t=null==this.ionValue?[]:this.ionValue,r=null==e.ionValue?[]:e.ionValue;if(t.length!==r.length)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"List length don't match");for(var n=0;n<t.length;n++){var i=t[n];if(i.compare(r[n]).result==d.ComparisonResultType.NOT_EQUAL)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,i.ionValue+" vs. "+r[n].ionValue,n+1,n+1);i.eventType===f.CONTAINER_START&&(n+=i.ionValue.length)}return new p.ComparisonResult(d.ComparisonResultType.EQUAL)}}]),s}(),U=function(){(0,u.default)(s,L);var a=h(s);function s(e,t,r,n,i){return(0,l.default)(this,s),a.call(this,e,t,r,n,i)}return(0,c.default)(s,[{key:"valueCompare",value:function(e){if(!(e instanceof s))return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"Event types don't match");var t=null==this.ionValue?[]:this.ionValue,r=null==e.ionValue?[]:e.ionValue;if(t.length!==r.length)return new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,"S-expression length don't match");for(var n=0;n<t.length;n++){var i=t[n],a=i.compare(r[n]);if(a.result==d.ComparisonResultType.NOT_EQUAL)return a;i.eventType===f.CONTAINER_START&&(n+=i.ionValue.length)}return new p.ComparisonResult(d.ComparisonResultType.EQUAL)}}]),s}(),V=function(){(0,u.default)(i,T);var n=h(i);function i(e,t,r){return(0,l.default)(this,i),t=e===f.STREAM_END?n.call(this,e,null,null,[],t,void 0):n.call(this,e,r,null,[],t,void 0),(0,a.default)(t)}return(0,c.default)(i,[{key:"valueCompare",value:function(e){return e instanceof i&&this.ionValue===e.ionValue?new p.ComparisonResult(d.ComparisonResultType.EQUAL):new p.ComparisonResult(d.ComparisonResultType.NOT_EQUAL,this.ionValue+" vs. "+e.ionValue)}},{key:"writeIonValue",value:function(){}}]),i}()},{"../ComparisonResult":2,"../IonBinaryWriter":7,"../IonLocalSymbolTable":12,"../IonTextWriter":25,"../IonTypes":28,"../IonUnicode":29,"../IonWriteable":30,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/getPrototypeOf":67,"@babel/runtime/helpers/inherits":68,"@babel/runtime/helpers/interopRequireDefault":69,"@babel/runtime/helpers/possibleConstructorReturn":76,jsbi:84}],55:[function(e,t,r){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),i=n(e("@babel/runtime/helpers/classCallCheck")),a=n(e("@babel/runtime/helpers/createClass"));Object.defineProperty(r,"__esModule",{value:!0}),r.IonEventStream=void 0;var s=e("../ComparisonResult"),o=e("../ComparisonResult"),u=e("../Ion"),l=e("../IonBinaryReader"),c=e("../IonSpan"),h=e("../IonTypes"),f=e("./EventStreamError"),_=e("./IonEvent"),e=function(){function t(e){(0,i.default)(this,t),this.events=[],this.reader=e,this.eventFactory=new _.IonEventFactory,this.isEventStream=!1,this.generateStream()}return(0,a.default)(t,[{key:"writeEventStream",value:function(e){e.writeSymbol("$ion_event_stream");for(var t=0;t<this.events.length;t++)this.events[t].write(e)}},{key:"writeIon",value:function(e){try{for(var t,r=!1,n=0;n<this.events.length;n++)switch(null!==(t=this.events[n]).fieldName&&e.writeFieldName(t.fieldName),t.ionType!=h.IonTypes.SEXP&&t.ionType!=h.IonTypes.LIST||!this.isEmbedded(t)||(r=!0),e.setAnnotations(t.annotations),t.eventType){case _.IonEventType.SCALAR:if(null==t.ionValue)return void e.writeNull(t.ionType);if(r){e.writeString(t.ionValue.toString());break}switch(t.ionType){case h.IonTypes.BOOL:e.writeBoolean(t.ionValue);break;case h.IonTypes.STRING:e.writeString(t.ionValue);break;case h.IonTypes.SYMBOL:e.writeSymbol(t.ionValue);break;case h.IonTypes.INT:e.writeInt(t.ionValue);break;case h.IonTypes.DECIMAL:e.writeDecimal(t.ionValue);break;case h.IonTypes.FLOAT:e.writeFloat64(t.ionValue);break;case h.IonTypes.NULL:e.writeNull(t.ionType);break;case h.IonTypes.TIMESTAMP:e.writeTimestamp(t.ionValue);break;case h.IonTypes.CLOB:e.writeClob(t.ionValue);break;case h.IonTypes.BLOB:e.writeBlob(t.ionValue);break;default:throw new Error("unexpected type: "+t.ionType.name)}break;case _.IonEventType.CONTAINER_START:e.stepIn(t.ionType);break;case _.IonEventType.CONTAINER_END:r=r&&!1,e.stepOut();break;case _.IonEventType.STREAM_END:break;case _.IonEventType.SYMBOL_TABLE:throw new Error("Symboltables unsupported.");default:throw new Error("Unexpected event type: "+t.eventType)}e.close()}catch(e){throw new f.EventStreamError("WRITE",e.message,this.events.length,this.events)}}},{key:"getEvents",value:function(){return this.events}},{key:"equals",value:function(e){return this.compare(e).result==o.ComparisonResultType.EQUAL}},{key:"compare",value:function(e){var t=0,r=0;if(this.events.length!=e.events.length)return new s.ComparisonResult(o.ComparisonResultType.NOT_EQUAL,"The event streams have different lengths");for(;t<this.events.length&&r<e.events.length;){var n=this.events[t],i=e.events[r];if(n.eventType===_.IonEventType.SYMBOL_TABLE&&t++,i.eventType===_.IonEventType.SYMBOL_TABLE&&r++,n.eventType!==_.IonEventType.SYMBOL_TABLE&&i.eventType!==_.IonEventType.SYMBOL_TABLE){switch(n.eventType){case _.IonEventType.SCALAR:var a=n.compare(i);if(a.result==o.ComparisonResultType.NOT_EQUAL)return a.actualIndex=t,a.expectedIndex=r,a;break;case _.IonEventType.CONTAINER_START:a=n.compare(i);if(a.result==o.ComparisonResultType.NOT_EQUAL)return t+=a.actualIndex,r+=a.expectedIndex,a.actualIndex=t,a.expectedIndex=r,a;null!==n.ionValue&&null!==i.ionValue&&(t+=n.ionValue.length,r+=i.ionValue.length);break;case _.IonEventType.CONTAINER_END:case _.IonEventType.STREAM_END:break;default:throw new Error("Unexpected event type: "+n.eventType)}t++,r++}}return new s.ComparisonResult(o.ComparisonResultType.EQUAL)}},{key:"isEmbedded",value:function(e){return"embedded_documents"===e.annotations[0]}},{key:"generateStream",value:function(){try{var e=this.reader.next();if(e===h.IonTypes.SYMBOL&&"$ion_event_stream"===this.reader.stringValue())return this.marshalStream(),void(this.isEventStream=!0);for(var t=[],r=[];;){if(this.reader.isNull())this.events.push(this.eventFactory.makeEvent(_.IonEventType.SCALAR,e,this.reader.fieldName(),this.reader.depth(),this.reader.annotations(),!0,this.reader.value()));else switch(e){case h.IonTypes.LIST:case h.IonTypes.SEXP:case h.IonTypes.STRUCT:var n=this.eventFactory.makeEvent(_.IonEventType.CONTAINER_START,e,this.reader.fieldName(),this.reader.depth(),this.reader.annotations(),!1,null);this.events.push(n),t.push(n),r.push(this.events.length),this.reader.stepIn();break;case null:if(0===this.reader.depth())return void this.events.push(this.eventFactory.makeEvent(_.IonEventType.STREAM_END,h.IonTypes.NULL,null,this.reader.depth(),[],!1,void 0));this.reader.stepOut(),this.endContainer(t.pop(),r.pop());break;default:this.events.push(this.eventFactory.makeEvent(_.IonEventType.SCALAR,e,this.reader.fieldName(),this.reader.depth(),this.reader.annotations(),!1,this.reader.value()))}e=this.reader.next()}}catch(e){throw new f.EventStreamError("READ",e.message,this.events.length,this.events)}}},{key:"endContainer",value:function(e,t){this.events.push(this.eventFactory.makeEvent(_.IonEventType.CONTAINER_END,e.ionType,null,e.depth,[],!1,null)),e.ionValue=this.events.slice(t,this.events.length)}},{key:"marshalStream",value:function(){this.events=[];for(var e=[],t=[],r=this.reader.next();r===h.IonTypes.STRUCT;r=this.reader.next()){this.reader.stepIn();var n=this.marshalEvent();if(n.eventType===_.IonEventType.CONTAINER_START)e.push(n),this.events.push(n),t.push(this.events.length);else if(n.eventType===_.IonEventType.CONTAINER_END)this.endContainer(e.pop(),t.pop());else{if(n.eventType!==_.IonEventType.SCALAR&&n.eventType!==_.IonEventType.STREAM_END)throw new Error("Unexpected eventType: "+n.eventType);this.events.push(n)}this.reader.stepOut()}}},{key:"marshalEvent",value:function(){for(var e,t={};this.reader.next();){var r=this.reader.fieldName();if(r&&void 0!==t[r])throw new Error("Repeated event field: "+r);switch(r){case"event_type":t[r]=this.reader.stringValue();break;case"ion_type":t[r]=this.parseIonType();break;case"field_name":t[r]=this.resolveFieldNameFromSerializedSymbolToken();break;case"annotations":t[r]=this.parseAnnotations();break;case"value_text":var n=this.reader.stringValue();"$ion_"===n.substr(0,5)&&(n="$ion_user_value::"+n);var i=u.makeReader(n);i.next();n=i.value();t.isNull=i.isNull(),t[r]=n;break;case"value_binary":t[r]=this.parseBinaryValue();break;case"imports":t[r]=this.parseImports();break;case"depth":t[r]=this.reader.numberValue();break;default:throw new Error("Unexpected event field: "+r)}}switch(t.event_type){case"CONTAINER_START":e=_.IonEventType.CONTAINER_START;break;case"STREAM_END":e=_.IonEventType.STREAM_END;break;case"CONTAINER_END":e=_.IonEventType.CONTAINER_END;break;case"SCALAR":e=_.IonEventType.SCALAR;break;case"SYMBOL_TABLE":throw new Error("Symbol tables unsupported")}var a=void 0!==t.field_name?t.field_name:null;t.annotations||(t.annotations=[]);var s=this.eventFactory.makeEvent(e,t.ion_type,a,t.depth,t.annotations,t.isNull,t.value_text);if(e===_.IonEventType.SCALAR){a=this.eventFactory.makeEvent(e,t.ion_type,a,t.depth,t.annotations,t.isNull,t.value_binary);if(!s.equals(a))throw new Error("Text event ".concat(t.value_text," does not equal binary event ").concat(t.value_binary))}return s}},{key:"parseIonType",value:function(){var e=this.reader.stringValue().toLowerCase();switch(e){case"null":return h.IonTypes.NULL;case"bool":return h.IonTypes.BOOL;case"int":return h.IonTypes.INT;case"float":return h.IonTypes.FLOAT;case"decimal":return h.IonTypes.DECIMAL;case"timestamp":return h.IonTypes.TIMESTAMP;case"symbol":return h.IonTypes.SYMBOL;case"string":return h.IonTypes.STRING;case"clob":return h.IonTypes.CLOB;case"blob":return h.IonTypes.BLOB;case"list":return h.IonTypes.LIST;case"sexp":return h.IonTypes.SEXP;case"struct":return h.IonTypes.STRUCT;default:throw new Error("i: "+e)}}},{key:"parseAnnotations",value:function(){var e=[];if(this.reader.isNull())return e;for(this.reader.stepIn();r=this.reader.next();)if(r==h.IonTypes.STRUCT){this.reader.stepIn();var t=this.reader.next();if("text"==this.reader.fieldName()&&t==h.IonTypes.STRING){var r=this.reader.stringValue();null!==r&&e.push(r)}else if("importLocation"==this.reader.fieldName()&&t==h.IonTypes.INT){t=u.defaultLocalSymbolTable().getSymbolText(this.reader.numberValue());if(null==t)throw new Error("Unresolvable symbol ID, symboltokens unsupported.");e.push(t)}this.reader.stepOut()}return this.reader.stepOut(),e}},{key:"parseBinaryValue",value:function(){if(this.reader.isNull())return null;var e=[];this.reader.stepIn();for(var t=this.reader.next();t;)e.push(this.reader.numberValue()),t=this.reader.next();this.reader.stepOut();var r=new Uint8Array(e),r=new l.BinaryReader(new c.BinarySpan(r));return r.next(),r.value()}},{key:"parseImports",value:function(){return this.reader.value()}},{key:"resolveFieldNameFromSerializedSymbolToken",value:function(){if(this.reader.isNull())return null;this.reader.stepIn();var e=this.reader.next();if("text"==this.reader.fieldName()&&e==h.IonTypes.STRING){var t=this.reader.stringValue();if(null!==t)return this.reader.stepOut(),t}else if("importLocation"==this.reader.fieldName()&&e==h.IonTypes.INT){e=u.defaultLocalSymbolTable().getSymbolText(this.reader.numberValue());if(null==e)throw new Error("Unresolvable symbol ID, symboltokens unsupported.");return this.reader.stepOut(),e}return null}}]),t}();r.IonEventStream=e},{"../ComparisonResult":2,"../Ion":4,"../IonBinaryReader":6,"../IonSpan":18,"../IonTypes":28,"./EventStreamError":53,"./IonEvent":54,"@babel/runtime/helpers/classCallCheck":61,"@babel/runtime/helpers/createClass":63,"@babel/runtime/helpers/interopRequireDefault":69}],56:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._assertDefined=r._hasValue=r._sign=void 0,r._sign=function(e){return e<0||0===e&&1/e==-1/0?-1:1},r._hasValue=function(e){return null!=e},r._assertDefined=function(e){if(void 0===e)throw new Error("Expected value to be defined")}},{}],57:[function(e,t,r){t.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}},{}],58:[function(e,t,r){t.exports=function(e){if(Array.isArray(e))return e}},{}],59:[function(e,t,r){var n=e("./arrayLikeToArray");t.exports=function(e){if(Array.isArray(e))return n(e)}},{"./arrayLikeToArray":57}],60:[function(e,t,r){t.exports=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},{}],61:[function(e,t,r){t.exports=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},{}],62:[function(e,n,t){var i=e("./setPrototypeOf"),a=e("./isNativeReflectConstruct");function s(e,t,r){return a()?n.exports=s=Reflect.construct:n.exports=s=function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&i(n,r.prototype),n},s.apply(null,arguments)}n.exports=s},{"./isNativeReflectConstruct":71,"./setPrototypeOf":77}],63:[function(e,t,r){function n(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}t.exports=function(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}},{}],64:[function(e,t,r){t.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},{}],65:[function(e,t,r){function n(){return t.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r,n=arguments[t];for(r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}t.exports=n},{}],66:[function(e,n,t){var i=e("./superPropBase");function a(e,t,r){return"undefined"!=typeof Reflect&&Reflect.get?n.exports=a=Reflect.get:n.exports=a=function(e,t,r){e=i(e,t);if(e){t=Object.getOwnPropertyDescriptor(e,t);return t.get?t.get.call(r):t.value}},a(e,t,r||e)}n.exports=a},{"./superPropBase":79}],67:[function(e,t,r){function n(e){return t.exports=n=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},n(e)}t.exports=n},{}],68:[function(e,t,r){var n=e("./setPrototypeOf");t.exports=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&n(e,t)}},{"./setPrototypeOf":77}],69:[function(e,t,r){t.exports=function(e){return e&&e.__esModule?e:{default:e}}},{}],70:[function(e,t,r){t.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},{}],71:[function(e,t,r){t.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}},{}],72:[function(e,t,r){t.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},{}],73:[function(e,t,r){t.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(n=(s=o.next()).done)&&(r.push(s.value),!t||r.length!==t);n=!0);}catch(e){i=!0,a=e}finally{try{n||null==o.return||o.return()}finally{if(i)throw a}}return r}}},{}],74:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],75:[function(e,t,r){t.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},{}],76:[function(e,t,r){var n=e("@babel/runtime/helpers/typeof"),i=e("./assertThisInitialized");t.exports=function(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?i(e):t}},{"./assertThisInitialized":60,"@babel/runtime/helpers/typeof":81}],77:[function(e,r,t){function n(e,t){return r.exports=n=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},n(e,t)}r.exports=n},{}],78:[function(e,t,r){var n=e("./arrayWithHoles"),i=e("./iterableToArrayLimit"),a=e("./unsupportedIterableToArray"),s=e("./nonIterableRest");t.exports=function(e,t){return n(e)||i(e,t)||a(e,t)||s()}},{"./arrayWithHoles":58,"./iterableToArrayLimit":73,"./nonIterableRest":74,"./unsupportedIterableToArray":82}],79:[function(e,t,r){var n=e("./getPrototypeOf");t.exports=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n(e)););return e}},{"./getPrototypeOf":67}],80:[function(e,t,r){var n=e("./arrayWithoutHoles"),i=e("./iterableToArray"),a=e("./unsupportedIterableToArray"),s=e("./nonIterableSpread");t.exports=function(e){return n(e)||i(e)||a(e)||s()}},{"./arrayWithoutHoles":59,"./iterableToArray":72,"./nonIterableSpread":75,"./unsupportedIterableToArray":82}],81:[function(e,t,r){function n(e){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?t.exports=n=function(e){return typeof e}:t.exports=n=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n(e)}t.exports=n},{}],82:[function(e,t,r){var n=e("./arrayLikeToArray");t.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}}},{"./arrayLikeToArray":57}],83:[function(e,t,r){var n=e("./getPrototypeOf"),i=e("./setPrototypeOf"),a=e("./isNativeFunction"),s=e("./construct");function o(e){var r="function"==typeof Map?new Map:void 0;return t.exports=o=function(e){if(null===e||!a(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return s(e,arguments,n(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},o(e)}t.exports=o},{"./construct":62,"./getPrototypeOf":67,"./isNativeFunction":70,"./setPrototypeOf":77}],84:[function(e,t,r){var n,i;n=this,i=function(){"use strict";function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function e(e,t){for(var r,n=0;n<t.length;n++)(r=t[n]).enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(){return(o=function(){if("undefined"!=typeof Reflect&&Reflect.construct&&!Reflect.construct.sham){if("function"==typeof Proxy)return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch(e){return}}}()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&s(n,r.prototype),n}).apply(null,arguments)}function t(e){var n="function"==typeof Map?new Map:void 0;return(t=function(e){function t(){return o(e,arguments,i(this).constructor)}if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),s(t,e)})(e)}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}var n,u,l,c,h,g,_,f=(n=t(Array),c=Math.abs,h=Math.max,g=Math.imul,_=Math.clz32,function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(C,n),u=C,l=[{key:"BigInt",value:function(e){var t=Math.floor,r=Number.isFinite;if("number"==typeof e){if(0===e)return C.__zero();if((0|e)===e)return e<0?C.__oneDigit(-e,!0):C.__oneDigit(e,!1);if(!r(e)||t(e)!==e)throw new RangeError("The number "+e+" cannot be converted to BigInt because it is not an integer");return C.__fromDouble(e)}if("string"==typeof e){t=C.__fromString(e);if(null===t)throw new SyntaxError("Cannot convert "+e+" to a BigInt");return t}if("boolean"==typeof e)return!0===e?C.__oneDigit(1,!1):C.__zero();if("object"!==a(e))throw new TypeError("Cannot convert "+e+" to a BigInt");if(e.constructor===C)return e;e=C.__toPrimitive(e);return C.BigInt(e)}},{key:"toNumber",value:function(e){var t=e.length;if(0===t)return 0;if(1===t){var r=e.__unsignedDigit(0);return e.sign?-r:r}var n=e.__digit(t-1),i=_(n),a=32*t-i;if(1024<a)return e.sign?-1/0:1/0;var s=a-1,o=n,r=t-1,a=i+1,n=32===a?0:o<<a;n>>>=12;t=a-12,i=12<=a?0:o<<20+a,a=20+a;0<t&&0<r&&(r--,n|=(o=e.__digit(r))>>>32-t,i=o<<t,a=t),0<a&&0<r&&(r--,i|=(o=e.__digit(r))>>>32-a,a-=32);o=C.__decideRounding(e,a,r,o);if((1===o||0===o&&1==(1&i))&&(0===(i=i+1>>>0)&&(0!=++n>>>20&&(n=0,1023<++s))))return e.sign?-1/0:1/0;e=e.sign?-2147483648:0,s=s+1023<<20;return C.__kBitConversionInts[1]=e|s|n,C.__kBitConversionInts[0]=i,C.__kBitConversionDouble[0]}},{key:"unaryMinus",value:function(e){if(0===e.length)return e;var t=e.__copy();return t.sign=!e.sign,t}},{key:"bitwiseNot",value:function(e){return e.sign?C.__absoluteSubOne(e).__trim():C.__absoluteAddOne(e,!0)}},{key:"exponentiate",value:function(e,t){if(t.sign)throw new RangeError("Exponent must be positive");if(0===t.length)return C.__oneDigit(1,!1);if(0===e.length)return e;if(1===e.length&&1===e.__digit(0))return e.sign&&0==(1&t.__digit(0))?C.unaryMinus(e):e;if(1<t.length)throw new RangeError("BigInt too big");var r=t.__unsignedDigit(0);if(1===r)return e;if(C.__kMaxLengthBits<=r)throw new RangeError("BigInt too big");if(1===e.length&&2===e.__digit(0)){var n=1+(r>>>5),i=new C(n,e.sign&&0!=(1&r));i.__initializeDigits();t=1<<(31&r);return i.__setDigit(n-1,t),i}var a=null,s=e;for(0!=(1&r)&&(a=e),r>>=1;0!==r;r>>=1)s=C.multiply(s,s),0!=(1&r)&&(a=null===a?s:C.multiply(a,s));return a}},{key:"multiply",value:function(e,t){if(0===e.length)return e;if(0===t.length)return t;var r=e.length+t.length;32<=e.__clzmsd()+t.__clzmsd()&&r--;var n=new C(r,e.sign!==t.sign);n.__initializeDigits();for(var i=0;i<e.length;i++)C.__multiplyAccumulate(t,e.__digit(i),n,i);return n.__trim()}},{key:"divide",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(C.__absoluteCompare(e,t)<0)return C.__zero();var r,n=e.sign!==t.sign,i=t.__unsignedDigit(0);if(1===t.length&&i<=65535){if(1===i)return n===e.sign?e:C.unaryMinus(e);r=C.__absoluteDivSmall(e,i,null)}else r=C.__absoluteDivLarge(e,t,!0,!1);return r.sign=n,r.__trim()}},{key:"remainder",value:function(e,t){if(0===t.length)throw new RangeError("Division by zero");if(C.__absoluteCompare(e,t)<0)return e;var r=t.__unsignedDigit(0);if(1===t.length&&r<=65535){if(1===r)return C.__zero();r=C.__absoluteModSmall(e,r);return 0===r?C.__zero():C.__oneDigit(r,e.sign)}var n=C.__absoluteDivLarge(e,t,!1,!0);return n.sign=e.sign,n.__trim()}},{key:"add",value:function(e,t){var r=e.sign;return r===t.sign?C.__absoluteAdd(e,t,r):0<=C.__absoluteCompare(e,t)?C.__absoluteSub(e,t,r):C.__absoluteSub(t,e,!r)}},{key:"subtract",value:function(e,t){var r=e.sign;return r===t.sign?0<=C.__absoluteCompare(e,t)?C.__absoluteSub(e,t,r):C.__absoluteSub(t,e,!r):C.__absoluteAdd(e,t,r)}},{key:"leftShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?C.__rightShiftByAbsolute(e,t):C.__leftShiftByAbsolute(e,t)}},{key:"signedRightShift",value:function(e,t){return 0===t.length||0===e.length?e:t.sign?C.__leftShiftByAbsolute(e,t):C.__rightShiftByAbsolute(e,t)}},{key:"unsignedRightShift",value:function(){throw new TypeError("BigInts have no unsigned right shift; use >> instead")}},{key:"lessThan",value:function(e,t){return C.__compareToBigInt(e,t)<0}},{key:"lessThanOrEqual",value:function(e,t){return C.__compareToBigInt(e,t)<=0}},{key:"greaterThan",value:function(e,t){return 0<C.__compareToBigInt(e,t)}},{key:"greaterThanOrEqual",value:function(e,t){return 0<=C.__compareToBigInt(e,t)}},{key:"equal",value:function(e,t){if(e.sign!==t.sign)return!1;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(e.__digit(r)!==t.__digit(r))return!1;return!0}},{key:"notEqual",value:function(e,t){return!C.equal(e,t)}},{key:"bitwiseAnd",value:function(e,t){if(!e.sign&&!t.sign)return C.__absoluteAnd(e,t).__trim();if(e.sign&&t.sign){var r=h(e.length,t.length)+1,n=C.__absoluteSubOne(e,r),r=C.__absoluteSubOne(t),n=C.__absoluteOr(n,r,n);return C.__absoluteAddOne(n,!0,n).__trim()}return e.sign&&(e=(n=[t,e])[0],t=n[1]),C.__absoluteAndNot(e,C.__absoluteSubOne(t)).__trim()}},{key:"bitwiseXor",value:function(e,t){if(!e.sign&&!t.sign)return C.__absoluteXor(e,t).__trim();if(e.sign&&t.sign){var r=h(e.length,t.length),n=C.__absoluteSubOne(e,r),r=C.__absoluteSubOne(t);return C.__absoluteXor(n,r,n).__trim()}r=h(e.length,t.length)+1;e.sign&&(e=(n=[t,e])[0],t=n[1]);r=C.__absoluteSubOne(t,r),r=C.__absoluteXor(r,e,r);return C.__absoluteAddOne(r,!0,r).__trim()}},{key:"bitwiseOr",value:function(e,t){var r=h(e.length,t.length);if(!e.sign&&!t.sign)return C.__absoluteOr(e,t).__trim();if(e.sign&&t.sign){var n=C.__absoluteSubOne(e,r),i=C.__absoluteSubOne(t),n=C.__absoluteAnd(n,i,n);return C.__absoluteAddOne(n,!0,n).__trim()}e.sign&&(e=(n=[t,e])[0],t=n[1]);r=C.__absoluteSubOne(t,r),r=C.__absoluteAndNot(r,e,r);return C.__absoluteAddOne(r,!0,r).__trim()}},{key:"asIntN",value:function(e,t){if(0===t.length)return t;if(0===e)return C.__zero();if(C.__kMaxLengthBits<=e)return t;var r=e+31>>>5;if(t.length<r)return t;var n=t.__unsignedDigit(r-1),i=1<<(31&e-1);if(t.length===r&&n<i)return t;if((n&i)!=i)return C.__truncateToNBits(e,t);if(!t.sign)return C.__truncateAndSubFromPowerOfTwo(e,t,!0);if(0!=(n&i-1))return C.__truncateAndSubFromPowerOfTwo(e,t,!1);for(var a=r-2;0<=a;a--)if(0!==t.__digit(a))return C.__truncateAndSubFromPowerOfTwo(e,t,!1);return t.length===r&&n===i?t:C.__truncateToNBits(e,t)}},{key:"asUintN",value:function(e,t){if(0===t.length)return t;if(0===e)return C.__zero();if(t.sign){if(C.__kMaxLengthBits<e)throw new RangeError("BigInt too big");return C.__truncateAndSubFromPowerOfTwo(e,t,!1)}if(C.__kMaxLengthBits<=e)return t;var r=e+31>>>5;if(t.length<r)return t;var n=31&e;if(t.length==r){if(0==n)return t;if(0==t.__digit(r-1)>>>n)return t}return C.__truncateToNBits(e,t)}},{key:"ADD",value:function(e,t){if(e=C.__toPrimitive(e),t=C.__toPrimitive(t),"string"==typeof e)return"string"!=typeof t&&(t=t.toString()),e+t;if("string"==typeof t)return e.toString()+t;if(e=C.__toNumeric(e),t=C.__toNumeric(t),C.__isBigInt(e)&&C.__isBigInt(t))return C.add(e,t);if("number"==typeof e&&"number"==typeof t)return e+t;throw new TypeError("Cannot mix BigInt and other types, use explicit conversions")}},{key:"LT",value:function(e,t){return C.__compare(e,t,0)}},{key:"LE",value:function(e,t){return C.__compare(e,t,1)}},{key:"GT",value:function(e,t){return C.__compare(e,t,2)}},{key:"GE",value:function(e,t){return C.__compare(e,t,3)}},{key:"EQ",value:function(e,t){for(;;){if(C.__isBigInt(e))return C.__isBigInt(t)?C.equal(e,t):C.EQ(t,e);if("number"==typeof e){if(C.__isBigInt(t))return C.__equalToNumber(t,e);if("object"!==a(t))return e==t;t=C.__toPrimitive(t)}else if("string"==typeof e){if(C.__isBigInt(t))return null!==(e=C.__fromString(e))&&C.equal(e,t);if("object"!==a(t))return e==t;t=C.__toPrimitive(t)}else if("boolean"==typeof e){if(C.__isBigInt(t))return C.__equalToNumber(t,+e);if("object"!==a(t))return e==t;t=C.__toPrimitive(t)}else if("symbol"===a(e)){if(C.__isBigInt(t))return!1;if("object"!==a(t))return e==t;t=C.__toPrimitive(t)}else{if("object"!==a(e))return e==t;if("object"===a(t)&&t.constructor!==C)return e==t;e=C.__toPrimitive(e)}}}},{key:"NE",value:function(e,t){return!C.EQ(e,t)}},{key:"__zero",value:function(){return new C(0,!1)}},{key:"__oneDigit",value:function(e,t){t=new C(1,t);return t.__setDigit(0,e),t}},{key:"__decideRounding",value:function(e,t,r,n){if(0<t)return-1;if(t<0)i=-t-1;else{if(0===r)return-1;r--,n=e.__digit(r),i=31}var i=1<<i;if(0==(n&i))return-1;if(0!=(n&--i))return 1;for(;0<r;)if(r--,0!==e.__digit(r))return 1;return 0}},{key:"__fromDouble",value:function(e){C.__kBitConversionDouble[0]=e;var t,r=(2047&C.__kBitConversionInts[1]>>>20)-1023,n=1+(r>>>5),i=new C(n,e<0),a=1048575&C.__kBitConversionInts[1]|1048576,s=C.__kBitConversionInts[0],e=31&r,o=0;e<20?(o=32+(r=20-e),t=a>>>r,a=a<<32-r|s>>>r,s<<=32-r):a=20==e?(o=32,t=a,s):(t=a<<(e=e-20)|s>>>(o=32-e),s<<e),i.__setDigit(n-1,t);for(var u=n-2;0<=u;u--)0<o?(o-=32,t=a,a=s):t=0,i.__setDigit(u,t);return i.__trim()}},{key:"__isWhitespace",value:function(e){return!!(e<=13&&9<=e)||(e<=159?32==e:e<=131071?160==e||5760==e:e<=196607?(e&=131071)<=10||40==e||41==e||47==e||95==e||4096==e:65279==e)}},{key:"__fromString",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,r=0,n=e.length,i=0;if(i===n)return C.__zero();for(var a=e.charCodeAt(i);C.__isWhitespace(a);){if(++i===n)return C.__zero();a=e.charCodeAt(i)}if(43===a){if(++i===n)return null;a=e.charCodeAt(i),r=1}else if(45===a){if(++i===n)return null;a=e.charCodeAt(i),r=-1}if(0===t){if(t=10,48===a){if(++i===n)return C.__zero();if(88===(a=e.charCodeAt(i))||120===a){if(t=16,++i===n)return null;a=e.charCodeAt(i)}else if(79===a||111===a){if(t=8,++i===n)return null;a=e.charCodeAt(i)}else if(66===a||98===a){if(t=2,++i===n)return null;a=e.charCodeAt(i)}}}else if(16===t&&48===a){if(++i===n)return C.__zero();if(88===(a=e.charCodeAt(i))||120===a){if(++i===n)return null;a=e.charCodeAt(i)}}for(;48===a;){if(++i===n)return C.__zero();a=e.charCodeAt(i)}var s=n-i,o=C.__kMaxBitsPerChar[t],u=C.__kBitsPerCharTableMultiplier-1;if(1073741824/o<s)return null;var l=new C(31+(o*s+u>>>C.__kBitsPerCharTableShift)>>>5,!1),c=t<10?t:10,h=10<t?t-10:0;if(0==(t&t-1)){o>>=C.__kBitsPerCharTableShift;var f=[],_=[],p=!1;do{for(var d,y=0,b=0;;){if(d=void 0,a-48>>>0<c)d=a-48;else{if(!((32|a)-97>>>0<h)){p=!0;break}d=(32|a)-87}if(b+=o,y=y<<o|d,++i===n){p=!0;break}if(a=e.charCodeAt(i),32<b+o)break}}while(f.push(y),_.push(b),!p);C.__fillFromParts(l,f,_)}else{l.__initializeDigits();var v=!1,m=0;do{for(var g,T=0,w=1;;){if(g=void 0,a-48>>>0<c)g=a-48;else{if(!((32|a)-97>>>0<h)){v=!0;break}g=(32|a)-87}var I=w*t;if(4294967295<I)break;if(w=I,T=T*t+g,m++,++i===n){v=!0;break}a=e.charCodeAt(i)}var S=o*m+(32*C.__kBitsPerCharTableMultiplier-1)>>>C.__kBitsPerCharTableShift+5}while(l.__inplaceMultiplyAdd(w,T,S),!v)}for(;i!==n;){if(!C.__isWhitespace(a))return null;a=e.charCodeAt(i++)}return 0!==r&&10!==t?null:(l.sign=-1===r,l.__trim())}},{key:"__fillFromParts",value:function(e,t,r){for(var n=0,i=0,a=0,s=t.length-1;0<=s;s--){var o=t[s],u=r[s];i|=o<<a,32===(a+=u)?(e.__setDigit(n++,i),i=a=0):32<a&&(e.__setDigit(n++,i),i=o>>>u-(a-=32))}if(0!==i){if(n>=e.length)throw new Error("implementation bug");e.__setDigit(n++,i)}for(;n<e.length;n++)e.__setDigit(n,0)}},{key:"__toStringBasePowerOfTwo",value:function(e,t){var r=e.length,n=t-1,i=n=(15&(n=(51&(n=(85&n>>>1)+(85&n))>>>2)+(51&n))>>>4)+(15&n),a=t-1,n=e.__digit(r-1),t=0|(32*r-_(n)+i-1)/i;if(e.sign&&t++,268435456<t)throw new Error("string too long");for(var s=Array(t),o=t-1,u=0,l=0,c=0;c<r-1;c++){var h=e.__digit(c),f=(u|h<<l)&a;s[o--]=C.__kConversionChars[f];for(f=i-l,u=h>>>f,l=32-f;i<=l;)s[o--]=C.__kConversionChars[u&a],u>>>=i,l-=i}t=(u|n<<l)&a;for(s[o--]=C.__kConversionChars[t],u=n>>>i-l;0!==u;)s[o--]=C.__kConversionChars[u&a],u>>>=i;if(e.sign&&(s[o--]="-"),-1!==o)throw new Error("implementation bug");return s.join("")}},{key:"__toStringGeneric",value:function(e,t,r){var n=e.length;if(0===n)return"";if(1===n){var i=e.__unsignedDigit(0).toString(t);return!1===r&&e.sign&&(i="-"+i),i}var i=32*n-_(e.__digit(n-1)),n=C.__kMaxBitsPerChar[t]-1,i=i*C.__kBitsPerCharTableMultiplier,a=1+(i=0|(i+=n-1)/n)>>1,i=C.exponentiate(C.__oneDigit(t,!1),C.__oneDigit(a,!1)),s=i.__unsignedDigit(0);if(1===i.length&&s<=65535){(c=new C(e.length,!1)).__initializeDigits();for(var o,u=0,l=2*e.length-1;0<=l;l--)o=u<<16|e.__halfDigit(l),c.__setHalfDigit(l,0|o/s),u=0|o%s;h=u.toString(t)}else var i=C.__absoluteDivLarge(e,i,!0,!0),c=i.quotient,i=i.remainder.__trim(),h=C.__toStringGeneric(i,t,!0);c.__trim();for(t=C.__toStringGeneric(c,t,!0);h.length<a;)h="0"+h;return!1===r&&e.sign&&(t="-"+t),t+h}},{key:"__unequalSign",value:function(e){return e?-1:1}},{key:"__absoluteGreater",value:function(e){return e?-1:1}},{key:"__absoluteLess",value:function(e){return e?1:-1}},{key:"__compareToBigInt",value:function(e,t){var r=e.sign;if(r!==t.sign)return C.__unequalSign(r);t=C.__absoluteCompare(e,t);return 0<t?C.__absoluteGreater(r):t<0?C.__absoluteLess(r):0}},{key:"__compareToNumber",value:function(e,t){if(!0|t){var r=e.sign,n=t<0;if(r!==n)return C.__unequalSign(r);if(0===e.length){if(n)throw new Error("implementation bug");return 0===t?0:-1}if(1<e.length)return C.__absoluteGreater(r);var i=c(t),n=e.__unsignedDigit(0);return i<n?C.__absoluteGreater(r):n<i?C.__absoluteLess(r):0}return C.__compareToDouble(e,t)}},{key:"__compareToDouble",value:function(e,t){if(t!=t)return t;if(t===1/0)return-1;if(t===-1/0)return 1;var r=e.sign;if(r!==t<0)return C.__unequalSign(r);if(0===t)throw new Error("implementation bug: should be handled elsewhere");if(0===e.length)return-1;C.__kBitConversionDouble[0]=t;var n=2047&C.__kBitConversionInts[1]>>>20;if(2047==n)throw new Error("implementation bug: handled elsewhere");var i=n-1023;if(i<0)return C.__absoluteGreater(r);var a=e.length,s=e.__digit(a-1),t=_(s),n=32*a-t,i=1+i;if(n<i)return C.__absoluteLess(r);if(i<n)return C.__absoluteGreater(r);var o=1048576|1048575&C.__kBitConversionInts[1],u=C.__kBitConversionInts[0],t=31-t;if(t!=(n-1)%31)throw new Error("implementation bug");var l,c=0;if(t<20?(c=32+(n=20-t),l=o>>>n,o=o<<32-n|u>>>n,u<<=32-n):o=20==t?(c=32,l=o,u):(l=o<<(t=t-20)|u>>>(c=32-t),u<<t),(l>>>=0)<(s>>>=0))return C.__absoluteGreater(r);if(s<l)return C.__absoluteLess(r);for(var h=a-2;0<=h;h--){0<c?(c-=32,l=o>>>0,o=u,u=0):l=0;var f=e.__unsignedDigit(h);if(l<f)return C.__absoluteGreater(r);if(f<l)return C.__absoluteLess(r)}if(0===o&&0===u)return 0;if(0===c)throw new Error("implementation bug");return C.__absoluteLess(r)}},{key:"__equalToNumber",value:function(e,t){return t|0===t?0===t?0===e.length:1===e.length&&e.sign===t<0&&e.__unsignedDigit(0)===c(t):0===C.__compareToDouble(e,t)}},{key:"__comparisonResultToBool",value:function(e,t){switch(t){case 0:return e<0;case 1:return e<=0;case 2:return 0<e;case 3:return 0<=e}throw new Error("unreachable")}},{key:"__compare",value:function(e,t,r){if(e=C.__toPrimitive(e),t=C.__toPrimitive(t),"string"==typeof e&&"string"==typeof t)switch(r){case 0:return e<t;case 1:return e<=t;case 2:return t<e;case 3:return t<=e}if(C.__isBigInt(e)&&"string"==typeof t)return null!==(t=C.__fromString(t))&&C.__comparisonResultToBool(C.__compareToBigInt(e,t),r);if("string"==typeof e&&C.__isBigInt(t))return null!==(e=C.__fromString(e))&&C.__comparisonResultToBool(C.__compareToBigInt(e,t),r);if(e=C.__toNumeric(e),t=C.__toNumeric(t),C.__isBigInt(e)){if(C.__isBigInt(t))return C.__comparisonResultToBool(C.__compareToBigInt(e,t),r);if("number"!=typeof t)throw new Error("implementation bug");return C.__comparisonResultToBool(C.__compareToNumber(e,t),r)}if("number"!=typeof e)throw new Error("implementation bug");if(C.__isBigInt(t))return C.__comparisonResultToBool(C.__compareToNumber(t,e),2^r);if("number"!=typeof t)throw new Error("implementation bug");return 0===r?e<t:1===r?e<=t:2===r?t<e:3===r?t<=e:void 0}},{key:"__absoluteAdd",value:function(e,t,r){if(e.length<t.length)return C.__absoluteAdd(t,e,r);if(0===e.length)return e;if(0===t.length)return e.sign===r?e:C.unaryMinus(e);var n=e.length;(0===e.__clzmsd()||t.length===e.length&&0===t.__clzmsd())&&n++;for(var i=new C(n,r),a=0,s=0;s<t.length;s++){var o=t.__digit(s),u=e.__digit(s),l=(65535&u)+(65535&o)+a,o=(u>>>16)+(o>>>16)+(l>>>16),a=o>>>16;i.__setDigit(s,65535&l|o<<16)}for(;s<e.length;s++){var c=e.__digit(s),h=(65535&c)+a,c=(c>>>16)+(h>>>16);a=c>>>16,i.__setDigit(s,65535&h|c<<16)}return s<i.length&&i.__setDigit(s,a),i.__trim()}},{key:"__absoluteSub",value:function(e,t,r){if(0===e.length)return e;if(0===t.length)return e.sign===r?e:C.unaryMinus(e);for(var n=new C(e.length,r),i=0,a=0;a<t.length;a++){var s=e.__digit(a),o=t.__digit(a),u=(65535&s)-(65535&o)-i,o=(s>>>16)-(o>>>16)-(i=1&u>>>16);i=1&o>>>16,n.__setDigit(a,65535&u|o<<16)}for(;a<e.length;a++){var l=e.__digit(a),c=(65535&l)-i,l=(l>>>16)-(i=1&c>>>16);i=1&l>>>16,n.__setDigit(a,65535&c|l<<16)}return n.__trim()}},{key:"__absoluteAddOne",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length;null===r?r=new C(n,t):r.sign=t;for(var i=!0,a=0;a<n;a++){var s=e.__digit(a),o=-1===s;i&&(s=0|s+1),i=o,r.__setDigit(a,s)}return i&&r.__setDigitGrow(n,1),r}},{key:"__absoluteSubOne",value:function(e,t){for(var r=e.length,n=new C(t=t||r,!1),i=!0,a=0;a<r;a++){var s=e.__digit(a),o=0===s;i&&(s=0|s-1),i=o,n.__setDigit(a,s)}for(var u=r;u<t;u++)n.__setDigit(u,0);return n}},{key:"__absoluteAnd",value:function(e,t){var r,n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.length,s=t.length,o=s;a<s&&(r=e,n=o=a,e=t,t=r);var u=o;null===i?i=new C(u,!1):u=i.length;for(var l=0;l<o;l++)i.__setDigit(l,e.__digit(l)&t.__digit(l));for(;l<u;l++)i.__setDigit(l,0);return i}},{key:"__absoluteAndNot",value:function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,n=e.length,i=t.length,a=i;n<i&&(a=n);var s=n;null===r?r=new C(s,!1):s=r.length;for(var o=0;o<a;o++)r.__setDigit(o,e.__digit(o)&~t.__digit(o));for(;o<n;o++)r.__setDigit(o,e.__digit(o));for(;o<s;o++)r.__setDigit(o,0);return r}},{key:"__absoluteOr",value:function(e,t){var r,n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.length,s=t.length,o=s;a<s&&(r=e,n=o=a,e=t,a=s,t=r);var u=a;null===i?i=new C(u,!1):u=i.length;for(var l=0;l<o;l++)i.__setDigit(l,e.__digit(l)|t.__digit(l));for(;l<a;l++)i.__setDigit(l,e.__digit(l));for(;l<u;l++)i.__setDigit(l,0);return i}},{key:"__absoluteXor",value:function(e,t){var r,n,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,a=e.length,s=t.length,o=s;a<s&&(r=e,n=o=a,e=t,a=s,t=r);var u=a;null===i?i=new C(u,!1):u=i.length;for(var l=0;l<o;l++)i.__setDigit(l,e.__digit(l)^t.__digit(l));for(;l<a;l++)i.__setDigit(l,e.__digit(l));for(;l<u;l++)i.__setDigit(l,0);return i}},{key:"__absoluteCompare",value:function(e,t){var r=e.length-t.length;if(0!=r)return r;for(var n=e.length-1;0<=n&&e.__digit(n)===t.__digit(n);)n--;return n<0?0:e.__unsignedDigit(n)>t.__unsignedDigit(n)?1:-1}},{key:"__multiplyAccumulate",value:function(e,t,r,n){if(0!==t){for(var i=65535&t,a=t>>>16,s=0,o=0,u=0,l=0;l<e.length;l++,n++){var c=r.__digit(n),h=65535&c,f=c>>>16,_=e.__digit(l),p=65535&_,d=_>>>16,y=g(p,i),_=g(p,a),p=g(d,i),d=g(d,a),s=(o=(_>>>16)+(p>>>16)+(65535&d)+(s=(f+=u+s+((h+=o+(65535&y))>>>16)+(y>>>16)+(65535&_)+(65535&p))>>>16))>>>16;o&=65535,u=d>>>16,c=65535&h|f<<16,r.__setDigit(n,c)}for(;0!==s||0!==o||0!==u;n++){var b=r.__digit(n),v=(65535&b)+o,m=(b>>>16)+(v>>>16)+u+s,o=0,u=0;s=m>>>16,b=65535&v|m<<16,r.__setDigit(n,b)}}}},{key:"__internalMultiplyAdd",value:function(e,t,r,n,i){for(var a=r,s=0,o=0;o<n;o++){var u=e.__digit(o),l=g(65535&u,t),c=(65535&l)+s+a,a=c>>>16,u=g(u>>>16,t),l=(65535&u)+(l>>>16)+a;a=l>>>16,s=u>>>16,i.__setDigit(o,l<<16|65535&c)}if(i.length>n)for(i.__setDigit(n++,a+s);n<i.length;)i.__setDigit(n++,0);else if(0!==a+s)throw new Error("implementation bug")}},{key:"__absoluteDivSmall",value:function(e,t,r){null===r&&(r=new C(e.length,!1));for(var n=0,i=2*e.length-1;0<=i;i-=2){var a=(n<<16|e.__halfDigit(i))>>>0,s=0|a/t,o=0|(a=((n=0|a%t)<<16|e.__halfDigit(i-1))>>>0)/t;n=0|a%t,r.__setDigit(i>>>1,s<<16|o)}return r}},{key:"__absoluteModSmall",value:function(e,t){for(var r=0,n=2*e.length-1;0<=n;n--)r=0|((r<<16|e.__halfDigit(n))>>>0)%t;return r}},{key:"__absoluteDivLarge",value:function(e,t,r,n){var i=t.__halfDigitLength(),a=t.length,s=e.__halfDigitLength()-i,o=null;r&&(o=new C(2+s>>>1,!1)).__initializeDigits();var u=new C(i+2>>>1,!1);u.__initializeDigits();var l=C.__clz16(t.__halfDigit(i-1));0<l&&(t=C.__specialLeftShift(t,l,0));for(var c=C.__specialLeftShift(e,l,1),h=t.__halfDigit(i-1),f=0,_=s;0<=_;_--){var p=65535,d=c.__halfDigit(_+i);if(d!==h)for(var y=(d<<16|c.__halfDigit(_+i-1))>>>0,p=0|y/h,b=0|y%h,v=t.__halfDigit(i-2),m=c.__halfDigit(_+i-2);g(p,v)>>>0>(b<<16|m)>>>0&&(p--,!(65535<(b+=h))););C.__internalMultiplyAdd(t,p,0,a,u);y=c.__inplaceSub(u,_,i+1);0!==y&&(y=c.__inplaceAdd(t,_,i),c.__setHalfDigit(_+i,c.__halfDigit(_+i)+y),p--),r&&(1&_?f=p<<16:o.__setDigit(_>>>1,f|p))}return n?(c.__inplaceRightShift(l),r?{quotient:o,remainder:c}:c):r?o:void 0}},{key:"__clz16",value:function(e){return _(e)-16}},{key:"__specialLeftShift",value:function(e,t,r){var n=e.length,i=new C(n+r,!1);if(0===t){for(var a=0;a<n;a++)i.__setDigit(a,e.__digit(a));return 0<r&&i.__setDigit(n,0),i}for(var s,o=0,u=0;u<n;u++)s=e.__digit(u),i.__setDigit(u,s<<t|o),o=s>>>32-t;return 0<r&&i.__setDigit(n,o),i}},{key:"__leftShiftByAbsolute",value:function(e,t){t=C.__toShiftAmount(t);if(t<0)throw new RangeError("BigInt too big");var r=t>>>5,n=31&t,i=e.length,t=0!=n&&0!=e.__digit(i-1)>>>32-n,a=i+r+(t?1:0),s=new C(a,e.sign);if(0==n){for(var o=0;o<r;o++)s.__setDigit(o,0);for(;o<a;o++)s.__setDigit(o,e.__digit(o-r))}else{for(var u=0,l=0;l<r;l++)s.__setDigit(l,0);for(var c,h=0;h<i;h++)c=e.__digit(h),s.__setDigit(h+r,c<<n|u),u=c>>>32-n;if(t)s.__setDigit(i+r,u);else if(0!==u)throw new Error("implementation bug")}return s.__trim()}},{key:"__rightShiftByAbsolute",value:function(e,t){var r=e.length,n=e.sign,t=C.__toShiftAmount(t);if(t<0)return C.__rightShiftByMaximum(n);var i=t>>>5,a=31&t,t=r-i;if(t<=0)return C.__rightShiftByMaximum(n);var s=!1;if(n)if(0!=(e.__digit(i)&(1<<a)-1))s=!0;else for(var o=0;o<i;o++)if(0!==e.__digit(o)){s=!0;break}s&&0==a&&0==~e.__digit(r-1)&&t++;var u=new C(t,n);if(0==a)for(var l=i;l<r;l++)u.__setDigit(l-i,e.__digit(l));else{for(var c,h=e.__digit(i)>>>a,f=r-i-1,_=0;_<f;_++)c=e.__digit(_+i+1),u.__setDigit(_,c<<32-a|h),h=c>>>a;u.__setDigit(f,h)}return s&&(u=C.__absoluteAddOne(u,!0,u)),u.__trim()}},{key:"__rightShiftByMaximum",value:function(e){return e?C.__oneDigit(1,!0):C.__zero()}},{key:"__toShiftAmount",value:function(e){if(1<e.length)return-1;e=e.__unsignedDigit(0);return C.__kMaxLengthBits<e?-1:e}},{key:"__toPrimitive",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default";if("object"!==a(e))return e;if(e.constructor===C)return e;var r=e[Symbol.toPrimitive];if(r){var n=r(t);if("object"!==a(n))return n;throw new TypeError("Cannot convert object to primitive value")}n=e.valueOf;if(n){var i=n.call(e);if("object"!==a(i))return i}i=e.toString;if(i){e=i.call(e);if("object"!==a(e))return e}throw new TypeError("Cannot convert object to primitive value")}},{key:"__toNumeric",value:function(e){return C.__isBigInt(e)?e:+e}},{key:"__isBigInt",value:function(e){return"object"===a(e)&&e.constructor===C}},{key:"__truncateToNBits",value:function(e,t){for(var r=e+31>>>5,n=new C(r,t.sign),i=r-1,a=0;a<i;a++)n.__setDigit(a,t.__digit(a));r=t.__digit(i);return 0!=(31&e)&&(r=r<<(e=32-(31&e))>>>e),n.__setDigit(i,r),n.__trim()}},{key:"__truncateAndSubFromPowerOfTwo",value:function(e,t,r){for(var n=Math.min,i=e+31>>>5,a=new C(i,r),s=0,o=i-1,u=0,l=n(o,t.length);s<l;s++){var c=t.__digit(s),h=0-(65535&c)-u,c=0-(c>>>16)-(u=1&h>>>16);u=1&c>>>16,a.__setDigit(s,65535&h|c<<16)}for(;s<o;s++)a.__setDigit(s,0|-u);var f,_,n=o<t.length?t.__digit(o):0,e=31&e;return 0==e?f=65535&(_=0-(65535&n)-u)|0-(n>>>16)-(u=1&_>>>16)<<16:(f=65535&(_=(65535&(e=1<<32-(_=32-e)))-(65535&(n=n<<_>>>_))-u)|(e>>>16)-(n>>>16)-(u=1&_>>>16)<<16,f&=e-1),a.__setDigit(o,f),a.__trim()}},{key:"__digitPow",value:function(e,t){for(var r=1;0<t;)1&t&&(r*=e),t>>>=1,e*=e;return r}}],(n=[{key:"toDebugString",value:function(){var e=["BigInt["],t=!0,r=!1,n=void 0;try{for(var i,a=this[Symbol.iterator]();!(t=(i=a.next()).done);t=!0)i=i.value,e.push((i&&(i>>>0).toString(16))+", ")}catch(e){r=!0,n=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw n}}return e.push("]"),e.join("")}},{key:"toString",value:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:10;if(e<2||36<e)throw new RangeError("toString() radix argument must be between 2 and 36");return 0===this.length?"0":0==(e&e-1)?C.__toStringBasePowerOfTwo(this,e):C.__toStringGeneric(this,e,!1)}},{key:"__copy",value:function(){for(var e=new C(this.length,this.sign),t=0;t<this.length;t++)e[t]=this[t];return e}},{key:"__trim",value:function(){for(var e=this.length,t=this[e-1];0===t;)t=this[--e-1],this.pop();return 0===e&&(this.sign=!1),this}},{key:"__initializeDigits",value:function(){for(var e=0;e<this.length;e++)this[e]=0}},{key:"__clzmsd",value:function(){return _(this[this.length-1])}},{key:"__inplaceMultiplyAdd",value:function(e,t,r){r>this.length&&(r=this.length);for(var n=65535&e,i=e>>>16,a=0,s=65535&t,o=t>>>16,u=0;u<r;u++){var l=this.__digit(u),c=65535&l,h=l>>>16,f=g(c,n),_=g(c,i),l=g(h,n),c=g(h,i),h=s+(65535&f),f=o+a+(h>>>16)+(f>>>16)+(65535&_)+(65535&l),a=(s=(_>>>16)+(l>>>16)+(65535&c)+(f>>>16))>>>16;s&=65535,o=c>>>16,this.__setDigit(u,65535&h|f<<16)}if(0!==a||0!==s||0!==o)throw new Error("implementation bug")}},{key:"__inplaceAdd",value:function(e,t,r){for(var n,i=0,a=0;a<r;a++)i=(n=this.__halfDigit(t+a)+e.__halfDigit(a)+i)>>>16,this.__setHalfDigit(t+a,n);return i}},{key:"__inplaceSub",value:function(e,t,r){var n=0;if(1&t){t>>=1;for(var i=this.__digit(t),a=65535&i,s=0;s<r-1>>>1;s++){var o=e.__digit(s),u=(i>>>16)-(65535&o)-n,n=1&u>>>16;this.__setDigit(t+s,u<<16|65535&a),n=1&(a=(65535&(i=this.__digit(t+s+1)))-(o>>>16)-n)>>>16}var l=e.__digit(s),c=(i>>>16)-(65535&l)-n;if(n=1&c>>>16,this.__setDigit(t+s,c<<16|65535&a),t+s+1>=this.length)throw new RangeError("out of bounds");0==(1&r)&&(n=1&(a=(65535&(i=this.__digit(t+s+1)))-(l>>>16)-n)>>>16,this.__setDigit(t+e.length,4294901760&i|65535&a))}else{t>>=1;for(var h=0;h<e.length-1;h++){var f=this.__digit(t+h),_=e.__digit(h),p=(65535&f)-(65535&_)-n,_=(f>>>16)-(_>>>16)-(n=1&p>>>16);n=1&_>>>16,this.__setDigit(t+h,_<<16|65535&p)}var d=this.__digit(t+h),y=e.__digit(h),c=(65535&d)-(65535&y)-n;n=1&c>>>16;l=0;0==(1&r)&&(n=1&(l=(d>>>16)-(y>>>16)-n)>>>16),this.__setDigit(t+h,l<<16|65535&c)}return n}},{key:"__inplaceRightShift",value:function(e){if(0!==e){for(var t,r=this.__digit(0)>>>e,n=this.length-1,i=0;i<n;i++)t=this.__digit(i+1),this.__setDigit(i,t<<32-e|r),r=t>>>e;this.__setDigit(n,r)}}},{key:"__digit",value:function(e){return this[e]}},{key:"__unsignedDigit",value:function(e){return this[e]>>>0}},{key:"__setDigit",value:function(e,t){this[e]=0|t}},{key:"__setDigitGrow",value:function(e,t){this[e]=0|t}},{key:"__halfDigitLength",value:function(){var e=this.length;return this.__unsignedDigit(e-1)<=65535?2*e-1:2*e}},{key:"__halfDigit",value:function(e){return 65535&this[e>>>1]>>>((1&e)<<4)}},{key:"__setHalfDigit",value:function(e,t){var r=e>>>1,n=this.__digit(r),t=1&e?65535&n|t<<16:4294901760&n|65535&t;this.__setDigit(r,t)}}])&&e(u.prototype,n),l&&e(u,l),C);function C(e,t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,C),C.__kMaxLength<e)throw new RangeError("Maximum BigInt size exceeded");return(e=r(this,i(C).call(this,e))).sign=t,e}return f.__kMaxLength=33554432,f.__kMaxLengthBits=f.__kMaxLength<<5,f.__kMaxBitsPerChar=[0,0,32,51,64,75,83,90,96,102,107,111,115,119,122,126,128,131,134,136,139,141,143,145,147,149,151,153,154,156,158,159,160,162,163,165,166],f.__kBitsPerCharTableShift=5,f.__kBitsPerCharTableMultiplier=1<<f.__kBitsPerCharTableShift,f.__kConversionChars=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],f.__kBitConversionBuffer=new ArrayBuffer(8),f.__kBitConversionDouble=new Float64Array(f.__kBitConversionBuffer),f.__kBitConversionInts=new Int32Array(f.__kBitConversionBuffer),f},"object"==typeof r&&void 0!==t?t.exports=i():(n=n||self).JSBI=i()},{}]},{},[4])(4)});